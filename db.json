{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"source/images/alipay.png","path":"images/alipay.png","modified":1,"renderable":0},{"_id":"source/images/wechat.png","path":"images/wechat.png","modified":1,"renderable":0},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","path":"css/noscript.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","path":"js/comments-buttons.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","path":"js/comments.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/config.js","path":"js/config.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","path":"js/pjax.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","path":"js/schedule.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/addtoany.js","path":"js/third-party/addtoany.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","path":"js/third-party/fancybox.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","path":"js/third-party/pace.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","path":"js/third-party/quicklink.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","path":"js/third-party/analytics/baidu-analytics.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","path":"js/third-party/analytics/google-analytics.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","path":"js/third-party/analytics/growingio.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","path":"js/third-party/analytics/matomo.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","path":"js/third-party/chat/chatra.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","path":"js/third-party/chat/tidio.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","path":"js/third-party/comments/changyan.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","path":"js/third-party/comments/disqus.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","path":"js/third-party/comments/disqusjs.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","path":"js/third-party/comments/gitalk.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","path":"js/third-party/comments/isso.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","path":"js/third-party/comments/livere.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","path":"js/third-party/comments/utterances.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","path":"js/third-party/math/katex.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","path":"js/third-party/math/mathjax.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","path":"js/third-party/search/algolia-search.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","path":"js/third-party/search/local-search.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","path":"js/third-party/statistics/firestore.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","path":"js/third-party/statistics/lean-analytics.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","path":"js/third-party/tags/mermaid.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","path":"js/third-party/tags/pdf.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/wavedrom.js","path":"js/third-party/tags/wavedrom.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/404/index.md","hash":"b1e4a86b2de4b3bed9a4f60be954b27b0e242233","modified":1697708051393},{"_id":"source/archives/index.md","hash":"e63c23a0226c3002f32f399a5b3cf19b4b641752","modified":1697706133376},{"_id":"source/categories/index.md","hash":"ffc022418310656814b0206206b01814f0e60ca1","modified":1697706133376},{"_id":"source/about/me.md","hash":"71f0c57cb0d8573e004bccaf414cdce07f0072bc","modified":1698026115636},{"_id":"source/docs/index.md","hash":"2ae3ac4f3137b318639170e02b7669c4ca24e528","modified":1697708346128},{"_id":"source/schedule/index.md","hash":"07fa856837db976496b9ceae93296a9218696856","modified":1697706133383},{"_id":"source/tags/index.md","hash":"17b35cf9cbcd396d8d6fea8b395e953c224031f4","modified":1698026115665},{"_id":"source/_posts/browser/NetworkHijack.md","hash":"d9007fd9affa08f4098ec9c25a59481db9a1ce18","modified":1698026115561},{"_id":"source/_posts/browser/RestFulAndRPC.md","hash":"b6b0e774ca069bf713793d2ecc15546f20d8607c","modified":1698026115562},{"_id":"source/_posts/browser/tabToTab.md","hash":"697656f8fea00c05c67c855f7b9badafd199e9d2","modified":1698026115566},{"_id":"source/_posts/browser/sessionCookies.md","hash":"e8e076bfca2f690c97616bc4bb9a9e22cc0bf349","modified":1698026115566},{"_id":"source/_posts/browser/mechanismCache.md","hash":"2964d09b2a3eabeebe86c5c5e7c2f1c5f7985e96","modified":1698026115565},{"_id":"source/_posts/browser/renderProcess.md","hash":"652246d0382a3285ee580df34ff56af2625c5a50","modified":1698026115565},{"_id":"source/_posts/hexo/pagination.md","hash":"2f815ed4e9b2ee43ceceba935b315a4075bd9a5e","modified":1698225226017},{"_id":"source/_posts/hexo/rss.md","hash":"3b127023d99dc6f14e9da738a0d9d94d0e603fb8","modified":1698026115567},{"_id":"source/_posts/linux/scp.md","hash":"95c14ef0c2d78a317577cfc464dff74eec482baf","modified":1698991530126},{"_id":"source/_posts/hexo/readmore.md","hash":"af68d52510e28cf10e7b4f13b0712e4da0593620","modified":1698029102608},{"_id":"source/_posts/linux/docker.md","hash":"34d3f1ddbb0a2d513150fe37590f4284b347ce0c","modified":1699005823501},{"_id":"source/_posts/javascript/async-await.md","hash":"96298d75a783359a0c6b4361351a97c17e7d32f6","modified":1698026115568},{"_id":"source/_posts/javascript/varLetConst.md","hash":"df4e144bf89b0682dd13b2822f537e942e67e3ef","modified":1698225226019},{"_id":"source/_posts/javascript/prototype.md","hash":"01162a2c31c5073c497f7e0aa111626e3d766315","modified":1698225226018},{"_id":"source/_posts/javascript/promise.md","hash":"004605de0876b27a3372bf0f87acadadbfe29906","modified":1698026115571},{"_id":"source/_posts/react/fiber.md","hash":"f54577cf27c047da0329a8888d9c09ed402cedbe","modified":1698387306588},{"_id":"source/_posts/react/getServiceTime.md","hash":"d8382d50dc2e610866b64f62d91197d67c450e19","modified":1698026115581},{"_id":"source/_posts/react/fiberImplement.md","hash":"7bd0115da89003dd706c23d98a99cdd45b9a76ef","modified":1698825129264},{"_id":"source/_posts/react/fiberNode.md","hash":"a351442d79e85a09069d514c7f3ff94b4f7be1e4","modified":1698026115579},{"_id":"source/_posts/react/react-synthetic-event.md","hash":"5707a759057a4411efba78b0234766c15c6f98ad","modified":1698026115583},{"_id":"source/_posts/typeScript/useType.md","hash":"fcf6daa5886e31c8d138b8ac81cb1e1f8e88d124","modified":1698028099371},{"_id":"source/_posts/react/fiberWorksHow.md","hash":"0afa95ff857fcedcf43fe81f7b99065c90560015","modified":1698387732355},{"_id":"source/_posts/web/CrossSiteRequestForgeries.md","hash":"f827d0fee14fe1ad5b3600800f50101a0122ad3f","modified":1698026115629},{"_id":"source/_posts/web/CrossSiteScript.md","hash":"5b333574e7f30bc08f178815752f552d0c8537f7","modified":1698026115631},{"_id":"source/_posts/web/WebSecurityQuestion.md","hash":"4dae0c59f836118c384047348a2d31293ea31c5d","modified":1698026115631},{"_id":"source/_posts/web/lazyLoad.md","hash":"2c131eb45cbf11de63f19c18c8d990501ccf82e2","modified":1698026115632},{"_id":"source/_posts/react/reactImplement.md","hash":"82b7c5bad51878450cd77040b44de24a589ec326","modified":1698894387222},{"_id":"source/_posts/web/imagePerform.md","hash":"26871e9f7c5b3457ff64155a4cb4ea01fa25f0bc","modified":1698026115631},{"_id":"source/_posts/web/lodashDebounce.md","hash":"f377bbe54d3dcbc9cc61f8e44c55d24a7038f968","modified":1698026115632},{"_id":"source/_posts/web/webpackPerform.md","hash":"6f25659ef1d9933a23ccf0cfc3e4243322fb9e3d","modified":1698026115634},{"_id":"source/_posts/web/refluxAndRedrawing.md","hash":"74f6d3c1459cd61a13733e9e5e82ac8d683caf27","modified":1698026115633},{"_id":"source/css/_variables/index.styl","hash":"96a2e61dfcfdb56eec82236b1e02b8f0fbfa3798","modified":1697781731783},{"_id":"source/css/_custom/index.styl","hash":"e1e0e449c76ca50611e71a0bf47a6ac8bc6e51c4","modified":1698026115662},{"_id":"source/layout/_custom/sidebar.njk","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1698026115663},{"_id":"source/layout/_custom/archive.njk","hash":"b34bb047cf0f8c6c3f9c0d3f9702ddcd835a910c","modified":1698026553064},{"_id":"source/_posts/web/webpack/hotModuleReplacement.md","hash":"a123ab6c4feb4f69cdb71ee045327f1ccb3c0f2c","modified":1698225226020},{"_id":"source/_posts/web/npm/nrm.md","hash":"a1bf981665ef37548c5b530e4485c8bbed342639","modified":1698219977579},{"_id":"source/layout/_partials/head.njk","hash":"2ce71e4e4c79557a31172d1d071cd348800c61e6","modified":1698026115664},{"_id":"source/_posts/web/npm/nvm.md","hash":"b54618c065e33e9bdad5c90659ea887cde9c612c","modified":1698288865188},{"_id":"source/_posts/react/components/unstate-next/unstated-next-use.md","hash":"48d58b2b8001763aea60d2ad4260f7806b738d39","modified":1698307413636},{"_id":"source/_posts/react/components/unstate-next/unstated-next-implement.md","hash":"b65670b6fa1eec80a8aa9a7b2acb728dd31d24f6","modified":1698307892739},{"_id":"source/_posts/react/components/unstate-next/unstated-next.tsx","hash":"e76c3d48fb20c8e72441096bd44fb76dd66f50ee","modified":1698306147965},{"_id":"source/images/wechat.png","hash":"da793db4762f2168f250202fb51f0c4150ccfb71","modified":1697706133382},{"_id":"source/images/alipay.png","hash":"0bb1d75a9b5d54e8b15cf9fe2e350c2b2fdbde8f","modified":1697706133381},{"_id":"node_modules/hexo-theme-next/_vendors.yml","hash":"bf0142e3cdb4c8da06e9aa971bc0bdf230f5db45","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/package.json","hash":"282d6226513c39ad97793596922da638475a5f66","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/README.md","hash":"d6820f46d03a93bd6dc8b10f49f58aec82ad2b06","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/_config.yml","hash":"dae3faa04648aeb0fd91961843a15122dcc73299","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/de.yml","hash":"79b37df731c29665dee6cd7c90d278e1edfb6e24","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/bn.yml","hash":"564bed75da6e05b11dce6164508f97a15e2fb6c2","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/ar.yml","hash":"7d0f39e8684284a04bb9808521c87fecda8bd131","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/fa.yml","hash":"f3ffc444599f4ac92d62e9ed00a1490ebc277d70","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/eo.yml","hash":"e34bb33ae827bf2f0727088599a73bc64bdad1b0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/en.yml","hash":"ba0fd79a2b1d8db01a034180556061745965ff05","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/es.yml","hash":"dffc63ef42e1266b88e0acf08994fd17a9908d53","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/it.yml","hash":"16d716ecfd748def2f6486ef5a82d0ab7ceb4890","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/id.yml","hash":"929df147f4f17d638b07de5fe52ca13e2549ab1c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/ko.yml","hash":"d345a303310c8a5f4836c3683f3580f861ebd1b4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/fr.yml","hash":"8ac44e58f71a38b7697a2f7f98a6971ed818cb5b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/pt-BR.yml","hash":"76b8576ce228d540a16b1f0af5af2cce20923194","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/ja.yml","hash":"543222bfc516aab6c33e8534f807972ecb8943a9","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/nl.yml","hash":"3cb3687696635ec71b4ca40c5fc43b56acc8843e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/pt.yml","hash":"70de366e10ea584ba039d40d6b35ac97f93454ad","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/ru.yml","hash":"c6d8de0ff7d8148d09993257cfd3b7aca755696c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/si.yml","hash":"2d712eedf3f60d04d36c3108cf5a12e2a52e875c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/th.yml","hash":"6829e998b39f8f143e20b276bb1f62d95a29de58","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/tk.yml","hash":"511726054873f6f8d7ce0d2e803f6731de0ddbe7","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/tr.yml","hash":"a57e4ed089b893a95f5e1ecff17ce625165f4d46","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/uk.yml","hash":"ff537047b4b4c3ca9a7b64fa7f428a9942751eeb","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/vi.yml","hash":"7ebcba5e1128784195e4681dffc9d34c4e873fec","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/zh-CN.yml","hash":"741d7efe0262c9cdc2c648014b55599665d90f6b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/zh-HK.yml","hash":"88ea50eeb9097ab4a87a44981a102d8594feb064","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/languages/zh-TW.yml","hash":"4695c87d6b81b3a23d16ad6513d9eaa925f8d8ad","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_layout.njk","hash":"fc0a45112f2dcfc2642404e8934ea32a793c3bd7","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/category.njk","hash":"c68b7343d0f8145010f93351908cc36ef6212ec1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/post.njk","hash":"0bfce9f133f501a9a4837257e3b862b3bbca15be","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/tag.njk","hash":"9e16ba20c28a7f2c6bc75aa427f48122301a30aa","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/page.njk","hash":"b0660b2af0ac7d3fda14ca4d9f2c9e79ef06c6f9","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/index.njk","hash":"dd63e488ae8cc144335a5958acedf6a16edd7a92","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"12a6631617695504d5cf2a94b57d87bd331bef6f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/docs/ru/README.md","hash":"29c89a41b371f893e56c87ea61adabc444ec58cc","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/CONTRIBUTING.md","hash":"a089f7a8368ab0b7d7b9b7ec0ac3767a453435df","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/docs/zh-CN/README.md","hash":"12a3e96581964a22b474cc739675d52ef93ff932","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_macro/post-collapse.njk","hash":"abda600685ee972e1f6b7a2dcc56f13e2daa6263","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_macro/post.njk","hash":"65e9112fb7eb26d2880db624554a99aca028140b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_macro/sidebar.njk","hash":"547c62ab14d9e05d2d9116db9048a677fbe1fb6d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/comments.njk","hash":"d0c470b0f6690aa217e9ada848c5e2e73fb27c6f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/footer.njk","hash":"6fca18ed4234cf54146c2b3b97b0a6a3606ab33d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/languages.njk","hash":"e43f22198cccb5f6e306b1ce0d28d12a4fb891f8","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/pagination.njk","hash":"bc719473ed5948ab6859449d60b8d36cfc1542b4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/widgets.njk","hash":"e7f988ecddb2159313699a00827a45eca5622bd4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_scripts/index.njk","hash":"6668878a0f9a1166c6a879755f54a08d942da870","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_scripts/vendors.njk","hash":"be80b9fe415a9a09d74c28e230995fd292dfc123","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/addtoany.njk","hash":"ef64c6bfb8540cd874701236b9be47db2496e98e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/fancybox.njk","hash":"844559f46e2ff1c8be234d5763703106e2072a7b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/index.njk","hash":"dfd7cdd6ba89f8c3deabc27726c7a350cadafd11","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/events/index.js","hash":"bd9ea82376cd87df611ea3ae077875c7c595a3df","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/pace.njk","hash":"d7ad5714079f7f65446f880baf14722435ca9061","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/locals.js","hash":"9eb5310664759931287dd28ea39165dfb67f12ed","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/quicklink.njk","hash":"0efed71ed530447718c4ea5bbd5fc8695b0b0d5f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/minify.js","hash":"447db39d17775b2bd18d8af9c9d65b7b8449f751","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/post.js","hash":"fdc8a0af90035e89c3fcb754a0eb189b8951a2bc","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/helpers/engine.js","hash":"d292b78485e8e8055712b0ed6de7cf559c5fbdcd","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/helpers/navigation.js","hash":"78107021101553c3d23e89290f7530b60cf4aa86","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-config.js","hash":"ead37e9167b682f1fa34b5401c3050e18c7ee4a3","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-paginator.js","hash":"e86c764b546e4fbb87970cabc4135a56f9ef9fe1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-url.js","hash":"6281d47c1de98eb38f3aa0f6df29bbb19d412173","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/helpers/next-vendors.js","hash":"957241c28796ff352de7f4cffba7bb289b043586","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/group-pictures.js","hash":"9ed799c329abf830f623689d7e136991256a24ca","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/link-grid.js","hash":"18a483c2d5afd701f6080ffdddf2d1321370336c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/index.js","hash":"1f6aba7820f1fb58b61969485148db21846e1aa9","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/mermaid.js","hash":"4fb01ca650fa8b256b8d48f50dc1b18350bd3d6d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/tabs.js","hash":"0eabe51da40b4b13e16419c8fe02452d9a4fef73","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/wavedrom.js","hash":"b44dfeeb58b41945d469141787f3dbce4b117d08","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_colors.styl","hash":"3c6798c10cc220d83481cb3f3782e78558cee789","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_mixins.styl","hash":"83647a6207333b9609ba90b0946b3fa9548e6381","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/main.styl","hash":"921a58577f411cf4eb5cfd66db0a241f8f88578c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/noscript.styl","hash":"dadc81256afb127b77eac6763d5ee0ec9c77f0a3","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/motion.js","hash":"770d63c26f22705311028a36b52e999cc8a2da82","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/pjax.js","hash":"b03ba78c6916ad2f390d55bc1bc18fafb64b0ebf","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/next-boot.js","hash":"745bd828205da7e5fbd3f860cc3697097630f5f3","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/utils.js","hash":"d775148c2bf20c028622af5609a788167352bf1e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head-unique.njk","hash":"8da52a144060db1a0a088ccb2e6cc8376d1fce70","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/head/head.njk","hash":"5388b157bba4a40b9312f4a45c6678974ccf0837","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/brand.njk","hash":"dd9c4c03e99dfde0dfb8edefcb2c933f2f560efc","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/index.njk","hash":"650de421a8ce4cf685428ffbe0087ff84cbd1356","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu-item.njk","hash":"41a8b0cc16f60fa085cb719d07216d86b6bc4bf8","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/menu.njk","hash":"ee6fc2f111572d3eeab0a2fecbb2d6b3e37ab26b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/header/sub-menu.njk","hash":"06480d8ec5f0b87eafd47f082f07968d7282dd5c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/breadcrumb.njk","hash":"89825e75cc45e9709fa6ba89883669eedaff6f46","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/schedule.njk","hash":"0f4bc8e257da60f77c0c1738607b2bde55810684","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-followme.njk","hash":"c1e33b4889f75acc490af3c8bde0ec56c518ff41","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-copyright.njk","hash":"bfff923526d6800218f08dba6ce0bbf5c17755fd","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-meta.njk","hash":"9fa47e4fb342811da590ee4adc91cf81118c0a39","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-share.njk","hash":"16696990e4ce65fc8db18c4635082a5d5d06ff07","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-reward.njk","hash":"e8b8a7c41e9ec612d0c0c73419529d55d1c16256","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/post/post-related.njk","hash":"e0986db00a0201dd3c60570f964829c84ba5bc68","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/baidu-analytics.njk","hash":"6215309aee028dcb734452beec448c5afb6c63fc","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_partials/sidebar/site-overview.njk","hash":"bc5708e38b6070dff0cab6bf9480971017ce4dda","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/google-analytics.njk","hash":"d89066ff53879693f023e540d59c86137172c529","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/cloudflare.njk","hash":"a5b8297c2c383124dd6a56e256ecc0c0dcf489be","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/growingio.njk","hash":"8afaa772c390bd9d53a5cff9645ac3168334eb98","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/index.njk","hash":"f900306497b133e8b098bd9f4b96b93d1d96c185","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/matomo.njk","hash":"4e89648a8ec8194c5823064cbca39c938a799006","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/microsoft-clarity.njk","hash":"9dc00fcb0a05899f048eace9f9160b78956655d5","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/umami.njk","hash":"3343750682fbd8535e50f8129be3003ad26015b4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/analytics/plausible.njk","hash":"ef9f2bb7110507f1c4336800af9157d5fa9765bd","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/chatra.njk","hash":"d7263fca16d0278ccf1f6aa1c6df6902a6344a09","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/chat/tidio.njk","hash":"02aab857c27fc103216029be991688b12a73a525","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/changyan.njk","hash":"d1c950f8fbdf85e7a3eae5463767a89e858e8220","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqusjs.njk","hash":"0749cb6902baecdfd01f779a2a2513f6d2f6a823","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/disqus.njk","hash":"9375b19a89b7fa9474e558d085af5448d4c5c50c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/gitalk.njk","hash":"b63b7e2ede0d3e66e732fa1a06bda9b19e1e85d4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/livere.njk","hash":"3b13b09fba84ec6000886890a6710736a2b8fafe","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/isso.njk","hash":"64cc3bdaf644fd32c0d0a247f29f5b6904da9af3","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/comments/utterances.njk","hash":"5a94032bc3512a10ad4328fc19ec07b819a1d687","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/katex.njk","hash":"1ebf658690468ea197bdd0416eb7cfa4bd0b083a","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/index.njk","hash":"abf37fc55aa86702118e8fdf5bf2d389dd589aa0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/math/mathjax.njk","hash":"3677017fd4572b158311f5f5d870590ab25184e0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/localsearch.njk","hash":"e45ea3542cdc9ed7ec8447b5e6f35df4c5e82758","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/search/algolia-search.njk","hash":"24ed76e0c72a25ac152820c750a05826a706b6f4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/firestore.njk","hash":"d32ebe94560fa95824478ebbff531bffc47b194d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/lean-analytics.njk","hash":"2446e748cdc102c78492216319ac02148db7daf6","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/mermaid.njk","hash":"099e031f52fb8e47b3af5b2684737efc9e643ee7","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/pdf.njk","hash":"2c81984cc4f5123103460442f6e046f5b6c97127","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/layout/_third-party/tags/wavedrom.njk","hash":"02202bf563fb5eedde2ccad4d6c5b9109d30a703","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/config.js","hash":"9ec51eb61f7fee612ffc5252f489003a0fa301fc","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/injects.js","hash":"d987709267a1bc6e5014411e9983d7c49c102c16","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/navigation.js","hash":"dd3562686d95a50375e6fd32e717ccb0d99c1e3d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/utils.js","hash":"6853e5433e3eaa19ea43fa20b08d956ba4cec4ac","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/events/lib/vendors.js","hash":"464db1e7182e5b9cdbd32e8b5368d5e683b1d9c7","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/changyan.js","hash":"5798cfc8f63665031dd3e01debed051628cec319","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/common.js","hash":"19a402a225c31edffc50f202a14e0d582d3db23e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqus.js","hash":"7f71d6b271ba65ff333d5682e7575711d368c0d2","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/disqusjs.js","hash":"a600a98e7436edeb31e291abca359885567df3c9","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/gitalk.js","hash":"7bb7dafdd7f6bca8464b54e17e552ce7f1714195","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/livere.js","hash":"5a07d8bb52bc1d51a624ca8db54be144566c306b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Mist.styl","hash":"a1418c9dc8c0f1a0ad4ded0f4627c45bf0db1a10","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_variables/Pisces.styl","hash":"48f4f277946a168d0db1ea02804e85c22ca2c7db","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/schemes/muse.js","hash":"ba7ba2c129d1f240c6a22cec3e53f3f22af64b6b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_variables/base.styl","hash":"c4fc4e862d09221265ab1466085f057be2ad2e4d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/fancybox.js","hash":"819f382c561fe5ec23c67cc5fabd63dd1cc22dc1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/addtoany.js","hash":"5276c8f78ee562a8965216dc67d762e59cb4a9f2","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/back-to-top.styl","hash":"7664491542046df9a3887cf40a06e00c0b4086a9","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/index.styl","hash":"2298e521253b3bf376a2412271bc2a7d305051f3","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/index.styl","hash":"8e34df131830d4fa3725e4590a672ba1cf1903e5","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/reading-progress.styl","hash":"90a86045a33c1bae49fc2f6fa1e1b53170c7f77b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/mobile.styl","hash":"1dbf2c339adcd27026c3a2ded32ee91ce08cea26","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/base.styl","hash":"d0a7c99095f490b0d2ed6b1be43d435960798cec","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/pagination.styl","hash":"f4228c759db4a650c8d38745c2edd1dc83c45687","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/toggles.styl","hash":"782ee1fc5e669d3ddbfeb82b73ad7fe561f1a4fb","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Gemini/index.styl","hash":"9dfe853c901bdc52fc950bacdf15484dbb9bf140","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_header.styl","hash":"dafc6d23c80d6fe3e55a7711e94210d2479b629a","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_layout.styl","hash":"fa4fd8f76464e214fb7318f325b13c2b62f4b478","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_menu.styl","hash":"fb550935d374e0bdf1097fce187337dc05cad3e1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/_posts-expand.styl","hash":"485d23ccb42c0d0c8ead7ea8930dd3e06d79a285","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_header.styl","hash":"3fbfab591f280e2e7f3b0265901c93bc4bd137ed","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_layout.styl","hash":"6569a6640f79d247a8235b3914772c0e2f99ead2","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_menu.styl","hash":"82cda756f5b7092df2eee6641b9786df71623bdb","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sidebar.styl","hash":"547c0b5cd5e7ea10d21863d13a6b16579a49396c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_header.styl","hash":"ac2dc0ce9c775a83ef7132ae957b54539366ac9c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_layout.styl","hash":"26a0cba1eee5de45a45a5e14e17707f905390512","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_menu.styl","hash":"72dc825c50357402c342d62ab60fc0c478ab6bc1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sidebar.styl","hash":"91dbf3ca5c3a613d4e30618c120da535bf2d0336","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqus.js","hash":"da361917d65e5dca8362f8cdeb6c8cc0e8316cec","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/disqusjs.js","hash":"1e826dea3f684c0515f362dc1352447a1f0eae71","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/firestore.js","hash":"6e0682bb42170d61b13b786295f45f9c785f8b73","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/statistics/lean-analytics.js","hash":"835cbf54c49ef1327f47df70ff2636ad36b6f57d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/mermaid.js","hash":"6bf821310342c5b87a631873e7650a475a0765f1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/js/third-party/tags/wavedrom.js","hash":"40dcd10df6edf124088c329346e0cc0bdac74ef1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/index.styl","hash":"098d4bd034e986fcf7e443eac4fc2193935461b7","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-followme.styl","hash":"1ecfd64507954810b07a9d21fb5305b5378feda0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-body.styl","hash":"56d5b7ff73f466c9ae54f7204ae899281295d749","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-collapse.styl","hash":"7369928305330c73ae0b3f063a681a8384d8fde4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-footer.styl","hash":"11497388f124bfbb4001495a67d3629a9f618405","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-header.styl","hash":"1191f1bfa5c43e54be8e5b3cc0d802984e161747","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-reward.styl","hash":"04cf4a69537fc14d3b8904f965d283356853847f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/gitalk.styl","hash":"8f094c4ac17e2ab45569b12d157747f9c7333c12","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/post/post-widgets.styl","hash":"ebfba158a0a4af3d1dabcacbc58986664de52140","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/index.styl","hash":"54d12e2c5d9982f7b9e5b23be5133954a8514e9d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/math.styl","hash":"9d995eb4871a6c273d9d51558676a1fdabf69e72","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/disqusjs.styl","hash":"877a537d5b95beb048142e4fdee6f17e6ef9c7bb","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/search.styl","hash":"e72799ce3f9b79753e365b2f8c8ef6c310668d4a","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/github-banner.styl","hash":"38c64c2d04e46848382bfa246a0e9c508294767b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/components/third-party/utterances.styl","hash":"56d90ae0559caa55b75f3c300ff2711f9ed65fc4","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/bookmark.styl","hash":"e74f4bb47a101b014ee2a1783c87f3b87323f9a0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/footer/index.styl","hash":"4e967702cf4c637132346bc74ec8854426f1a68c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-nav.styl","hash":"bf3ad8b4268f763a1e26377681644887694bc009","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/site-meta.styl","hash":"a851e9d5aefcd027c95eeb323860b6da70f202d1","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/index.styl","hash":"6e0d0796ef7fbbb62ffdfb448753a850de82c74f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/header/menu.styl","hash":"bbbc40b03cb299d2a6a568f329b2ce98e1cdc430","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/related-posts.styl","hash":"b05908f04ef95f2d91e6eba89b12411c378d050f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/index.styl","hash":"da5e88f8debd5ac8d7af5c6ba6240df66104955f","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"c6a27beb3f741211a14576026f3b4cfc44cc6407","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"0847400d8579b0a2dd1bf662c78954c10adf2680","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"46eece42510c2c89bb9209afb0262ad76a4b0b36","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"24752d145c6fb8f5344dca9c7b9640839c02e009","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"c2e354a565c8c1b32bd0ceacc972b17982758b67","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/site-state.styl","hash":"26dd0adfcb1db6df29c6090c8d7e9b5a43583fb0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"9a7c71560fbdc936ad4e736fe15063ea3e8a644b","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"f634f94828620e88c3f5a8db56f7944f6ba232b0","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/fold.styl","hash":"42a0b65491ad85438596b3fe0b7f23973e4cef34","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/highlight/index.styl","hash":"138f78147bc6bd6005f329ada34dc79b7625542d","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"d6418fd2bbfba7b73ddf11ec62db9637fdf5d8af","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/index.styl","hash":"22cd37bd5df9972d5074710896aba4424ad5161c","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"7f8a7345e6537a62cd9e9a94c8f7065b541d9b04","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"48d35dba575a7c9e8845b16652e76b7d4a4646de","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/note.styl","hash":"98d4c20aff0f0fcfe1824017fb06ab21ef0d218e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b6654a1d7cf82577d8263faffee8af3ad4a5c0e8","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/tabs.styl","hash":"33dd6ad015dde65fd46f34961655442e8e82b52e","modified":1697705880799},{"_id":"node_modules/hexo-theme-next/source/css/_common/scaffolding/tags/wavedrom.styl","hash":"af113411ad9cca7674177be36af8dd399680834d","modified":1697705880799},{"_id":"public/atom.xml","hash":"2a69c1369fd0fc0e02e93665bf37bc0438fd6148","modified":1699006347863},{"_id":"public/sitemap.xml","hash":"0f3b019d056e88fb7937461521e544cd3589ec5f","modified":1699006347863},{"_id":"public/sitemap.txt","hash":"bbfa1aa51a5516ba700590db5bf7334fee51e37e","modified":1699006347863},{"_id":"public/search.json","hash":"f9051f009de31b9dfc2d56ca5cfd81bc612caaf1","modified":1699006347863},{"_id":"public/404.html","hash":"355f74e471f1e1b2d9dc7c18b17920ca26a18f68","modified":1699006347863},{"_id":"public/about/me.html","hash":"7ce22e9da1d05e2edb62b1f0fcb5c04829099122","modified":1699006347863},{"_id":"public/categories/index.html","hash":"311483b13d7fa22641c1a1441563ab1be9be5281","modified":1699006347863},{"_id":"public/archives/index.html","hash":"72f2ee24412594a731c7be516639642660b92fb7","modified":1699006347863},{"_id":"public/docs/index.html","hash":"63e177aad3dc0592b2a64447586202ce0e4ffa63","modified":1699006347863},{"_id":"public/tags/index.html","hash":"0684dbee3a603e569de81641c7a5ced976de9bea","modified":1699006347863},{"_id":"public/schedule/index.html","hash":"9746cc892ce1c3acc766d0f106f435f0f1d3d371","modified":1699006347863},{"_id":"public/linux/install/docker.html","hash":"910e8fe040898c51cd973020cebd5cb6a1aacf2e","modified":1699006347863},{"_id":"public/linux/install/scp.html","hash":"90d05cca1eab29a5446923880e41816068ec9af4","modified":1699006347863},{"_id":"public/react/implement.html","hash":"2bd7db764ba85ae32630b4bf697b77b9eadfd585","modified":1699006347863},{"_id":"public/react/components/unstate-next-implement.html","hash":"694f07474d5767fffe694e6981abf6f6f6434211","modified":1699006347863},{"_id":"public/react/fiber/works.html","hash":"83989eb17879f136c0f460713ddc51906d55dff5","modified":1699006347863},{"_id":"public/react/components/unstate-next-use.html","hash":"60914099516b8700d11d7beeeb03006b75f3d782","modified":1699006347863},{"_id":"public/web/npm/nvm.html","hash":"f0882e866322b9832db636ff4875e22e0e0f069f","modified":1699006347863},{"_id":"public/web/npm/nrm.html","hash":"7d7168a5f25b5c9dc4aea456e768772b20310421","modified":1699006347863},{"_id":"public/hexo/config/pagination.html","hash":"3e38e312c8c77d6d72b4df2998c0e303d50db01b","modified":1699006347863},{"_id":"public/web/webpack/hot/module/replacement.html","hash":"da53980ef236ddb1055fa74fba21aaf689ebc285","modified":1699006347863},{"_id":"public/javascript/prototype.html","hash":"b575a5f7353a5ba4bf0493960675fb997f11d1a4","modified":1699006347863},{"_id":"public/javascript/var/let/const.html","hash":"b81772941ee0b8ca7e2aa061b038096dbcd81371","modified":1699006347863},{"_id":"public/hexo/config/readmore.html","hash":"6a73438e5e78adc0572fb9cdbe60277caec2ea6a","modified":1699006347863},{"_id":"public/typescript/use/type.html","hash":"9f2d32253c97cd6acf85d50cde598a38e2c17d81","modified":1699006347863},{"_id":"public/browser/session/cookies.html","hash":"50a6916c9f48c0d9182cdc84844978c840f5d6e4","modified":1699006347863},{"_id":"public/browser/network/hijack.html","hash":"e0f27e0ef62ff318596441c7bbe9af42a46ce1f3","modified":1699006347863},{"_id":"public/hexo/config/rss.html","hash":"b99ff8bc7512f74f635f00cf71b2ae3ff41da704","modified":1699006347863},{"_id":"public/web/cross/site/request/forgeries.html","hash":"a15da40545de5a8ab67ab0b58ef5f03548148d84","modified":1699006347863},{"_id":"public/web/cross/site/script.html","hash":"77ca6759ecc707e9a6bbb92ea7e849f58ee2d8fd","modified":1699006347863},{"_id":"public/web/security/question.html","hash":"3203309182b311d3d425f0ea5c08f42bac7c45c3","modified":1699006347863},{"_id":"public/web/lazy/loading.html","hash":"5e15633948774862fcfa34530c22dda9204013e4","modified":1699006347863},{"_id":"public/web/reflux/and/redrawing.html","hash":"256683f1076e6d6244c6378071f271504c2eebf8","modified":1699006347863},{"_id":"public/web/lodash/dubounce.html","hash":"bd6f80953620013aa7ac1b15081aed7bb3980b31","modified":1699006347863},{"_id":"public/web/image/perform.html","hash":"062f68a53bec80421b4e9c214942cbd85bb432b0","modified":1699006347863},{"_id":"public/web/webpack/perform.html","hash":"5b4e466f26cf70a883b978885227c14dcd521bac","modified":1699006347863},{"_id":"public/browser/restful/and/rpc.html","hash":"a8bd6ceaede682ddae8e059e299af35151c771fa","modified":1699006347863},{"_id":"public/browser/render/process.html","hash":"fb0b3467ed71eaa9ae056a98b724e949430d0733","modified":1699006347863},{"_id":"public/javascript/async/await.html","hash":"aeac525597d25269e05c61f9abf9114d6a3ec4e7","modified":1699006347863},{"_id":"public/browser/tab/to/tab.html","hash":"ff09b5db38cbf74f359bfdd4c7517e4aaa77aa2b","modified":1699006347863},{"_id":"public/react/fiber/implement.html","hash":"34134bb8fdbe27acb489355843457026a7a5bd0c","modified":1699006347863},{"_id":"public/browser/mechanism/cache.html","hash":"38cebdeb9dc0e871a80c9e0e3ed20a1c8fde4a9b","modified":1699006347863},{"_id":"public/javascript/promise.html","hash":"aca1ddde8841d7af59119e837eb5d5c7c998c6e4","modified":1699006347863},{"_id":"public/react/fiber.html","hash":"9f2514a3ed6989c6da00c889b1d3fa59b453a802","modified":1699006347863},{"_id":"public/react/fiber/node.html","hash":"f47a9605c0c109079a506c7ee4e907dccea9463e","modified":1699006347863},{"_id":"public/react/service/time.html","hash":"0ada2b9cd1ba3d4e7afc1c492202259d71ebc29e","modified":1699006347863},{"_id":"public/react/synthetic/event.html","hash":"ccb1755c1efbbbd5f8ca71e2376ef05d5a8badca","modified":1699006347863},{"_id":"public/archives/page/2/index.html","hash":"32eaaade62b5e4a7990c1f219661d40a35858694","modified":1699006347863},{"_id":"public/archives/2023/index.html","hash":"d00158698402521c5b2c4f58f6574a5f0f1063dd","modified":1699006347863},{"_id":"public/archives/2023/page/2/index.html","hash":"f5deaeb262b3f77f56f8f66f0f88093fb3502b8d","modified":1699006347863},{"_id":"public/archives/2023/10/index.html","hash":"1edbf37c8fa8c1e0a4df536256519a4546564c4f","modified":1699006347863},{"_id":"public/archives/2023/10/page/2/index.html","hash":"3590f71a55ba9105908c672b43a90d9d26dda6b9","modified":1699006347863},{"_id":"public/archives/2023/11/index.html","hash":"79f419431511920b10b477dc78e53ef98efb0c92","modified":1699006347863},{"_id":"public/categories//index.html","hash":"ecf5a9bd40c93caf2fa5e8cda48c0cb440138238","modified":1699006347863},{"_id":"public/categories///index.html","hash":"930ce85aa20c5f29bc09063876b588ea3398982f","modified":1699006347863},{"_id":"public/categories///index.html","hash":"554249b8aa2f05c251c6b620e31f978a014d99e1","modified":1699006347863},{"_id":"public/categories//Cache/index.html","hash":"0f2613c818a8c30af594983ead79b061edbb1d76","modified":1699006347863},{"_id":"public/categories///index.html","hash":"0352fb3aba652423f3a7ad7db9b0e716b50014cb","modified":1699006347863},{"_id":"public/categories///index.html","hash":"8d0f9bc292d03e1de1cca5444de5f9204ad4322a","modified":1699006347863},{"_id":"public/categories//index.html","hash":"a00cada89b658f09514b96f046d412d631404ac3","modified":1699006347863},{"_id":"public/categories///index.html","hash":"6bbf151cfe35d79c84d6387283ea9008ad01b7fc","modified":1699006347863},{"_id":"public/categories/React/index.html","hash":"167471ecbad25c1bec2d2be5c64f0b8c1f4bb97f","modified":1699006347863},{"_id":"public/categories///index.html","hash":"a3651518ec9fe049b4125988787bbdb9086b596d","modified":1699006347863},{"_id":"public/categories//TypeScript/index.html","hash":"de0a01e9f1164650c7a516faa9894c6d063c3582","modified":1699006347863},{"_id":"public/categories///index.html","hash":"debe505014fc6795bcc81124236afae871c60ecc","modified":1699006347863},{"_id":"public/categories///index.html","hash":"0205928f178cd0e40dd397048995eb453664f540","modified":1699006347863},{"_id":"public/categories//es6/index.html","hash":"71d54652529f3ad7a5e47a029dc11b06226cb112","modified":1699006347863},{"_id":"public/categories//npm/index.html","hash":"2956fd51c62ad2d5739a92bdc5a5283db46ad69a","modified":1699006347863},{"_id":"public/categories//WebPack/index.html","hash":"6e906b19c3f2d60c728925a5291541d377542f6b","modified":1699006347863},{"_id":"public/categories/React/Fiber/index.html","hash":"43feaf9056b6a494265cb05342e40da6352316d3","modified":1699006347863},{"_id":"public/categories///Hexo/index.html","hash":"147974f9027ff5123ba5ddd83165cbd9d11e3964","modified":1699006347863},{"_id":"public/categories/React/components/index.html","hash":"b34c8446f892e7614583804fa4574a501dec85d5","modified":1699006347863},{"_id":"public/categories/React/components/unstate-next/index.html","hash":"5fce794044684e43d1e4be8424b0fbad4f0fc830","modified":1699006347863},{"_id":"public/index.html","hash":"cd6592af7af944639890aed5fdf0e578dfec62e0","modified":1699006347863},{"_id":"public/page/2/index.html","hash":"501c4fff96fdfa2673a4e3c045153bb0eda382a0","modified":1699006347863},{"_id":"public/page/3/index.html","hash":"d5f417f9940dada9776fe49481b85aad661e4e37","modified":1699006347863},{"_id":"public/page/4/index.html","hash":"011546d34d34a58b6bd56997157b57d8f873a34f","modified":1699006347863},{"_id":"public/tags//index.html","hash":"a407e1982d87f6a3e281a2f7d7894e2b2f37858e","modified":1699006347863},{"_id":"public/tags//page/2/index.html","hash":"c3759cf37825f2a5e702b7c8ef0f58fc8334a5a1","modified":1699006347863},{"_id":"public/tags//index.html","hash":"3e6e95819fd560fe617c1308164bcc1021b5bfe4","modified":1699006347863},{"_id":"public/tags//index.html","hash":"e083cb321acd5f70c511581c4cf1f354884d4059","modified":1699006347863},{"_id":"public/tags/RESTful/index.html","hash":"844c557758bcaa14db4840594c5751f607b51b65","modified":1699006347863},{"_id":"public/tags/RPC/index.html","hash":"07356ae5f1f3c79425b1ed3c5bc49134a806f550","modified":1699006347863},{"_id":"public/tags/HTTP/index.html","hash":"90cf8067ea78257b1a2a63c5a0b2552b60f5fdb7","modified":1699006347863},{"_id":"public/tags/GUI/index.html","hash":"aa001e0d727addb5d7de850fc6f37a3665f3f181","modified":1699006347863},{"_id":"public/tags/cookies/index.html","hash":"f21995e455c67fca6acecc1f9f13d01b53d4a27d","modified":1699006347863},{"_id":"public/tags/localStorage/index.html","hash":"392c1441f0bd56f8190e100f999ae3a877dd8a33","modified":1699006347863},{"_id":"public/tags/sessionStorage/index.html","hash":"34f472e3ccb710df4e75c482a4cf658e18b29e83","modified":1699006347863},{"_id":"public/tags/TypeScript/index.html","hash":"0b308633710352765506a8e63649a2e2acbdd435","modified":1699006347863},{"_id":"public/tags//index.html","hash":"2a20693c087e2201e87b6f41a143404e7978d140","modified":1699006347863},{"_id":"public/tags/Hexo/index.html","hash":"79958e9bcb21127b98dd312ddf565baf44ed663e","modified":1699006347863},{"_id":"public/tags/Pagination/index.html","hash":"7657236ee96ba095ef2d90e34925d02bbcc1ac3b","modified":1699006347863},{"_id":"public/tags/ReadMore/index.html","hash":"9a99da01479ab327fd07290f5d64ae143ad1692b","modified":1699006347863},{"_id":"public/tags/RSS/index.html","hash":"3ebb63579df1975a841fbd8d2a4d5a129f579211","modified":1699006347863},{"_id":"public/tags/JavaScript/index.html","hash":"5b0af63e3a1468190b4a4b12e48b9c8aa7549133","modified":1699006347863},{"_id":"public/tags/es6/index.html","hash":"fa258ab0093003f8aacb1a92c2b8f457b883f133","modified":1699006347863},{"_id":"public/tags/react/index.html","hash":"78b612ca165b67e418235dffc215a8b499c5712e","modified":1699006347863},{"_id":"public/tags/Fiber/index.html","hash":"58e6aff87aa3199104540449939526a23bb4e241","modified":1699006347863},{"_id":"public/tags/JSX/index.html","hash":"f5f0bf0b37aa9ec7edd37688a46099b39f819c89","modified":1699006347863},{"_id":"public/tags//index.html","hash":"eb3619f594a24d14af25fe651bfb4d7d2aad7d61","modified":1699006347863},{"_id":"public/tags/CSRF/index.html","hash":"944158eb420e62a5620e8ae6d6eb5b7b301074cd","modified":1699006347863},{"_id":"public/tags/XSS/index.html","hash":"e2d1f865fbf8aa83c1b1e42a12cc0a5b63e478de","modified":1699006347863},{"_id":"public/tags/Webpack/index.html","hash":"8b380fe874e51e264234cfd5be34ccc90eb4bd35","modified":1699006347863},{"_id":"public/tags//index.html","hash":"12a07eab681b02277f0ac39eac8543e28e1423b9","modified":1699006347863},{"_id":"public/tags//index.html","hash":"d7c3917709e6b2d393ed4d7702660c05db645f83","modified":1699006347863},{"_id":"public/tags/npm/index.html","hash":"485c3e7cda59368ecd29037255f62fa9c1a8cb55","modified":1699006347863},{"_id":"public/tags/nrm/index.html","hash":"5c64e168cb7f6593e4a45120316a08d9fa0d750d","modified":1699006347863},{"_id":"public/tags/nvm/index.html","hash":"1d15d725f1d941d61d801c88e45d9f82d6cc2ed2","modified":1699006347863},{"_id":"public/tags/WebPack/index.html","hash":"a73998d531bf658b617999e7f6c4718076ef3e5c","modified":1699006347863},{"_id":"public/tags/unstate-next/index.html","hash":"7ed4f1b0e7fbaf83e66a93b5fefb67533004989b","modified":1699006347863},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1699006347863},{"_id":"public/images/avatar.gif","hash":"2dbc3e2f2d624b2ca1afe6edc2ca17307f1950c8","modified":1699006347863},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1699006347863},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1699006347863},{"_id":"public/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1699006347863},{"_id":"public/images/logo.svg","hash":"099e11ab995a2c8981427a85476d082609848c77","modified":1699006347863},{"_id":"public/images/wechat.png","hash":"da793db4762f2168f250202fb51f0c4150ccfb71","modified":1699006347863},{"_id":"public/css/noscript.css","hash":"4cd5301e478e0e0d4b176740ec314087ec5cb707","modified":1699006347863},{"_id":"public/js/bookmark.js","hash":"0f563ffbf05fad30e854e413ab17ff7164ab5a53","modified":1699006347863},{"_id":"public/js/comments-buttons.js","hash":"1a7344440321713426a0b2ab17e276b5bdf85ade","modified":1699006347863},{"_id":"public/js/comments.js","hash":"66ae2e26ea36a41b72c638ea8b220296638ae952","modified":1699006347863},{"_id":"public/js/config.js","hash":"4c4ebbe3b3f3841a26f9d5af6d0ba8bc6da01c54","modified":1699006347863},{"_id":"public/js/motion.js","hash":"770d63c26f22705311028a36b52e999cc8a2da82","modified":1699006347863},{"_id":"public/js/next-boot.js","hash":"745bd828205da7e5fbd3f860cc3697097630f5f3","modified":1699006347863},{"_id":"public/js/pjax.js","hash":"b03ba78c6916ad2f390d55bc1bc18fafb64b0ebf","modified":1699006347863},{"_id":"public/js/schedule.js","hash":"a1333258726caf84f368a8f8454639c7dc1626bb","modified":1699006347863},{"_id":"public/js/schemes/muse.js","hash":"ba7ba2c129d1f240c6a22cec3e53f3f22af64b6b","modified":1699006347863},{"_id":"public/js/third-party/addtoany.js","hash":"5276c8f78ee562a8965216dc67d762e59cb4a9f2","modified":1699006347863},{"_id":"public/js/third-party/fancybox.js","hash":"819f382c561fe5ec23c67cc5fabd63dd1cc22dc1","modified":1699006347863},{"_id":"public/js/third-party/pace.js","hash":"0ef04218b93561ba4d0ff420d556c3d90a756d32","modified":1699006347863},{"_id":"public/js/third-party/quicklink.js","hash":"eed02e6fced8e5a653077205d4d4d7834ca71472","modified":1699006347863},{"_id":"public/js/third-party/analytics/baidu-analytics.js","hash":"f629acc46ff40c071ffd31b77d5c7616f0fdd778","modified":1699006347863},{"_id":"public/js/third-party/analytics/google-analytics.js","hash":"59684383385059dc4f8a1ff85dbbeb703bcdbcb5","modified":1699006347863},{"_id":"public/js/third-party/analytics/growingio.js","hash":"78dd3cf04082b7dbe6246e404b2aa8e726922402","modified":1699006347863},{"_id":"public/js/third-party/analytics/matomo.js","hash":"c6a25b26a1443caa70b47fd3dfa282271574deb5","modified":1699006347863},{"_id":"public/js/third-party/chat/tidio.js","hash":"b0079f6a4601e06ca6fe46e83a2f5af553e9bc3c","modified":1699006347863},{"_id":"public/js/third-party/chat/chatra.js","hash":"c32180522788c10e51df1803aa6842ef0432ddc9","modified":1699006347863},{"_id":"public/js/third-party/comments/changyan.js","hash":"260d1a77d6a3bb33a579d3e4cca1997003e799b5","modified":1699006347863},{"_id":"public/js/third-party/comments/disqus.js","hash":"da361917d65e5dca8362f8cdeb6c8cc0e8316cec","modified":1699006347863},{"_id":"public/js/third-party/comments/disqusjs.js","hash":"1e826dea3f684c0515f362dc1352447a1f0eae71","modified":1699006347863},{"_id":"public/js/third-party/comments/gitalk.js","hash":"0ec038cf83e8ec067534f16a54041e47a3c1e59a","modified":1699006347863},{"_id":"public/js/third-party/comments/isso.js","hash":"753a873b6f566aff5ba77ca23f91b78eb880ca64","modified":1699006347863},{"_id":"public/js/third-party/comments/livere.js","hash":"2247d88c934c765c43013337860774aaa99f0b31","modified":1699006347863},{"_id":"public/js/third-party/comments/utterances.js","hash":"f67f90eb03e284c82da2b8cf2f1e31801813c16d","modified":1699006347863},{"_id":"public/js/third-party/math/katex.js","hash":"83c54ee536e487a1031783443fe0cb63b1b4767e","modified":1699006347863},{"_id":"public/js/third-party/math/mathjax.js","hash":"5c749b9c1c3bb738122d0516211ecff6496d4907","modified":1699006347863},{"_id":"public/js/third-party/search/algolia-search.js","hash":"fdb7b7cef1a147d897e7f7cd8903b58368ec2062","modified":1699006347863},{"_id":"public/js/third-party/search/local-search.js","hash":"4536cb6d0a9bbaaa86fab3fa0101f6a3a3ec5a76","modified":1699006347863},{"_id":"public/js/third-party/statistics/lean-analytics.js","hash":"835cbf54c49ef1327f47df70ff2636ad36b6f57d","modified":1699006347863},{"_id":"public/js/third-party/statistics/firestore.js","hash":"6e0682bb42170d61b13b786295f45f9c785f8b73","modified":1699006347863},{"_id":"public/js/third-party/tags/pdf.js","hash":"af78c22f0e61c8c8aa8794e585e0d632c6d4fcb8","modified":1699006347863},{"_id":"public/js/third-party/tags/wavedrom.js","hash":"40dcd10df6edf124088c329346e0cc0bdac74ef1","modified":1699006347863},{"_id":"public/js/third-party/tags/mermaid.js","hash":"6bf821310342c5b87a631873e7650a475a0765f1","modified":1699006347863},{"_id":"public/css/main.css","hash":"e4bbf78ae5804cc5e3dd5d25e5be9cb10d0fd004","modified":1699006347863},{"_id":"public/js/utils.js","hash":"d775148c2bf20c028622af5609a788167352bf1e","modified":1699006347863},{"_id":"public/images/alipay.png","hash":"0bb1d75a9b5d54e8b15cf9fe2e350c2b2fdbde8f","modified":1699006347863}],"Category":[{"name":"","_id":"cloigihxb0004rmf31j4ahtln"},{"name":"","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigihxv000mrmf376pnc0m9"},{"name":"","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigihxz000rrmf3eseb4hja"},{"name":"Cache","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigihye000yrmf37z8j2rv3"},{"name":"","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigihyk0014rmf31ml218pj"},{"name":"","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigihyn001brmf3f4c53a7w"},{"name":"","_id":"cloigihyr001hrmf3g5c68ao4"},{"name":"","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigihz0001xrmf3331x0nwt"},{"name":"React","_id":"cloigii08002xrmf348o726uy"},{"name":"","parent":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii0l003lrmf354q1hdlq"},{"name":"TypeScript","parent":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii0n003vrmf30c186d4i"},{"name":"","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigii0p0043rmf3go3f6oqf"},{"name":"","parent":"cloigihxb0004rmf31j4ahtln","_id":"cloigii12004hrmf3e7z1cqi1"},{"name":"es6","parent":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii1z0051rmf3hzxy77yq"},{"name":"npm","parent":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii25005nrmf366qs3j6o"},{"name":"WebPack","parent":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2b0063rmf3a10zdnw1"},{"name":"Fiber","parent":"cloigii08002xrmf348o726uy","_id":"cloigii2j006vrmf32wseai78"},{"name":"Hexo","parent":"cloigii0l003lrmf354q1hdlq","_id":"cloigii2x007irmf3bjel580u"},{"name":"components","parent":"cloigii08002xrmf348o726uy","_id":"cloigii4d007xrmf3afmo5iy0"},{"name":"unstate-next","parent":"cloigii4d007xrmf3afmo5iy0","_id":"cloigii4f0089rmf39w9201fe"}],"Data":[],"Page":[{"title":"404","description":"404  Page not found.","comments":0,"sitemap":false,"_content":"\n```\n                 \n            \n             \n            \n                    \n                         \n\n              \n           \n                 \n                \n            \n                 \n```\n","source":"404/index.md","raw":"---\npermalink: /404.html\ntitle: 404\ndescription: 404  Page not found.\ncomments: false\nsitemap: false\n---\n\n```\n                 \n            \n             \n            \n                    \n                         \n\n              \n           \n                 \n                \n            \n                 \n```\n","date":"2023-10-19T10:03:18.333Z","updated":"2023-10-19T09:34:11.393Z","path":"/404.html","layout":"page","_id":"cloigihwr0000rmf353qz7fsh","content":"<div id=\"vip-container\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">               </span><br><span class=\"line\">          </span><br><span class=\"line\">           </span><br><span class=\"line\">          </span><br><span class=\"line\">                  </span><br><span class=\"line\">                       </span><br><span class=\"line\"></span><br><span class=\"line\">            </span><br><span class=\"line\">         </span><br><span class=\"line\">               </span><br><span class=\"line\">              </span><br><span class=\"line\">          </span><br><span class=\"line\">               </span><br></pre></td></tr></table></figure>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":0,"excerpt":"","more":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">               </span><br><span class=\"line\">          </span><br><span class=\"line\">           </span><br><span class=\"line\">          </span><br><span class=\"line\">                  </span><br><span class=\"line\">                       </span><br><span class=\"line\"></span><br><span class=\"line\">            </span><br><span class=\"line\">         </span><br><span class=\"line\">               </span><br><span class=\"line\">              </span><br><span class=\"line\">          </span><br><span class=\"line\">               </span><br></pre></td></tr></table></figure>\n"},{"title":"","date":"2023-10-21T06:17:15.000Z","_content":"\n------\n\n#### \n\n-   \t\t\t\t\t\t\t\t\t\t\t   27\n-  15594555052                            songsshao@foxmail.com\n-                       \n\n------\n\n#### \n\n-  \t\t\t\t\t          2021.08.16 ~ \n- \t2019.07.03 ~  2021.08.13\n-  \t\t\t\t\t \t\t\t\t\t                    2015.09.01 ~ 2019.06.24\n\n------\n\n#### \n\n- ReactJavaScriptHTMLCSSTypeScriptJava\n- Taro-UIJQueryEchartsAntdThreeJS\n- MobxRedux\n- AxiosAjaxfetch\n- /Webpack UmiJSVite\n- SpringBoot\n- SpringMVCStruct2\n- JdbcMyBatisHibernate\n- DjangoPillowrequestsurllib3bs4Selemiunlxml\n- MySQLOracleRedisSqLitememcache\n- TomcatNginx\n- \n\n------\n\n#### \n\n1.  -  - 20209\n   -  \n   -  ReactumiJs + vite \n\n\n\n2.  -  - 2020620217\n\n   -  \n\n   -  \n\n   - \n\n     +++++\n\n     4session\n\n     oracledb2(as400)MySQL\n\n     \n\n   -  ReactantdSpringSpringBootmybatisSpringSecurityoauth2SqliteMySQLredis\n\n\n\n3.  -  - 2019820205\n\n   -  \n\n   -  \n\n   -  +++ReactantdamapechartsmobxAxioswebpack\n\n     SpringBoot\n\n     5 1sqlitemybatisSQLxmlSQLdao4jxmlsqlXMLScriptBuilderSQLsqlSourcesqlSourceboundSqlsql\n\n     5\n\n     \n\n   -  ReactantdSpringSpringBootmybatisSqliteMySQLredis\n\n\n\n4.  - API+ - 201811-20191\n   -  \n   -  DjangoH5DjangoDjangosetting.py urlviewApijsonwindow 2008 server R2  nginx+fastCGI+Djangohttps\n   -  modeladminviewAPI\n   - JetBrains PyCharmMySQLDreamweaverPhotoshopPythonDjangoHTMLCSSJavaScriptAjaxjQueryBootstrapPython\n5.  - wikipedia3\n   -  Wikipedia 3URL1000WikipediaURLURLrequest2lxml URL\n   -  Wikipedia \n\n------\n\n#### \n\n-  - \n- \n\n------\n\n#### \n\n-  \n-  6 ","source":"about/me.md","raw":"---\ntitle: \npermalink: /about/me.html\ndate: 2023-10-21 14:17:15\n---\n\n------\n\n#### \n\n-   \t\t\t\t\t\t\t\t\t\t\t   27\n-  15594555052                            songsshao@foxmail.com\n-                       \n\n------\n\n#### \n\n-  \t\t\t\t\t          2021.08.16 ~ \n- \t2019.07.03 ~  2021.08.13\n-  \t\t\t\t\t \t\t\t\t\t                    2015.09.01 ~ 2019.06.24\n\n------\n\n#### \n\n- ReactJavaScriptHTMLCSSTypeScriptJava\n- Taro-UIJQueryEchartsAntdThreeJS\n- MobxRedux\n- AxiosAjaxfetch\n- /Webpack UmiJSVite\n- SpringBoot\n- SpringMVCStruct2\n- JdbcMyBatisHibernate\n- DjangoPillowrequestsurllib3bs4Selemiunlxml\n- MySQLOracleRedisSqLitememcache\n- TomcatNginx\n- \n\n------\n\n#### \n\n1.  -  - 20209\n   -  \n   -  ReactumiJs + vite \n\n\n\n2.  -  - 2020620217\n\n   -  \n\n   -  \n\n   - \n\n     +++++\n\n     4session\n\n     oracledb2(as400)MySQL\n\n     \n\n   -  ReactantdSpringSpringBootmybatisSpringSecurityoauth2SqliteMySQLredis\n\n\n\n3.  -  - 2019820205\n\n   -  \n\n   -  \n\n   -  +++ReactantdamapechartsmobxAxioswebpack\n\n     SpringBoot\n\n     5 1sqlitemybatisSQLxmlSQLdao4jxmlsqlXMLScriptBuilderSQLsqlSourcesqlSourceboundSqlsql\n\n     5\n\n     \n\n   -  ReactantdSpringSpringBootmybatisSqliteMySQLredis\n\n\n\n4.  - API+ - 201811-20191\n   -  \n   -  DjangoH5DjangoDjangosetting.py urlviewApijsonwindow 2008 server R2  nginx+fastCGI+Djangohttps\n   -  modeladminviewAPI\n   - JetBrains PyCharmMySQLDreamweaverPhotoshopPythonDjangoHTMLCSSJavaScriptAjaxjQueryBootstrapPython\n5.  - wikipedia3\n   -  Wikipedia 3URL1000WikipediaURLURLrequest2lxml URL\n   -  Wikipedia \n\n------\n\n#### \n\n-  - \n- \n\n------\n\n#### \n\n-  \n-  6 ","updated":"2023-10-23T01:55:15.636Z","path":"/about/me.html","comments":1,"layout":"page","_id":"cloigihx80002rmf365pkhny5","content":"<div id=\"vip-container\"><hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>  \t\t\t\t\t\t\t\t\t\t\t   27</li>\n<li> 15594555052                            <a href=\"mailto:&#115;&#x6f;&#110;&#103;&#115;&#x73;&#x68;&#97;&#111;&#64;&#x66;&#111;&#120;&#109;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#x6d;\">&#115;&#x6f;&#110;&#103;&#115;&#x73;&#x68;&#97;&#111;&#64;&#x66;&#111;&#120;&#109;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#x6d;</a></li>\n<li>                      </li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> \t\t\t\t\t          2021.08.16 ~ </li>\n<li>\t2019.07.03 ~  2021.08.13</li>\n<li> \t\t\t\t\t \t\t\t\t\t                    2015.09.01 ~ 2019.06.24</li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>ReactJavaScriptHTMLCSSTypeScriptJava</li>\n<li>Taro-UIJQueryEchartsAntdThreeJS</li>\n<li>MobxRedux</li>\n<li>AxiosAjaxfetch</li>\n<li>&#x2F;Webpack UmiJSVite</li>\n<li>SpringBoot</li>\n<li>SpringMVCStruct2</li>\n<li>JdbcMyBatisHibernate</li>\n<li>DjangoPillowrequestsurllib3bs4Selemiunlxml</li>\n<li>MySQLOracleRedisSqLitememcache</li>\n<li>TomcatNginx</li>\n<li></li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p> -  - 20209</p>\n<ul>\n<li> </li>\n<li> ReactumiJs + vite </li>\n</ul>\n</li>\n<li><p> -  - 2020620217</p>\n<ul>\n<li><p> </p>\n</li>\n<li><p> </p>\n</li>\n<li><p></p>\n<p>+++++</p>\n<p>4session</p>\n<p>oracledb2(as400)MySQL</p>\n<p></p>\n</li>\n<li><p> ReactantdSpringSpringBootmybatisSpringSecurityoauth2SqliteMySQLredis</p>\n</li>\n</ul>\n</li>\n<li><p> -  - 2019820205</p>\n<ul>\n<li><p> </p>\n</li>\n<li><p> </p>\n</li>\n<li><p> +++ReactantdamapechartsmobxAxioswebpack</p>\n<p>SpringBoot</p>\n<p>5 1sqlitemybatisSQLxmlSQLdao4jxmlsqlXMLScriptBuilderSQLsqlSourcesqlSourceboundSqlsql</p>\n<p>5</p>\n<p></p>\n</li>\n<li><p> ReactantdSpringSpringBootmybatisSqliteMySQLredis</p>\n</li>\n</ul>\n</li>\n<li><p> - API+ - 201811-20191</p>\n<ul>\n<li> </li>\n<li> DjangoH5DjangoDjangosetting.py urlviewApijsonwindow 2008 server R2  nginx+fastCGI+Djangohttps</li>\n<li> modeladminviewAPI</li>\n<li>JetBrains PyCharmMySQLDreamweaverPhotoshopPythonDjangoHTMLCSSJavaScriptAjaxjQueryBootstrapPython</li>\n</ul>\n</li>\n<li><p> - wikipedia3</p>\n<ul>\n<li> Wikipedia 3URL1000WikipediaURLURLrequest2lxml URL</li>\n<li> Wikipedia </li>\n</ul>\n</li>\n</ol>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> - </li>\n<li></li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> </li>\n<li> 6 </li>\n</ul>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":1687,"excerpt":"","more":"<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>  \t\t\t\t\t\t\t\t\t\t\t   27</li>\n<li> 15594555052                            <a href=\"mailto:&#115;&#x6f;&#110;&#103;&#115;&#x73;&#x68;&#97;&#111;&#64;&#x66;&#111;&#120;&#109;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#x6d;\">&#115;&#x6f;&#110;&#103;&#115;&#x73;&#x68;&#97;&#111;&#64;&#x66;&#111;&#120;&#109;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#x6d;</a></li>\n<li>                      </li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> \t\t\t\t\t          2021.08.16 ~ </li>\n<li>\t2019.07.03 ~  2021.08.13</li>\n<li> \t\t\t\t\t \t\t\t\t\t                    2015.09.01 ~ 2019.06.24</li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>ReactJavaScriptHTMLCSSTypeScriptJava</li>\n<li>Taro-UIJQueryEchartsAntdThreeJS</li>\n<li>MobxRedux</li>\n<li>AxiosAjaxfetch</li>\n<li>&#x2F;Webpack UmiJSVite</li>\n<li>SpringBoot</li>\n<li>SpringMVCStruct2</li>\n<li>JdbcMyBatisHibernate</li>\n<li>DjangoPillowrequestsurllib3bs4Selemiunlxml</li>\n<li>MySQLOracleRedisSqLitememcache</li>\n<li>TomcatNginx</li>\n<li></li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p> -  - 20209</p>\n<ul>\n<li> </li>\n<li> ReactumiJs + vite </li>\n</ul>\n</li>\n<li><p> -  - 2020620217</p>\n<ul>\n<li><p> </p>\n</li>\n<li><p> </p>\n</li>\n<li><p></p>\n<p>+++++</p>\n<p>4session</p>\n<p>oracledb2(as400)MySQL</p>\n<p></p>\n</li>\n<li><p> ReactantdSpringSpringBootmybatisSpringSecurityoauth2SqliteMySQLredis</p>\n</li>\n</ul>\n</li>\n<li><p> -  - 2019820205</p>\n<ul>\n<li><p> </p>\n</li>\n<li><p> </p>\n</li>\n<li><p> +++ReactantdamapechartsmobxAxioswebpack</p>\n<p>SpringBoot</p>\n<p>5 1sqlitemybatisSQLxmlSQLdao4jxmlsqlXMLScriptBuilderSQLsqlSourcesqlSourceboundSqlsql</p>\n<p>5</p>\n<p></p>\n</li>\n<li><p> ReactantdSpringSpringBootmybatisSqliteMySQLredis</p>\n</li>\n</ul>\n</li>\n<li><p> - API+ - 201811-20191</p>\n<ul>\n<li> </li>\n<li> DjangoH5DjangoDjangosetting.py urlviewApijsonwindow 2008 server R2  nginx+fastCGI+Djangohttps</li>\n<li> modeladminviewAPI</li>\n<li>JetBrains PyCharmMySQLDreamweaverPhotoshopPythonDjangoHTMLCSSJavaScriptAjaxjQueryBootstrapPython</li>\n</ul>\n</li>\n<li><p> - wikipedia3</p>\n<ul>\n<li> Wikipedia 3URL1000WikipediaURLURLrequest2lxml URL</li>\n<li> Wikipedia </li>\n</ul>\n</li>\n</ol>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> - </li>\n<li></li>\n</ul>\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> </li>\n<li> 6 </li>\n</ul>\n"},{"title":"categories","date":"2023-10-18T13:35:55.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2023-10-18 21:35:55\ntype: categories\n---\n","updated":"2023-10-19T09:02:13.376Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cloigihxf0006rmf39mwcc4ve","content":"<div id=\"vip-container\"></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":0,"excerpt":"","more":""},{"title":"archives","date":"2023-10-18T13:51:12.000Z","type":"archives","_content":"","source":"archives/index.md","raw":"---\ntitle: archives\ndate: 2023-10-18 21:51:12\ntype: archives\n---\n","updated":"2023-10-19T09:02:13.376Z","path":"archives/index.html","comments":1,"layout":"page","_id":"cloigihxh0008rmf382fjhmt4","content":"<div id=\"vip-container\"></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":0,"excerpt":"","more":""},{"title":"docs","date":"2023-10-19T09:39:06.000Z","_content":"","source":"docs/index.md","raw":"---\ntitle: docs\ndate: 2023-10-19 17:39:06\n---\n","updated":"2023-10-19T09:39:06.128Z","path":"docs/index.html","comments":1,"layout":"page","_id":"cloigihxk000armf33v32d5rv","content":"<div id=\"vip-container\"></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":0,"excerpt":"","more":""},{"title":"Tags","date":"2023-10-18T13:33:27.000Z","type":"tags","comments":1,"toc":{"enable":true,"number":false,"max_depth":3},"reward_settings":{"enable":true,"comment":"Buy me a coffee"},"quicklink":{"enable":true,"delay":true,"timeout":3000,"priority":true},"_content":"","source":"tags/index.md","raw":"---\ntitle: Tags\ndate: 2023-10-18 21:33:27\ntype: tags\ncomments: true\ntoc:\n  enable: true\n  number: false\n  max_depth: 3\nreward_settings:\n  enable: true\n  comment: Buy me a coffee\nquicklink:\n  enable: true\n  delay: true\n  timeout: 3000\n  priority: true\n---\n","updated":"2023-10-23T01:55:15.665Z","path":"tags/index.html","layout":"page","_id":"cloigihxp000ermf3fxrg9tth","content":"<div id=\"vip-container\"></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":0,"excerpt":"","more":""},{"title":"schedule","date":"2023-10-18T13:50:02.000Z","type":"schedule","_content":"","source":"schedule/index.md","raw":"---\ntitle: schedule\ndate: 2023-10-18 21:50:02\ntype: schedule\n---\n","updated":"2023-10-19T09:02:13.383Z","path":"schedule/index.html","comments":1,"layout":"page","_id":"cloigihxr000grmf36jqw6jo6","content":"<div id=\"vip-container\"></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":0,"excerpt":"","more":""}],"Post":[{"title":"","date":"2023-10-21T14:06:18.000Z","description":"DNS ","comments":1,"_content":"\n##### \n1. DNS : (dns )\n- DNS :  DNS \n- 302 : ,302 \n2. HTTP : (),http, http ()\n\n##### \nDNS DNShttp HTTPSHTTP \n\n\n\n1. HTTPSHTTPSHTTPSSSL\n\n2. VPNVPNVPN\n\n3. \n\n4. \n\n5. ","source":"_posts/browser/NetworkHijack.md","raw":"---\ntitle: \npermalink: /browser/network/hijack.html\ndate: 2023-10-21 22:06:18\ndescription: DNS \ntag: [, , ]\ncomments: true\ncategories: \n - \n - \n---\n\n##### \n1. DNS : (dns )\n- DNS :  DNS \n- 302 : ,302 \n2. HTTP : (),http, http ()\n\n##### \nDNS DNShttp HTTPSHTTP \n\n\n\n1. HTTPSHTTPSHTTPSSSL\n\n2. VPNVPNVPN\n\n3. \n\n4. \n\n5. ","slug":"browser/NetworkHijack","published":1,"updated":"2023-10-23T01:55:15.561Z","__permalink":"/browser/network/hijack.html","layout":"post","photos":[],"link":"","_id":"cloigihww0001rmf35dcu75b6","content":"<div id=\"vip-container\"><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>DNS : (dns )</li>\n</ol>\n<ul>\n<li>DNS :  DNS </li>\n<li>302 : ,302 </li>\n</ul>\n<ol start=\"2\">\n<li>HTTP : (),http, http ()</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>DNS DNShttp HTTPSHTTP </p>\n<p></p>\n<ol>\n<li><p>HTTPSHTTPSHTTPSSSL</p>\n</li>\n<li><p>VPNVPNVPN</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":580,"excerpt":"","more":"<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>DNS : (dns )</li>\n</ol>\n<ul>\n<li>DNS :  DNS </li>\n<li>302 : ,302 </li>\n</ul>\n<ol start=\"2\">\n<li>HTTP : (),http, http ()</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>DNS DNShttp HTTPSHTTP </p>\n<p></p>\n<ol>\n<li><p>HTTPSHTTPSHTTPSSSL</p>\n</li>\n<li><p>VPNVPNVPN</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n"},{"title":"RESTfulRPC","date":"2023-10-21T06:31:03.000Z","description":"RESTfulHTTPURLHTTPWebWeb","comments":1,"_content":"\n#### RESTful  \n\nRESTfulHTTPURLHTTPWebWeb\n\nRESTfulURIHTTPHTTPGETPOSTPUTDELETE\n\nRESTfulHTTPJSONXMLWeb\n\n#### RPCRemote Procedure Call\n\nRPCRemote Procedure CallRPC\n\nRPCRPC\n\nRPCRPCRPCgRPCApache ThriftDubbo\n\n#### RESTfulRPC\n\n1. ##### \n\n    - RESTfulHTTPURLHTTP\n\n    - RPC\n\n2. ##### \n\n    - RESTfulHTTPGETPOSTPUTDELETEHTTP\n\n    - RPCTCPUDPHTTP\n\n3. ##### \n\n    - RESTfulJSONXML\n\n    - RPC\n\n4. ##### \n\n    - RESTfulHTTP\n\n    - RPC\n\nRESTfulWebRPC","source":"_posts/browser/RestFulAndRPC.md","raw":"---\ntitle: RESTfulRPC\npermalink: /browser/restful/and/rpc.html\ndate: 2023-10-21 14:31:03\ndescription: RESTfulHTTPURLHTTPWebWeb\ntag: [, , RESTful, RPC, HTTP]\ncomments: true\ncategories: \n - \n - \n---\n\n#### RESTful  \n\nRESTfulHTTPURLHTTPWebWeb\n\nRESTfulURIHTTPHTTPGETPOSTPUTDELETE\n\nRESTfulHTTPJSONXMLWeb\n\n#### RPCRemote Procedure Call\n\nRPCRemote Procedure CallRPC\n\nRPCRPC\n\nRPCRPCRPCgRPCApache ThriftDubbo\n\n#### RESTfulRPC\n\n1. ##### \n\n    - RESTfulHTTPURLHTTP\n\n    - RPC\n\n2. ##### \n\n    - RESTfulHTTPGETPOSTPUTDELETEHTTP\n\n    - RPCTCPUDPHTTP\n\n3. ##### \n\n    - RESTfulJSONXML\n\n    - RPC\n\n4. ##### \n\n    - RESTfulHTTP\n\n    - RPC\n\nRESTfulWebRPC","slug":"browser/RestFulAndRPC","published":1,"updated":"2023-10-23T01:55:15.562Z","__permalink":"/browser/restful/and/rpc.html","layout":"post","photos":[],"link":"","_id":"cloigihx90003rmf31m9fcage","content":"<div id=\"vip-container\"><h4 id=\"RESTful\"><a href=\"#RESTful\" class=\"headerlink\" title=\"RESTful\"></a>RESTful</h4><p>RESTfulHTTPURLHTTPWebWeb</p>\n<p>RESTfulURIHTTPHTTPGETPOSTPUTDELETE</p>\n<p>RESTfulHTTPJSONXMLWeb</p>\n<h4 id=\"RPCRemote-Procedure-Call\"><a href=\"#RPCRemote-Procedure-Call\" class=\"headerlink\" title=\"RPCRemote Procedure Call\"></a>RPCRemote Procedure Call</h4><p>RPCRemote Procedure CallRPC</p>\n<p>RPCRPC</p>\n<p>RPCRPCRPCgRPCApache ThriftDubbo</p>\n<h4 id=\"RESTfulRPC\"><a href=\"#RESTfulRPC\" class=\"headerlink\" title=\"RESTfulRPC\"></a>RESTfulRPC</h4><ol>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulHTTPURLHTTP</p>\n</li>\n<li><p>RPC</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulHTTPGETPOSTPUTDELETEHTTP</p>\n</li>\n<li><p>RPCTCPUDPHTTP</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulJSONXML</p>\n</li>\n<li><p>RPC</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulHTTP</p>\n</li>\n<li><p>RPC</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>RESTfulWebRPC</p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":857,"excerpt":"","more":"<h4 id=\"RESTful\"><a href=\"#RESTful\" class=\"headerlink\" title=\"RESTful\"></a>RESTful</h4><p>RESTfulHTTPURLHTTPWebWeb</p>\n<p>RESTfulURIHTTPHTTPGETPOSTPUTDELETE</p>\n<p>RESTfulHTTPJSONXMLWeb</p>\n<h4 id=\"RPCRemote-Procedure-Call\"><a href=\"#RPCRemote-Procedure-Call\" class=\"headerlink\" title=\"RPCRemote Procedure Call\"></a>RPCRemote Procedure Call</h4><p>RPCRemote Procedure CallRPC</p>\n<p>RPCRPC</p>\n<p>RPCRPCRPCgRPCApache ThriftDubbo</p>\n<h4 id=\"RESTfulRPC\"><a href=\"#RESTfulRPC\" class=\"headerlink\" title=\"RESTfulRPC\"></a>RESTfulRPC</h4><ol>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulHTTPURLHTTP</p>\n</li>\n<li><p>RPC</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulHTTPGETPOSTPUTDELETEHTTP</p>\n</li>\n<li><p>RPCTCPUDPHTTP</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulJSONXML</p>\n</li>\n<li><p>RPC</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><p>RESTfulHTTP</p>\n</li>\n<li><p>RPC</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>RESTfulWebRPC</p>\n"},{"title":"","date":"2023-10-20T08:29:38.000Z","description":" 200 response header","comments":1,"_content":"\n### \n\n![](https://pic.imgdb.cn/item/65323b8ec458853aef72a6ad.png)\n\n 200 response header\n\n 200  cache-control  max-ageHTTP1.1 expires \n\n If-None-Match  If-Modified-Since \n\n Etag Etag  304 Etag  200\n\n Etag  If-Modified-Since  304\n\n last-modified 200\n","source":"_posts/browser/mechanismCache.md","raw":"---\ntitle: \npermalink: /browser/mechanism/cache.html\ndate: 2023-10-20 16:29:38\ndescription:  200 response header\ntag: [, ]\ncomments: true\ncategories: \n - \n - \n---\n\n### \n\n![](https://pic.imgdb.cn/item/65323b8ec458853aef72a6ad.png)\n\n 200 response header\n\n 200  cache-control  max-ageHTTP1.1 expires \n\n If-None-Match  If-Modified-Since \n\n Etag Etag  304 Etag  200\n\n Etag  If-Modified-Since  304\n\n last-modified 200\n","slug":"browser/mechanismCache","published":1,"updated":"2023-10-23T01:55:15.565Z","__permalink":"/browser/mechanism/cache.html","layout":"post","photos":[],"link":"","_id":"cloigihxf0007rmf3fuiteblu","content":"<div id=\"vip-container\"><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/65323b8ec458853aef72a6ad.png\" alt=\"\"></p>\n<p> 200 response header</p>\n<p> 200  cache-control  max-ageHTTP1.1 expires </p>\n<p> If-None-Match  If-Modified-Since </p>\n<p> Etag Etag  304 Etag  200</p>\n<p> Etag  If-Modified-Since  304</p>\n<p> last-modified 200</p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":343,"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/65323b8ec458853aef72a6ad.png\" alt=\"\"></p>\n<p> 200 response header</p>\n<p> 200  cache-control  max-ageHTTP1.1 expires </p>\n<p> If-None-Match  If-Modified-Since </p>\n<p> Etag Etag  304 Etag  200</p>\n<p> Etag  If-Modified-Since  304</p>\n<p> last-modified 200</p>\n"},{"title":"","date":"2023-10-20T13:23:26.000Z","description":"GUI  GUI ","comments":1,"_content":"\n#### \n![](https://pic.imgdb.cn/item/6532800ac458853aef6782e0.png)\n##### GUI \nGUI  GUI  HTMLCSSDOM CSSOM\n\n GUI  GUI  Android  UI \n\n\n\n****GUI  JS JS GUIGUI JS \n\n##### JS \nJS  JS Javascript Javascript JS  Tab JS  JS \n\nJavaScript  JavaScript JavaScript  JavaScript \n\n Web Workers JavaScript  JavaScript  JavaScript  JavaScript \n\n****GUI  JS JS \n##### \n JS JS setTimeOut ,AJAX  JS \n\n\n\n- \n\n- \n\n- \n\n**** JS  JS  JS \n\n##### \n JavaScript  setTimeout()  setInterval() \n\n\n\n**** Web Worker \n\n****W3C  HTML 4ms 4ms 4ms\n\n#####  http \n HTTP  JavaScript  JavaScript  HTTP  HTTP \n\nJavaScript  JavaScript  JavaScript \n\n HTTP  JSONP ","source":"_posts/browser/renderProcess.md","raw":"---\ntitle: \npermalink: /browser/render/process.html\ndate: 2023-10-20 21:23:26\ndescription: GUI  GUI \ntag: [, , GUI]\ncomments: true\ncategories: \n - \n - \n---\n\n#### \n![](https://pic.imgdb.cn/item/6532800ac458853aef6782e0.png)\n##### GUI \nGUI  GUI  HTMLCSSDOM CSSOM\n\n GUI  GUI  Android  UI \n\n\n\n****GUI  JS JS GUIGUI JS \n\n##### JS \nJS  JS Javascript Javascript JS  Tab JS  JS \n\nJavaScript  JavaScript JavaScript  JavaScript \n\n Web Workers JavaScript  JavaScript  JavaScript  JavaScript \n\n****GUI  JS JS \n##### \n JS JS setTimeOut ,AJAX  JS \n\n\n\n- \n\n- \n\n- \n\n**** JS  JS  JS \n\n##### \n JavaScript  setTimeout()  setInterval() \n\n\n\n**** Web Worker \n\n****W3C  HTML 4ms 4ms 4ms\n\n#####  http \n HTTP  JavaScript  JavaScript  HTTP  HTTP \n\nJavaScript  JavaScript  JavaScript \n\n HTTP  JSONP ","slug":"browser/renderProcess","published":1,"updated":"2023-10-23T01:55:15.565Z","__permalink":"/browser/render/process.html","layout":"post","photos":[],"link":"","_id":"cloigihxi0009rmf38s7i672f","content":"<div id=\"vip-container\"><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"https://pic.imgdb.cn/item/6532800ac458853aef6782e0.png\" alt=\"\"></p>\n<h5 id=\"GUI-\"><a href=\"#GUI-\" class=\"headerlink\" title=\"GUI \"></a>GUI </h5><p>GUI  GUI  HTMLCSSDOM CSSOM</p>\n<p> GUI  GUI  Android  UI </p>\n<p></p>\n<p><strong></strong>GUI  JS JS GUIGUI JS </p>\n<h5 id=\"JS-\"><a href=\"#JS-\" class=\"headerlink\" title=\"JS \"></a>JS </h5><p>JS  JS Javascript Javascript JS  Tab JS  JS </p>\n<p>JavaScript  JavaScript JavaScript  JavaScript </p>\n<p> Web Workers JavaScript  JavaScript  JavaScript  JavaScript </p>\n<p><strong></strong>GUI  JS JS </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> JS JS setTimeOut ,AJAX  JS </p>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p><strong></strong> JS  JS  JS </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> JavaScript  setTimeout()  setInterval() </p>\n<p></p>\n<p><strong></strong> Web Worker </p>\n<p><strong></strong>W3C  HTML 4ms 4ms 4ms</p>\n<h5 id=\"-http-\"><a href=\"#-http-\" class=\"headerlink\" title=\" http \"></a> http </h5><p> HTTP  JavaScript  JavaScript  HTTP  HTTP </p>\n<p>JavaScript  JavaScript  JavaScript </p>\n<p> HTTP  JSONP </p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/web/security/question.html","/javascript/prototype.html"],"length":1531,"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img src=\"https://pic.imgdb.cn/item/6532800ac458853aef6782e0.png\" alt=\"\"></p>\n<h5 id=\"GUI-\"><a href=\"#GUI-\" class=\"headerlink\" title=\"GUI \"></a>GUI </h5><p>GUI  GUI  HTMLCSSDOM CSSOM</p>\n<p> GUI  GUI  Android  UI </p>\n<p></p>\n<p><strong></strong>GUI  JS JS GUIGUI JS </p>\n<h5 id=\"JS-\"><a href=\"#JS-\" class=\"headerlink\" title=\"JS \"></a>JS </h5><p>JS  JS Javascript Javascript JS  Tab JS  JS </p>\n<p>JavaScript  JavaScript JavaScript  JavaScript </p>\n<p> Web Workers JavaScript  JavaScript  JavaScript  JavaScript </p>\n<p><strong></strong>GUI  JS JS </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> JS JS setTimeOut ,AJAX  JS </p>\n<p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<p><strong></strong> JS  JS  JS </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> JavaScript  setTimeout()  setInterval() </p>\n<p></p>\n<p><strong></strong> Web Worker </p>\n<p><strong></strong>W3C  HTML 4ms 4ms 4ms</p>\n<h5 id=\"-http-\"><a href=\"#-http-\" class=\"headerlink\" title=\" http \"></a> http </h5><p> HTTP  JavaScript  JavaScript  HTTP  HTTP </p>\n<p>JavaScript  JavaScript  JavaScript </p>\n<p> HTTP  JSONP </p>\n"},{"title":"session-cookies  localStoragesessionStorageCookies","date":"2023-10-22T10:06:18.000Z","description":"session-cookies This plugin is used to summarize the browsers three caches localStorage, sessionStorage, Cookies.The plugin is designed to be quick and easy to use. Below is a summary of some apis.","comments":1,"_content":"\n\n# session-cookies\n\n    session-cookies is localStoragesessionStorageCookies\n\n\n <a href=\"https://badge.fury.io/js/session-cookies\"><img src=\"https://badge.fury.io/js/session-cookies.svg\" /></a>\n\n\nsession-cookies This plugin is used to summarize the browser's three caches localStorage, sessionStorage, Cookies.The plugin is designed to be quick and easy to use. Below is a summary of some apis.\n\nsession-cookies  localStoragesessionStorageCookiesAPI\n\n#### API \n\n|     |              |           |           |              |             |\n| :-----: | :------------------: | :---------------: | :---------------: | :------------------: | :-----------------: |\n| cookies |    getCookieList     |     getCookie     |     setCookie     |     removeCookie     |     clearCookie     |\n| session | getAllSessionStorage | getSessionStorage | setSessionStorage | removeSessionStorage | clearSessionStorage |\n|  local  |  getAllLocalStorage  |  getLocalStorage  |  setLocalStorage  |  removeLocalStorage  |  clearLocalStorage  |\n\n\n\n#### \n\n```shell\nnpm i session-cookies\n```\n\n##### Cookies\n\n```ts\nimport { cookies } from 'session-cookies'\n\ncookies.getCookieList(); // JSON\ncookies.getCookie('test'); // \n```\n\n##### \n\n```ts\ncookies.setCookie('test', '1234567'); // JSON.stringify\n```\n\n##### \n\n```tsx\ncookies.removeCookie('test');\n```\n\n##### \n\n```tsx\ncookies.clearCookie();\n```\n\n#### API\n\n| indexkey        |       |     |\n| ----------------------------- | --------- | ------- |\n| getLocalStorageKeyFindIndex   | index | key |\n| getSessionStorageKeyFindIndex | index | key |\n\n##### \n\n```ts\nimport { local } from 'session-cookies';\n\nlocal.setLocalStorage('test', '123456');\nlocal.setLocalStorage('usename', 'songshao');\nlocal.getLocalStorageKeyFindIndex(0); // test\nlocal.getLocalStorageKeyFindIndex(1); // username\n```\n\n### Browsers\n\n```html\n\n<!-- 0.1.5  -->\n<script src='https://unpkg.com/session-cookies/lib/sessionCookies.js' ></script>\n\n<script>\n    //  sessionCookies \n    sessionCookies.local.setLocalStorage('test', '123456');\n</script>\n\n```\n","source":"_posts/browser/sessionCookies.md","raw":"---\ntitle: session-cookies  localStoragesessionStorageCookies\npermalink: /browser/session/cookies.html\ndate: 2023-10-22 18:06:18\ndescription: session-cookies This plugin is used to summarize the browsers three caches localStorage, sessionStorage, Cookies.The plugin is designed to be quick and easy to use. Below is a summary of some apis.\ntag: [, , cookies, localStorage, sessionStorage, TypeScript]\ncomments: true\ncategories: \n - \n - Cache\n---\n\n\n# session-cookies\n\n    session-cookies is localStoragesessionStorageCookies\n\n\n <a href=\"https://badge.fury.io/js/session-cookies\"><img src=\"https://badge.fury.io/js/session-cookies.svg\" /></a>\n\n\nsession-cookies This plugin is used to summarize the browser's three caches localStorage, sessionStorage, Cookies.The plugin is designed to be quick and easy to use. Below is a summary of some apis.\n\nsession-cookies  localStoragesessionStorageCookiesAPI\n\n#### API \n\n|     |              |           |           |              |             |\n| :-----: | :------------------: | :---------------: | :---------------: | :------------------: | :-----------------: |\n| cookies |    getCookieList     |     getCookie     |     setCookie     |     removeCookie     |     clearCookie     |\n| session | getAllSessionStorage | getSessionStorage | setSessionStorage | removeSessionStorage | clearSessionStorage |\n|  local  |  getAllLocalStorage  |  getLocalStorage  |  setLocalStorage  |  removeLocalStorage  |  clearLocalStorage  |\n\n\n\n#### \n\n```shell\nnpm i session-cookies\n```\n\n##### Cookies\n\n```ts\nimport { cookies } from 'session-cookies'\n\ncookies.getCookieList(); // JSON\ncookies.getCookie('test'); // \n```\n\n##### \n\n```ts\ncookies.setCookie('test', '1234567'); // JSON.stringify\n```\n\n##### \n\n```tsx\ncookies.removeCookie('test');\n```\n\n##### \n\n```tsx\ncookies.clearCookie();\n```\n\n#### API\n\n| indexkey        |       |     |\n| ----------------------------- | --------- | ------- |\n| getLocalStorageKeyFindIndex   | index | key |\n| getSessionStorageKeyFindIndex | index | key |\n\n##### \n\n```ts\nimport { local } from 'session-cookies';\n\nlocal.setLocalStorage('test', '123456');\nlocal.setLocalStorage('usename', 'songshao');\nlocal.getLocalStorageKeyFindIndex(0); // test\nlocal.getLocalStorageKeyFindIndex(1); // username\n```\n\n### Browsers\n\n```html\n\n<!-- 0.1.5  -->\n<script src='https://unpkg.com/session-cookies/lib/sessionCookies.js' ></script>\n\n<script>\n    //  sessionCookies \n    sessionCookies.local.setLocalStorage('test', '123456');\n</script>\n\n```\n","slug":"browser/sessionCookies","published":1,"updated":"2023-10-23T01:55:15.566Z","__permalink":"/browser/session/cookies.html","layout":"post","photos":[],"link":"","_id":"cloigihxl000brmf34540hehd","content":"<div id=\"vip-container\"><h1 id=\"session-cookies\"><a href=\"#session-cookies\" class=\"headerlink\" title=\"session-cookies\"></a>session-cookies</h1><pre><code>session-cookies is localStoragesessionStorageCookies\n</code></pre>\n<p> <a href=\"https://badge.fury.io/js/session-cookies\"><img src=\"https://badge.fury.io/js/session-cookies.svg\" /></a></p>\n<p>session-cookies This plugin is used to summarize the browsers three caches localStorage, sessionStorage, Cookies.The plugin is designed to be quick and easy to use. Below is a summary of some apis.</p>\n<p>session-cookies  localStoragesessionStorageCookiesAPI</p>\n<h4 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h4><table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">cookies</td>\n<td align=\"center\">getCookieList</td>\n<td align=\"center\">getCookie</td>\n<td align=\"center\">setCookie</td>\n<td align=\"center\">removeCookie</td>\n<td align=\"center\">clearCookie</td>\n</tr>\n<tr>\n<td align=\"center\">session</td>\n<td align=\"center\">getAllSessionStorage</td>\n<td align=\"center\">getSessionStorage</td>\n<td align=\"center\">setSessionStorage</td>\n<td align=\"center\">removeSessionStorage</td>\n<td align=\"center\">clearSessionStorage</td>\n</tr>\n<tr>\n<td align=\"center\">local</td>\n<td align=\"center\">getAllLocalStorage</td>\n<td align=\"center\">getLocalStorage</td>\n<td align=\"center\">setLocalStorage</td>\n<td align=\"center\">removeLocalStorage</td>\n<td align=\"center\">clearLocalStorage</td>\n</tr>\n</tbody></table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i session-cookies</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"Cookies\"><a href=\"#Cookies\" class=\"headerlink\" title=\"Cookies\"></a>Cookies</h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; cookies &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;session-cookies&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">cookies.<span class=\"title function_\">getCookieList</span>(); <span class=\"comment\">// JSON</span></span><br><span class=\"line\">cookies.<span class=\"title function_\">getCookie</span>(<span class=\"string\">&#x27;test&#x27;</span>); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cookies.<span class=\"title function_\">setCookie</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;1234567&#x27;</span>); <span class=\"comment\">// JSON.stringify</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cookies.<span class=\"title function_\">removeCookie</span>(<span class=\"string\">&#x27;test&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cookies.<span class=\"title function_\">clearCookie</span>();</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h4><table>\n<thead>\n<tr>\n<th>indexkey</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>getLocalStorageKeyFindIndex</td>\n<td>index</td>\n<td>key</td>\n</tr>\n<tr>\n<td>getSessionStorageKeyFindIndex</td>\n<td>index</td>\n<td>key</td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; local &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;session-cookies&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">local.<span class=\"title function_\">setLocalStorage</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>);</span><br><span class=\"line\">local.<span class=\"title function_\">setLocalStorage</span>(<span class=\"string\">&#x27;usename&#x27;</span>, <span class=\"string\">&#x27;songshao&#x27;</span>);</span><br><span class=\"line\">local.<span class=\"title function_\">getLocalStorageKeyFindIndex</span>(<span class=\"number\">0</span>); <span class=\"comment\">// test</span></span><br><span class=\"line\">local.<span class=\"title function_\">getLocalStorageKeyFindIndex</span>(<span class=\"number\">1</span>); <span class=\"comment\">// username</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Browsers\"><a href=\"#Browsers\" class=\"headerlink\" title=\"Browsers\"></a>Browsers</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 0.1.5  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;https://unpkg.com/session-cookies/lib/sessionCookies.js&#x27;</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//  sessionCookies </span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    sessionCookies.<span class=\"property\">local</span>.<span class=\"title function_\">setLocalStorage</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/web/cross/site/request/forgeries.html","/web/cross/site/script.html","/hexo/config/readmore.html"],"length":300,"excerpt":"","more":"<h1 id=\"session-cookies\"><a href=\"#session-cookies\" class=\"headerlink\" title=\"session-cookies\"></a>session-cookies</h1><pre><code>session-cookies is localStoragesessionStorageCookies\n</code></pre>\n<p> <a href=\"https://badge.fury.io/js/session-cookies\"><img src=\"https://badge.fury.io/js/session-cookies.svg\" /></a></p>\n<p>session-cookies This plugin is used to summarize the browsers three caches localStorage, sessionStorage, Cookies.The plugin is designed to be quick and easy to use. Below is a summary of some apis.</p>\n<p>session-cookies  localStoragesessionStorageCookiesAPI</p>\n<h4 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h4><table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n<th align=\"center\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">cookies</td>\n<td align=\"center\">getCookieList</td>\n<td align=\"center\">getCookie</td>\n<td align=\"center\">setCookie</td>\n<td align=\"center\">removeCookie</td>\n<td align=\"center\">clearCookie</td>\n</tr>\n<tr>\n<td align=\"center\">session</td>\n<td align=\"center\">getAllSessionStorage</td>\n<td align=\"center\">getSessionStorage</td>\n<td align=\"center\">setSessionStorage</td>\n<td align=\"center\">removeSessionStorage</td>\n<td align=\"center\">clearSessionStorage</td>\n</tr>\n<tr>\n<td align=\"center\">local</td>\n<td align=\"center\">getAllLocalStorage</td>\n<td align=\"center\">getLocalStorage</td>\n<td align=\"center\">setLocalStorage</td>\n<td align=\"center\">removeLocalStorage</td>\n<td align=\"center\">clearLocalStorage</td>\n</tr>\n</tbody></table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i session-cookies</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"Cookies\"><a href=\"#Cookies\" class=\"headerlink\" title=\"Cookies\"></a>Cookies</h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; cookies &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;session-cookies&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">cookies.<span class=\"title function_\">getCookieList</span>(); <span class=\"comment\">// JSON</span></span><br><span class=\"line\">cookies.<span class=\"title function_\">getCookie</span>(<span class=\"string\">&#x27;test&#x27;</span>); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cookies.<span class=\"title function_\">setCookie</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;1234567&#x27;</span>); <span class=\"comment\">// JSON.stringify</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cookies.<span class=\"title function_\">removeCookie</span>(<span class=\"string\">&#x27;test&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cookies.<span class=\"title function_\">clearCookie</span>();</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h4><table>\n<thead>\n<tr>\n<th>indexkey</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>getLocalStorageKeyFindIndex</td>\n<td>index</td>\n<td>key</td>\n</tr>\n<tr>\n<td>getSessionStorageKeyFindIndex</td>\n<td>index</td>\n<td>key</td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; local &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;session-cookies&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">local.<span class=\"title function_\">setLocalStorage</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>);</span><br><span class=\"line\">local.<span class=\"title function_\">setLocalStorage</span>(<span class=\"string\">&#x27;usename&#x27;</span>, <span class=\"string\">&#x27;songshao&#x27;</span>);</span><br><span class=\"line\">local.<span class=\"title function_\">getLocalStorageKeyFindIndex</span>(<span class=\"number\">0</span>); <span class=\"comment\">// test</span></span><br><span class=\"line\">local.<span class=\"title function_\">getLocalStorageKeyFindIndex</span>(<span class=\"number\">1</span>); <span class=\"comment\">// username</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Browsers\"><a href=\"#Browsers\" class=\"headerlink\" title=\"Browsers\"></a>Browsers</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 0.1.5  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;https://unpkg.com/session-cookies/lib/sessionCookies.js&#x27;</span> &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//  sessionCookies </span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    sessionCookies.<span class=\"property\">local</span>.<span class=\"title function_\">setLocalStorage</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"?","date":"2023-10-20T13:20:37.000Z","description":"","comments":1,"_content":"\n\n\n-  websocket  websocket \n-  ShareWorker shareWorker \n- localStorage localStoragelocalStorage\n-  postMessage  postMessage ","source":"_posts/browser/tabToTab.md","raw":"---\ntitle: ?\npermalink: /browser/tab/to/tab.html\ndate: 2023-10-20 21:20:37\ndescription: \ntag: [, , ]\ncomments: true\ncategories: \n - \n - \n---\n\n\n\n-  websocket  websocket \n-  ShareWorker shareWorker \n- localStorage localStoragelocalStorage\n-  postMessage  postMessage ","slug":"browser/tabToTab","published":1,"updated":"2023-10-23T01:55:15.566Z","__permalink":"/browser/tab/to/tab.html","layout":"post","photos":[],"link":"","_id":"cloigihxq000frmf3ev6511i2","content":"<div id=\"vip-container\"><p></p>\n<ul>\n<li> websocket  websocket </li>\n<li> ShareWorker shareWorker </li>\n<li>localStorage localStoragelocalStorage</li>\n<li> postMessage  postMessage </li>\n</ul>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":363,"excerpt":"","more":"<p></p>\n<ul>\n<li> websocket  websocket </li>\n<li> ShareWorker shareWorker </li>\n<li>localStorage localStoragelocalStorage</li>\n<li> postMessage  postMessage </li>\n</ul>\n"},{"title":"Hexo ","date":"2023-10-23T13:27:22.000Z","description":"Hexo Pagination","comments":1,"_content":"\n\n#### per_page _config.yml\n\n```yml\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 20 # \npagination_dir: page # \n```\n\n","source":"_posts/hexo/pagination.md","raw":"---\ntitle: Hexo \npermalink: /hexo/config/pagination.html\ndate: 2023-10-23 21:27:22\ndescription: Hexo Pagination\ntag: [, Hexo, Pagination]\ncomments: true\ncategories: \n - \n - \n - Hexo\n---\n\n\n#### per_page _config.yml\n\n```yml\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 20 # \npagination_dir: page # \n```\n\n","slug":"hexo/pagination","published":1,"updated":"2023-10-25T09:13:46.017Z","__permalink":"/hexo/config/pagination.html","layout":"post","photos":[],"link":"","_id":"cloigihxs000hrmf3e6wv9kcy","content":"<div id=\"vip-container\"><h4 id=\"per-page-config-yml\"><a href=\"#per-page-config-yml\" class=\"headerlink\" title=\"per_page _config.yml\"></a>per_page _config.yml</h4><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Pagination</span></span><br><span class=\"line\"><span class=\"comment\">## Set per_page to 0 to disable pagination</span></span><br><span class=\"line\"><span class=\"attr\">per_page:</span> <span class=\"number\">20</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">pagination_dir:</span> <span class=\"string\">page</span> <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/hexo/config/rss.html","/hexo/config/readmore.html"],"length":26,"excerpt":"","more":"<h4 id=\"per-page-config-yml\"><a href=\"#per-page-config-yml\" class=\"headerlink\" title=\"per_page _config.yml\"></a>per_page _config.yml</h4><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Pagination</span></span><br><span class=\"line\"><span class=\"comment\">## Set per_page to 0 to disable pagination</span></span><br><span class=\"line\"><span class=\"attr\">per_page:</span> <span class=\"number\">20</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">pagination_dir:</span> <span class=\"string\">page</span> <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n"},{"title":"Hexo ","date":"2023-10-23T02:31:24.000Z","description":"Hexo ","comments":1,"_content":"\n###  \n\n![](https://pic.imgdb.cn/item/6535dc4dc458853aef3ec866.jpg)\n\n### hexo _config.yml \n\n```yml\nplugins:\n  readmore:\n    blogId: 31652-1697970027416-119\n    name: BaType\n    qrcode: https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\n    keyword: 666\n```\n\n,:\n\n- blogId : []OpenWrite ,:31652-1697970027416-119\n- name : []OpenWrite ,:BaType\n- qrcode : []OpenWrite ,:https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\n- keyword : []OpenWrite ,:666\n\n### \n\n`npm install hexo-plugin-readmore --save`\n\n### \n\n![](https://pic.imgdb.cn/item/6535dddec458853aef428ef6.jpg)","source":"_posts/hexo/readmore.md","raw":"---\ntitle: Hexo \npermalink: /hexo/config/readmore.html\ndate: 2023-10-23 10:31:24\ndescription: Hexo \ntag: [, Hexo, ReadMore]\ncomments: true\ncategories: \n - \n - \n - Hexo\n---\n\n###  \n\n![](https://pic.imgdb.cn/item/6535dc4dc458853aef3ec866.jpg)\n\n### hexo _config.yml \n\n```yml\nplugins:\n  readmore:\n    blogId: 31652-1697970027416-119\n    name: BaType\n    qrcode: https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\n    keyword: 666\n```\n\n,:\n\n- blogId : []OpenWrite ,:31652-1697970027416-119\n- name : []OpenWrite ,:BaType\n- qrcode : []OpenWrite ,:https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\n- keyword : []OpenWrite ,:666\n\n### \n\n`npm install hexo-plugin-readmore --save`\n\n### \n\n![](https://pic.imgdb.cn/item/6535dddec458853aef428ef6.jpg)","slug":"hexo/readmore","published":1,"updated":"2023-10-23T02:45:02.608Z","__permalink":"/hexo/config/readmore.html","layout":"post","photos":[],"link":"","_id":"cloigihxt000krmf3h56w38xj","content":"<div id=\"vip-container\"><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/6535dc4dc458853aef3ec866.jpg\"></p>\n<h3 id=\"hexo-config-yml-\"><a href=\"#hexo-config-yml-\" class=\"headerlink\" title=\"hexo _config.yml \"></a>hexo _config.yml </h3><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins:</span></span><br><span class=\"line\">  <span class=\"attr\">readmore:</span></span><br><span class=\"line\">    <span class=\"attr\">blogId:</span> <span class=\"number\">31652</span><span class=\"number\">-1697970027416</span><span class=\"number\">-119</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">BaType</span></span><br><span class=\"line\">    <span class=\"attr\">qrcode:</span> <span class=\"string\">https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg</span></span><br><span class=\"line\">    <span class=\"attr\">keyword:</span> <span class=\"number\">666</span></span><br></pre></td></tr></table></figure>\n\n<p>,:</p>\n<ul>\n<li>blogId : []OpenWrite ,:31652-1697970027416-119</li>\n<li>name : []OpenWrite ,:BaType</li>\n<li>qrcode : []OpenWrite ,:<a href=\"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\">https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg</a></li>\n<li>keyword : []OpenWrite ,:666</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>npm install hexo-plugin-readmore --save</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/6535dddec458853aef428ef6.jpg\"></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/hexo/config/pagination.html","/web/npm/nrm.html","/hexo/config/rss.html","/react/components/unstate-next-use.html","/browser/session/cookies.html"],"length":141,"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/6535dc4dc458853aef3ec866.jpg\"></p>\n<h3 id=\"hexo-config-yml-\"><a href=\"#hexo-config-yml-\" class=\"headerlink\" title=\"hexo _config.yml \"></a>hexo _config.yml </h3><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins:</span></span><br><span class=\"line\">  <span class=\"attr\">readmore:</span></span><br><span class=\"line\">    <span class=\"attr\">blogId:</span> <span class=\"number\">31652</span><span class=\"number\">-1697970027416</span><span class=\"number\">-119</span></span><br><span class=\"line\">    <span class=\"attr\">name:</span> <span class=\"string\">BaType</span></span><br><span class=\"line\">    <span class=\"attr\">qrcode:</span> <span class=\"string\">https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg</span></span><br><span class=\"line\">    <span class=\"attr\">keyword:</span> <span class=\"number\">666</span></span><br></pre></td></tr></table></figure>\n\n<p>,:</p>\n<ul>\n<li>blogId : []OpenWrite ,:31652-1697970027416-119</li>\n<li>name : []OpenWrite ,:BaType</li>\n<li>qrcode : []OpenWrite ,:<a href=\"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\">https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg</a></li>\n<li>keyword : []OpenWrite ,:666</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>npm install hexo-plugin-readmore --save</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/6535dddec458853aef428ef6.jpg\"></p>\n"},{"title":"Hexo  RSS","date":"2023-10-21T13:32:38.000Z","description":"Hexo RSSRSSnote blog","comments":1,"_content":"\n##### hexo-generator-feed \n\n###### npm\n`npm install hexo-generator-feed -d`\n###### yarn\n`yarn add hexo-generator-feed`\n\n##### _config.[themes].yml\n\n###### \n```yml\n    RSS: /atom.xml || fa fa-rss\n```\n\n###### \n\n```yml\n    feed:\n        type: atom  # atom\n        path: atom.xml # \n        limit: 20 # \n\n```\n##### \n\n`hexo clean && hexo generate`\n\n##### \n\n![atom.xml](https://pic.imgdb.cn/item/6533d473c458853aefb79c42.png)","source":"_posts/hexo/rss.md","raw":"---\ntitle: Hexo  RSS\npermalink: /hexo/config/rss.html\ndate: 2023-10-21 21:32:38\ndescription: Hexo RSSRSSnote blog\ntag: [, Hexo, RSS]\ncomments: true\ncategories: \n - \n - \n - Hexo\n---\n\n##### hexo-generator-feed \n\n###### npm\n`npm install hexo-generator-feed -d`\n###### yarn\n`yarn add hexo-generator-feed`\n\n##### _config.[themes].yml\n\n###### \n```yml\n    RSS: /atom.xml || fa fa-rss\n```\n\n###### \n\n```yml\n    feed:\n        type: atom  # atom\n        path: atom.xml # \n        limit: 20 # \n\n```\n##### \n\n`hexo clean && hexo generate`\n\n##### \n\n![atom.xml](https://pic.imgdb.cn/item/6533d473c458853aefb79c42.png)","slug":"hexo/rss","published":1,"updated":"2023-10-23T01:55:15.567Z","__permalink":"/hexo/config/rss.html","layout":"post","photos":[],"link":"","_id":"cloigihxu000lrmf399dxau8c","content":"<div id=\"vip-container\"><h5 id=\"hexo-generator-feed-\"><a href=\"#hexo-generator-feed-\" class=\"headerlink\" title=\"hexo-generator-feed \"></a>hexo-generator-feed </h5><h6 id=\"npm\"><a href=\"#npm\" class=\"headerlink\" title=\"npm\"></a>npm</h6><p><code>npm install hexo-generator-feed -d</code></p>\n<h6 id=\"yarn\"><a href=\"#yarn\" class=\"headerlink\" title=\"yarn\"></a>yarn</h6><p><code>yarn add hexo-generator-feed</code></p>\n<h5 id=\"-config-themes-yml\"><a href=\"#-config-themes-yml\" class=\"headerlink\" title=\"_config.[themes].yml\"></a>_config.[themes].yml</h5><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">RSS:</span> <span class=\"string\">/atom.xml</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-rss</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">feed:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">atom</span>  <span class=\"comment\"># atom</span></span><br><span class=\"line\">    <span class=\"attr\">path:</span> <span class=\"string\">atom.xml</span> <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"attr\">limit:</span> <span class=\"number\">20</span> <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>hexo clean &amp;&amp; hexo generate</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"https://pic.imgdb.cn/item/6533d473c458853aefb79c42.png\" alt=\"atom.xml\"></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/hexo/config/pagination.html","/web/npm/nrm.html","/hexo/config/readmore.html","/react/components/unstate-next-use.html","/javascript/async/await.html"],"length":73,"excerpt":"","more":"<h5 id=\"hexo-generator-feed-\"><a href=\"#hexo-generator-feed-\" class=\"headerlink\" title=\"hexo-generator-feed \"></a>hexo-generator-feed </h5><h6 id=\"npm\"><a href=\"#npm\" class=\"headerlink\" title=\"npm\"></a>npm</h6><p><code>npm install hexo-generator-feed -d</code></p>\n<h6 id=\"yarn\"><a href=\"#yarn\" class=\"headerlink\" title=\"yarn\"></a>yarn</h6><p><code>yarn add hexo-generator-feed</code></p>\n<h5 id=\"-config-themes-yml\"><a href=\"#-config-themes-yml\" class=\"headerlink\" title=\"_config.[themes].yml\"></a>_config.[themes].yml</h5><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">RSS:</span> <span class=\"string\">/atom.xml</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-rss</span></span><br></pre></td></tr></table></figure>\n\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">feed:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">atom</span>  <span class=\"comment\"># atom</span></span><br><span class=\"line\">    <span class=\"attr\">path:</span> <span class=\"string\">atom.xml</span> <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"attr\">limit:</span> <span class=\"number\">20</span> <span class=\"comment\"># </span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><code>hexo clean &amp;&amp; hexo generate</code></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"https://pic.imgdb.cn/item/6533d473c458853aefb79c42.png\" alt=\"atom.xml\"></p>\n"},{"title":"Linux docker install","date":"2023-11-02T13:24:32.000Z","description":" Promise  async/await ","comments":1,"_content":"\n### LinuxDocker\n\n1. \n\n```shell\nsudo yum install -y yum-utils\n\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n```\n\n2. Docker\n\n```shell\nsudo yum install docker-ce docker-ce-cli containerd.io\n```\n\n3. Docker\n\n```shell\nsudo systemctl start docker\n```\n\n4. docker\n\n```shell\nsudo systemctl enable docker\n```\n\n5. \n\n```shell\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-'EOF'\n{\n  \"registry-mirrors\": [\"https://om7zpa5s.mirror.aliyuncs.com\"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n```\n\n### \n\n1. \n\n```shell\ndocker images\n```\n\n2. \n\n```shell\ndocker search mysql\n```\n\n3. \n\n```shell\ndocker pull mysql:version\n```\n\n4. \n\n```shell\n  docker images // image ID\n\n  docker rmi -f feb5d9fea6a5\n  # \n  docker rmi -f feb5d9fea6a5 feb5d9fea6a5 \n  docker rmi -f $(docker images -aq)    # \n```\n\n### \n\n1. \n\n```shell\n  docker run -it centos /bin/bash\n\n```\n\n2. \n\n```shell\n  docker ps \n  # \n  -a        # +\n  -n=?    # -n=1\n  -q        # \n\n```\n\n3. \n\n```shell\nexit        # \nctrl+P+Q    # \n```\n\n4. \n\n```shell\n  docker rm id                    # docker rm -f id\n  docker rm -f $(docker ps -aq)        # \n  docker ps -a -q|xargs docker rm        # \n  docker rm 656c03b3be05\n```\n\n5. \n\n```shell\n  docker start id # \n  docker restart id # \n  docker stop id # \n  docker kill id # \n\n```\n\n### \n\n1. \n\n```shell\n  docker run -d centos\n```\n\n2. \n\n```shell\n  docker logs -tf 5694d2fc0a88\n\n  docker run -d centos /bin/sh -c \"while true;do echo batype;sleep 1000;done\"\n```\n\n3. \n\n```shell\n  docker ps\n  CONTAINER ID   IMAGE     COMMAND                   CREATED         STATUS         PORTS     NAMES\n  4f9b77aafa46   centos    \"/bin/sh -c 'while t\"   6 seconds ago   Up 5 seconds             tender_hofstadter\n\n  docker top 4f9b77aafa46\n  UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD\n  root                14087               14066               0                   17:42               ?                   00:00:00            /bin/sh -c while true;do echo batype;sleep 1000;done\n  root                14107               14087               0                   17:42               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1000\n```\n\n4. \n\n```shell\n  docker inspect 4f9b77aafa46\n  [\n      {\n          \"Id\": \"4f9b77aafa469b2e50ca296515d66b841f60f12343b1a45ddbdd09766e103d0f\",\n          \"Created\": \"2023-11-03T09:42:35.034147379Z\",\n          \"Path\": \"/bin/sh\",\n          \"Args\": [\n              \"-c\",\n              \"while true;do echo batype;sleep 1000;done\"\n          ],\n          \"State\": {\n              \"Status\": \"running\",\n              \"Running\": true,\n              \"Paused\": false,\n              \"Restarting\": false,\n              \"OOMKilled\": false,\n              \"Dead\": false,\n              \"Pid\": 14087,\n              \"ExitCode\": 0,\n              \"Error\": \"\",\n              ...\n          }\n          ...\n      }\n      ...\n  ]\n```\n\nhttps://blog.csdn.net/qq_54729417/article/details/127913536?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169893726416800188573112%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169893726416800188573112&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127913536-null-null.142^v96^pc_search_result_base1&utm_term=docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B&spm=1018.2226.3001.4187","source":"_posts/linux/docker.md","raw":"---\ntitle: Linux docker install\npermalink: /linux/install/docker.html\ndate: 2023-11-2 21:24:32\ndescription:  Promise  async/await \ntag: [, JavaScript, es6]\ncomments: true\ncategories: \n - \n - es6\n---\n\n### LinuxDocker\n\n1. \n\n```shell\nsudo yum install -y yum-utils\n\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n```\n\n2. Docker\n\n```shell\nsudo yum install docker-ce docker-ce-cli containerd.io\n```\n\n3. Docker\n\n```shell\nsudo systemctl start docker\n```\n\n4. docker\n\n```shell\nsudo systemctl enable docker\n```\n\n5. \n\n```shell\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-'EOF'\n{\n  \"registry-mirrors\": [\"https://om7zpa5s.mirror.aliyuncs.com\"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n```\n\n### \n\n1. \n\n```shell\ndocker images\n```\n\n2. \n\n```shell\ndocker search mysql\n```\n\n3. \n\n```shell\ndocker pull mysql:version\n```\n\n4. \n\n```shell\n  docker images // image ID\n\n  docker rmi -f feb5d9fea6a5\n  # \n  docker rmi -f feb5d9fea6a5 feb5d9fea6a5 \n  docker rmi -f $(docker images -aq)    # \n```\n\n### \n\n1. \n\n```shell\n  docker run -it centos /bin/bash\n\n```\n\n2. \n\n```shell\n  docker ps \n  # \n  -a        # +\n  -n=?    # -n=1\n  -q        # \n\n```\n\n3. \n\n```shell\nexit        # \nctrl+P+Q    # \n```\n\n4. \n\n```shell\n  docker rm id                    # docker rm -f id\n  docker rm -f $(docker ps -aq)        # \n  docker ps -a -q|xargs docker rm        # \n  docker rm 656c03b3be05\n```\n\n5. \n\n```shell\n  docker start id # \n  docker restart id # \n  docker stop id # \n  docker kill id # \n\n```\n\n### \n\n1. \n\n```shell\n  docker run -d centos\n```\n\n2. \n\n```shell\n  docker logs -tf 5694d2fc0a88\n\n  docker run -d centos /bin/sh -c \"while true;do echo batype;sleep 1000;done\"\n```\n\n3. \n\n```shell\n  docker ps\n  CONTAINER ID   IMAGE     COMMAND                   CREATED         STATUS         PORTS     NAMES\n  4f9b77aafa46   centos    \"/bin/sh -c 'while t\"   6 seconds ago   Up 5 seconds             tender_hofstadter\n\n  docker top 4f9b77aafa46\n  UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD\n  root                14087               14066               0                   17:42               ?                   00:00:00            /bin/sh -c while true;do echo batype;sleep 1000;done\n  root                14107               14087               0                   17:42               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1000\n```\n\n4. \n\n```shell\n  docker inspect 4f9b77aafa46\n  [\n      {\n          \"Id\": \"4f9b77aafa469b2e50ca296515d66b841f60f12343b1a45ddbdd09766e103d0f\",\n          \"Created\": \"2023-11-03T09:42:35.034147379Z\",\n          \"Path\": \"/bin/sh\",\n          \"Args\": [\n              \"-c\",\n              \"while true;do echo batype;sleep 1000;done\"\n          ],\n          \"State\": {\n              \"Status\": \"running\",\n              \"Running\": true,\n              \"Paused\": false,\n              \"Restarting\": false,\n              \"OOMKilled\": false,\n              \"Dead\": false,\n              \"Pid\": 14087,\n              \"ExitCode\": 0,\n              \"Error\": \"\",\n              ...\n          }\n          ...\n      }\n      ...\n  ]\n```\n\nhttps://blog.csdn.net/qq_54729417/article/details/127913536?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169893726416800188573112%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169893726416800188573112&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127913536-null-null.142^v96^pc_search_result_base1&utm_term=docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B&spm=1018.2226.3001.4187","slug":"linux/docker","published":1,"updated":"2023-11-03T10:03:43.501Z","__permalink":"/linux/install/docker.html","layout":"post","photos":[],"link":"","_id":"cloigihxx000ormf3g8u0fq79","content":"<div id=\"vip-container\"><h3 id=\"LinuxDocker\"><a href=\"#LinuxDocker\" class=\"headerlink\" title=\"LinuxDocker\"></a>LinuxDocker</h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y yum-utils</span><br><span class=\"line\"></span><br><span class=\"line\">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>Docker</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>Docker</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl start docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>docker</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl enable docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mkdir -p /etc/docker</span><br><span class=\"line\">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;registry-mirrors&quot;: [&quot;https://om7zpa5s.mirror.aliyuncs.com&quot;]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker search mysql</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull mysql:version</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images // image ID</span><br><span class=\"line\"></span><br><span class=\"line\">docker rmi -f feb5d9fea6a5</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"></span></span><br><span class=\"line\">docker rmi -f feb5d9fea6a5 feb5d9fea6a5 </span><br><span class=\"line\">docker rmi -f $(docker images -aq)    # </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -it centos /bin/bash</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"></span></span><br><span class=\"line\">-a        # +</span><br><span class=\"line\">-n=?    # -n=1</span><br><span class=\"line\">-q        # </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exit        # </span><br><span class=\"line\">ctrl+P+Q    # </span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rm id                    # docker rm -f id</span><br><span class=\"line\">docker rm -f $(docker ps -aq)        # </span><br><span class=\"line\">docker ps -a -q|xargs docker rm        # </span><br><span class=\"line\">docker rm 656c03b3be05</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start id # </span><br><span class=\"line\">docker restart id # </span><br><span class=\"line\">docker stop id # </span><br><span class=\"line\">docker kill id # </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d centos</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker logs -tf 5694d2fc0a88</span><br><span class=\"line\"></span><br><span class=\"line\">docker run -d centos /bin/sh -c &quot;while true;do echo batype;sleep 1000;done&quot;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br><span class=\"line\">CONTAINER ID   IMAGE     COMMAND                   CREATED         STATUS         PORTS     NAMES</span><br><span class=\"line\">4f9b77aafa46   centos    &quot;/bin/sh -c &#x27;while t&quot;   6 seconds ago   Up 5 seconds             tender_hofstadter</span><br><span class=\"line\"></span><br><span class=\"line\">docker top 4f9b77aafa46</span><br><span class=\"line\">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class=\"line\">root                14087               14066               0                   17:42               ?                   00:00:00            /bin/sh -c while true;do echo batype;sleep 1000;done</span><br><span class=\"line\">root                14107               14087               0                   17:42               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1000</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect 4f9b77aafa46</span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Id&quot;: &quot;4f9b77aafa469b2e50ca296515d66b841f60f12343b1a45ddbdd09766e103d0f&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2023-11-03T09:42:35.034147379Z&quot;,</span><br><span class=\"line\">        &quot;Path&quot;: &quot;/bin/sh&quot;,</span><br><span class=\"line\">        &quot;Args&quot;: [</span><br><span class=\"line\">            &quot;-c&quot;,</span><br><span class=\"line\">            &quot;while true;do echo batype;sleep 1000;done&quot;</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        &quot;State&quot;: &#123;</span><br><span class=\"line\">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class=\"line\">            &quot;Running&quot;: true,</span><br><span class=\"line\">            &quot;Paused&quot;: false,</span><br><span class=\"line\">            &quot;Restarting&quot;: false,</span><br><span class=\"line\">            &quot;OOMKilled&quot;: false,</span><br><span class=\"line\">            &quot;Dead&quot;: false,</span><br><span class=\"line\">            &quot;Pid&quot;: 14087,</span><br><span class=\"line\">            &quot;ExitCode&quot;: 0,</span><br><span class=\"line\">            &quot;Error&quot;: &quot;&quot;,</span><br><span class=\"line\">            ...</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://blog.csdn.net/qq_54729417/article/details/127913536?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169893726416800188573112%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169893726416800188573112&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127913536-null-null.142%5Ev96%5Epc_search_result_base1&utm_term=docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B&spm=1018.2226.3001.4187\">https://blog.csdn.net/qq_54729417/article/details/127913536?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169893726416800188573112%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=169893726416800188573112&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127913536-null-null.142^v96^pc_search_result_base1&amp;utm_term=docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187</a></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/hexo/config/rss.html","/javascript/async/await.html","/web/security/question.html"],"length":637,"excerpt":"","more":"<h3 id=\"LinuxDocker\"><a href=\"#LinuxDocker\" class=\"headerlink\" title=\"LinuxDocker\"></a>LinuxDocker</h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y yum-utils</span><br><span class=\"line\"></span><br><span class=\"line\">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>Docker</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>Docker</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl start docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>docker</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl enable docker</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mkdir -p /etc/docker</span><br><span class=\"line\">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;registry-mirrors&quot;: [&quot;https://om7zpa5s.mirror.aliyuncs.com&quot;]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">EOF</span><br><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker search mysql</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull mysql:version</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images // image ID</span><br><span class=\"line\"></span><br><span class=\"line\">docker rmi -f feb5d9fea6a5</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"></span></span><br><span class=\"line\">docker rmi -f feb5d9fea6a5 feb5d9fea6a5 </span><br><span class=\"line\">docker rmi -f $(docker images -aq)    # </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -it centos /bin/bash</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\"></span></span><br><span class=\"line\">-a        # +</span><br><span class=\"line\">-n=?    # -n=1</span><br><span class=\"line\">-q        # </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exit        # </span><br><span class=\"line\">ctrl+P+Q    # </span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rm id                    # docker rm -f id</span><br><span class=\"line\">docker rm -f $(docker ps -aq)        # </span><br><span class=\"line\">docker ps -a -q|xargs docker rm        # </span><br><span class=\"line\">docker rm 656c03b3be05</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start id # </span><br><span class=\"line\">docker restart id # </span><br><span class=\"line\">docker stop id # </span><br><span class=\"line\">docker kill id # </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d centos</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker logs -tf 5694d2fc0a88</span><br><span class=\"line\"></span><br><span class=\"line\">docker run -d centos /bin/sh -c &quot;while true;do echo batype;sleep 1000;done&quot;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br><span class=\"line\">CONTAINER ID   IMAGE     COMMAND                   CREATED         STATUS         PORTS     NAMES</span><br><span class=\"line\">4f9b77aafa46   centos    &quot;/bin/sh -c &#x27;while t&quot;   6 seconds ago   Up 5 seconds             tender_hofstadter</span><br><span class=\"line\"></span><br><span class=\"line\">docker top 4f9b77aafa46</span><br><span class=\"line\">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class=\"line\">root                14087               14066               0                   17:42               ?                   00:00:00            /bin/sh -c while true;do echo batype;sleep 1000;done</span><br><span class=\"line\">root                14107               14087               0                   17:42               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1000</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li></li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect 4f9b77aafa46</span><br><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        &quot;Id&quot;: &quot;4f9b77aafa469b2e50ca296515d66b841f60f12343b1a45ddbdd09766e103d0f&quot;,</span><br><span class=\"line\">        &quot;Created&quot;: &quot;2023-11-03T09:42:35.034147379Z&quot;,</span><br><span class=\"line\">        &quot;Path&quot;: &quot;/bin/sh&quot;,</span><br><span class=\"line\">        &quot;Args&quot;: [</span><br><span class=\"line\">            &quot;-c&quot;,</span><br><span class=\"line\">            &quot;while true;do echo batype;sleep 1000;done&quot;</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        &quot;State&quot;: &#123;</span><br><span class=\"line\">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class=\"line\">            &quot;Running&quot;: true,</span><br><span class=\"line\">            &quot;Paused&quot;: false,</span><br><span class=\"line\">            &quot;Restarting&quot;: false,</span><br><span class=\"line\">            &quot;OOMKilled&quot;: false,</span><br><span class=\"line\">            &quot;Dead&quot;: false,</span><br><span class=\"line\">            &quot;Pid&quot;: 14087,</span><br><span class=\"line\">            &quot;ExitCode&quot;: 0,</span><br><span class=\"line\">            &quot;Error&quot;: &quot;&quot;,</span><br><span class=\"line\">            ...</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://blog.csdn.net/qq_54729417/article/details/127913536?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169893726416800188573112%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169893726416800188573112&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127913536-null-null.142%5Ev96%5Epc_search_result_base1&utm_term=docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B&spm=1018.2226.3001.4187\">https://blog.csdn.net/qq_54729417/article/details/127913536?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169893726416800188573112%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=169893726416800188573112&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127913536-null-null.142^v96^pc_search_result_base1&amp;utm_term=docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187</a></p>\n"},{"title":"Scp","date":"2023-11-02T13:24:32.000Z","description":" Promise  async/await ","comments":1,"_content":"\n#### \n```shell\nscp -r key root@47.108.140.70:/etc/nginx/conf.d/cert\n```\n\nssh root@47.108.140.70\n\nscp -r public/ root@47.108.140.70:/home/html/songs-note/\n\n```shell\n\nserver {\n    listen 443 ssl;\n    server_name www.batype.com;\n    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;\n    \n    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;\n    root         /home/html/songs-note;\n    location / {\n        index index.html index.htm;\n        try_files $uri $uri/ =404;\n    }\n}\n\n\n```\n\n\n```shell\nserver {\n    listen       80;\n    server_name  www.batype.com;\n    #httphttps(nginx ssl)\n    rewrite ^/(.*)$ https://www.batype.com/$1 permanent;\n}\n\n    # HTTPS\nserver {\n    listen 443;\n    server_name www.batype.com;                         #\n    ssl on;\n    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()\n    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()\n    ssl_session_timeout 5m;\n    #ssl_protocols SSLv2 SSLv3 TLSv1;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    #ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\n    ssl_prefer_server_ciphers on;\n    location / {\n        gzip_static on;\n        root /home/html/songs-note;; #html\n        index index.html;\n        try_files $uri $uri/ /index.html;\n    }\n    # location /admin {\n    #     proxy_pass http://127.0.0.1:6060/admin;\n    #     proxy_read_timeout 300s;\n    #     proxy_set_header Host $host;\n    #     proxy_set_header X-Real-IP $remote_addr;\n    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    #     proxy_set_header Upgrade $http_upgrade;\n    #     proxy_set_header Connection $connection_upgrade;\n    #     proxy_http_version 1.1;\n    # }\n\n}\n```\n\n```shell\nserver {\n    listen       80;\n    server_name  batype.mukang.net;\n      location / {\n        gzip_static on;\n        root /home/html/songs-note; #html\n        index index.html;\n        try_files $uri $uri/ /index.html;\n    }\n}\n\n    # HTTPS\nserver {\n    listen 443;\n    server_name https://batype.mukang.net; #www.batype.com;   #\n    ssl on;\n    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()\n    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()\n    ssl_session_timeout 5m;\n    #ssl_protocols SSLv2 SSLv3 TLSv1;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    #ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\n    ssl_prefer_server_ciphers on;\n  \n    # location /admin {\n    #     proxy_pass http://127.0.0.1:6060/admin;\n    #     proxy_read_timeout 300s;\n    #     proxy_set_header Host $host;\n    #     proxy_set_header X-Real-IP $remote_addr;\n    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    #     proxy_set_header Upgrade $http_upgrade;\n    #     proxy_set_header Connection $connection_upgrade;\n    #     proxy_http_version 1.1;\n    # }\n\n}\n```","source":"_posts/linux/scp.md","raw":"---\ntitle: Scp\npermalink: /linux/install/scp.html\ndate: 2023-11-2 21:24:32\ndescription:  Promise  async/await \ntag: [, JavaScript, es6]\ncomments: true\ncategories: \n - \n - es6\n---\n\n#### \n```shell\nscp -r key root@47.108.140.70:/etc/nginx/conf.d/cert\n```\n\nssh root@47.108.140.70\n\nscp -r public/ root@47.108.140.70:/home/html/songs-note/\n\n```shell\n\nserver {\n    listen 443 ssl;\n    server_name www.batype.com;\n    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;\n    \n    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;\n    root         /home/html/songs-note;\n    location / {\n        index index.html index.htm;\n        try_files $uri $uri/ =404;\n    }\n}\n\n\n```\n\n\n```shell\nserver {\n    listen       80;\n    server_name  www.batype.com;\n    #httphttps(nginx ssl)\n    rewrite ^/(.*)$ https://www.batype.com/$1 permanent;\n}\n\n    # HTTPS\nserver {\n    listen 443;\n    server_name www.batype.com;                         #\n    ssl on;\n    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()\n    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()\n    ssl_session_timeout 5m;\n    #ssl_protocols SSLv2 SSLv3 TLSv1;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    #ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\n    ssl_prefer_server_ciphers on;\n    location / {\n        gzip_static on;\n        root /home/html/songs-note;; #html\n        index index.html;\n        try_files $uri $uri/ /index.html;\n    }\n    # location /admin {\n    #     proxy_pass http://127.0.0.1:6060/admin;\n    #     proxy_read_timeout 300s;\n    #     proxy_set_header Host $host;\n    #     proxy_set_header X-Real-IP $remote_addr;\n    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    #     proxy_set_header Upgrade $http_upgrade;\n    #     proxy_set_header Connection $connection_upgrade;\n    #     proxy_http_version 1.1;\n    # }\n\n}\n```\n\n```shell\nserver {\n    listen       80;\n    server_name  batype.mukang.net;\n      location / {\n        gzip_static on;\n        root /home/html/songs-note; #html\n        index index.html;\n        try_files $uri $uri/ /index.html;\n    }\n}\n\n    # HTTPS\nserver {\n    listen 443;\n    server_name https://batype.mukang.net; #www.batype.com;   #\n    ssl on;\n    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()\n    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()\n    ssl_session_timeout 5m;\n    #ssl_protocols SSLv2 SSLv3 TLSv1;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    #ssl_ciphers HIGH:!aNULL:!MD5;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\n    ssl_prefer_server_ciphers on;\n  \n    # location /admin {\n    #     proxy_pass http://127.0.0.1:6060/admin;\n    #     proxy_read_timeout 300s;\n    #     proxy_set_header Host $host;\n    #     proxy_set_header X-Real-IP $remote_addr;\n    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    #     proxy_set_header Upgrade $http_upgrade;\n    #     proxy_set_header Connection $connection_upgrade;\n    #     proxy_http_version 1.1;\n    # }\n\n}\n```","slug":"linux/scp","published":1,"updated":"2023-11-03T06:05:30.126Z","__permalink":"/linux/install/scp.html","layout":"post","photos":[],"link":"","_id":"cloigihxy000qrmf38ks9hvsi","content":"<div id=\"vip-container\"><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r key root@47.108.140.70:/etc/nginx/conf.d/cert</span><br></pre></td></tr></table></figure>\n\n<p>ssh <a href=\"mailto:&#x72;&#x6f;&#x6f;&#116;&#64;&#x34;&#55;&#46;&#49;&#48;&#x38;&#x2e;&#x31;&#x34;&#x30;&#46;&#55;&#x30;\">&#x72;&#x6f;&#x6f;&#116;&#64;&#x34;&#55;&#46;&#49;&#48;&#x38;&#x2e;&#x31;&#x34;&#x30;&#46;&#55;&#x30;</a></p>\n<p>scp -r public&#x2F; <a href=\"mailto:&#114;&#x6f;&#111;&#x74;&#64;&#52;&#55;&#46;&#x31;&#x30;&#x38;&#x2e;&#49;&#52;&#x30;&#x2e;&#x37;&#48;\">&#114;&#x6f;&#111;&#x74;&#64;&#52;&#55;&#46;&#x31;&#x30;&#x38;&#x2e;&#49;&#52;&#x30;&#x2e;&#x37;&#48;</a>:&#x2F;home&#x2F;html&#x2F;songs-note&#x2F;</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 443 ssl;</span><br><span class=\"line\">    server_name www.batype.com;</span><br><span class=\"line\">    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;</span><br><span class=\"line\">    </span><br><span class=\"line\">    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;</span><br><span class=\"line\">    root         /home/html/songs-note;</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        index index.html index.htm;</span><br><span class=\"line\">        try_files $uri $uri/ =404;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen       80;</span><br><span class=\"line\">    server_name  www.batype.com;</span><br><span class=\"line\">    #httphttps(nginx ssl)</span><br><span class=\"line\">    rewrite ^/(.*)$ https://www.batype.com/$1 permanent;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    # HTTPS</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 443;</span><br><span class=\"line\">    server_name www.batype.com;                         #</span><br><span class=\"line\">    ssl on;</span><br><span class=\"line\">    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()</span><br><span class=\"line\">    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()</span><br><span class=\"line\">    ssl_session_timeout 5m;</span><br><span class=\"line\">    #ssl_protocols SSLv2 SSLv3 TLSv1;</span><br><span class=\"line\">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class=\"line\">    #ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class=\"line\">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class=\"line\">    ssl_prefer_server_ciphers on;</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        gzip_static on;</span><br><span class=\"line\">        root /home/html/songs-note;; #html</span><br><span class=\"line\">        index index.html;</span><br><span class=\"line\">        try_files $uri $uri/ /index.html;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    # location /admin &#123;</span><br><span class=\"line\">    #     proxy_pass http://127.0.0.1:6060/admin;</span><br><span class=\"line\">    #     proxy_read_timeout 300s;</span><br><span class=\"line\">    #     proxy_set_header Host $host;</span><br><span class=\"line\">    #     proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">    #     proxy_set_header Upgrade $http_upgrade;</span><br><span class=\"line\">    #     proxy_set_header Connection $connection_upgrade;</span><br><span class=\"line\">    #     proxy_http_version 1.1;</span><br><span class=\"line\">    # &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen       80;</span><br><span class=\"line\">    server_name  batype.mukang.net;</span><br><span class=\"line\">      location / &#123;</span><br><span class=\"line\">        gzip_static on;</span><br><span class=\"line\">        root /home/html/songs-note; #html</span><br><span class=\"line\">        index index.html;</span><br><span class=\"line\">        try_files $uri $uri/ /index.html;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    # HTTPS</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 443;</span><br><span class=\"line\">    server_name https://batype.mukang.net; #www.batype.com;   #</span><br><span class=\"line\">    ssl on;</span><br><span class=\"line\">    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()</span><br><span class=\"line\">    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()</span><br><span class=\"line\">    ssl_session_timeout 5m;</span><br><span class=\"line\">    #ssl_protocols SSLv2 SSLv3 TLSv1;</span><br><span class=\"line\">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class=\"line\">    #ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class=\"line\">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class=\"line\">    ssl_prefer_server_ciphers on;</span><br><span class=\"line\">  </span><br><span class=\"line\">    # location /admin &#123;</span><br><span class=\"line\">    #     proxy_pass http://127.0.0.1:6060/admin;</span><br><span class=\"line\">    #     proxy_read_timeout 300s;</span><br><span class=\"line\">    #     proxy_set_header Host $host;</span><br><span class=\"line\">    #     proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">    #     proxy_set_header Upgrade $http_upgrade;</span><br><span class=\"line\">    #     proxy_set_header Connection $connection_upgrade;</span><br><span class=\"line\">    #     proxy_http_version 1.1;</span><br><span class=\"line\">    # &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":318,"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r key root@47.108.140.70:/etc/nginx/conf.d/cert</span><br></pre></td></tr></table></figure>\n\n<p>ssh <a href=\"mailto:&#x72;&#x6f;&#x6f;&#116;&#64;&#x34;&#55;&#46;&#49;&#48;&#x38;&#x2e;&#x31;&#x34;&#x30;&#46;&#55;&#x30;\">&#x72;&#x6f;&#x6f;&#116;&#64;&#x34;&#55;&#46;&#49;&#48;&#x38;&#x2e;&#x31;&#x34;&#x30;&#46;&#55;&#x30;</a></p>\n<p>scp -r public&#x2F; <a href=\"mailto:&#114;&#x6f;&#111;&#x74;&#64;&#52;&#55;&#46;&#x31;&#x30;&#x38;&#x2e;&#49;&#52;&#x30;&#x2e;&#x37;&#48;\">&#114;&#x6f;&#111;&#x74;&#64;&#52;&#55;&#46;&#x31;&#x30;&#x38;&#x2e;&#49;&#52;&#x30;&#x2e;&#x37;&#48;</a>:&#x2F;home&#x2F;html&#x2F;songs-note&#x2F;</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 443 ssl;</span><br><span class=\"line\">    server_name www.batype.com;</span><br><span class=\"line\">    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;</span><br><span class=\"line\">    </span><br><span class=\"line\">    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;</span><br><span class=\"line\">    root         /home/html/songs-note;</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        index index.html index.htm;</span><br><span class=\"line\">        try_files $uri $uri/ =404;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen       80;</span><br><span class=\"line\">    server_name  www.batype.com;</span><br><span class=\"line\">    #httphttps(nginx ssl)</span><br><span class=\"line\">    rewrite ^/(.*)$ https://www.batype.com/$1 permanent;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    # HTTPS</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 443;</span><br><span class=\"line\">    server_name www.batype.com;                         #</span><br><span class=\"line\">    ssl on;</span><br><span class=\"line\">    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()</span><br><span class=\"line\">    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()</span><br><span class=\"line\">    ssl_session_timeout 5m;</span><br><span class=\"line\">    #ssl_protocols SSLv2 SSLv3 TLSv1;</span><br><span class=\"line\">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class=\"line\">    #ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class=\"line\">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class=\"line\">    ssl_prefer_server_ciphers on;</span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">        gzip_static on;</span><br><span class=\"line\">        root /home/html/songs-note;; #html</span><br><span class=\"line\">        index index.html;</span><br><span class=\"line\">        try_files $uri $uri/ /index.html;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    # location /admin &#123;</span><br><span class=\"line\">    #     proxy_pass http://127.0.0.1:6060/admin;</span><br><span class=\"line\">    #     proxy_read_timeout 300s;</span><br><span class=\"line\">    #     proxy_set_header Host $host;</span><br><span class=\"line\">    #     proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">    #     proxy_set_header Upgrade $http_upgrade;</span><br><span class=\"line\">    #     proxy_set_header Connection $connection_upgrade;</span><br><span class=\"line\">    #     proxy_http_version 1.1;</span><br><span class=\"line\">    # &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen       80;</span><br><span class=\"line\">    server_name  batype.mukang.net;</span><br><span class=\"line\">      location / &#123;</span><br><span class=\"line\">        gzip_static on;</span><br><span class=\"line\">        root /home/html/songs-note; #html</span><br><span class=\"line\">        index index.html;</span><br><span class=\"line\">        try_files $uri $uri/ /index.html;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    # HTTPS</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 443;</span><br><span class=\"line\">    server_name https://batype.mukang.net; #www.batype.com;   #</span><br><span class=\"line\">    ssl on;</span><br><span class=\"line\">    ssl_certificate /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.pem;         #()</span><br><span class=\"line\">    ssl_certificate_key /etc/nginx/conf.d/cert/www.batype.com/www.batype.com.key;             #()</span><br><span class=\"line\">    ssl_session_timeout 5m;</span><br><span class=\"line\">    #ssl_protocols SSLv2 SSLv3 TLSv1;</span><br><span class=\"line\">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class=\"line\">    #ssl_ciphers HIGH:!aNULL:!MD5;</span><br><span class=\"line\">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class=\"line\">    ssl_prefer_server_ciphers on;</span><br><span class=\"line\">  </span><br><span class=\"line\">    # location /admin &#123;</span><br><span class=\"line\">    #     proxy_pass http://127.0.0.1:6060/admin;</span><br><span class=\"line\">    #     proxy_read_timeout 300s;</span><br><span class=\"line\">    #     proxy_set_header Host $host;</span><br><span class=\"line\">    #     proxy_set_header X-Real-IP $remote_addr;</span><br><span class=\"line\">    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class=\"line\">    #     proxy_set_header Upgrade $http_upgrade;</span><br><span class=\"line\">    #     proxy_set_header Connection $connection_upgrade;</span><br><span class=\"line\">    #     proxy_http_version 1.1;</span><br><span class=\"line\">    # &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"async/await ","date":"2023-10-20T13:20:45.000Z","description":" Promise  async/await ","comments":1,"_content":"\n\n## async/await \nasync/await  Generator then  then async await async function  await  await asnyc  async \n```javascript\nasync function testAsy() {\n\treturn \"hello world;\";\n}\nlet result = testAsy();\nconsole.log(result);\nPromise {<fulfilled>: 'hello world;'}\n[[Prototype]]: Promise\n[[PromiseState]]: \"fulfilled\"\n[[PromiseResult]]: \"hello world;\"\n```\nasync  Promise async Lambda Promise return async Promise.resolve()  Promise async  Promise await then() Promise \n\n```javascript\nasync function testAsy() {\n\treturn \"hello world;\";\n}\nlet result = testAsy();\nconsole.log(result);\nresult.then(res => {\n\tconsole.log(res); // hello world;\n})\n```\n async \n```javascript\nPromise.resolve(undefined);\n```\n Promise await  async Promise Promise \n\n     Promise.resolve(x) new Promise(resolve=>resolve(x)) \n      Promise \n\n## async/await \n Promise  async/await  Promise  then Promise  then  async/await \n setTimeout \n\n```javascript\nfunction takeLongTime(n) {\n\treturn new Promise(resolve => {\n\t\tsetTimeout(() => resolve(n + 200), n)\n\t})\n};\n\nfunction step1(n) {\n\tconsole.log(`step1 with ${n}`);\n\treturn takeLongTime(n);\n}\nfunction step2(n) {\n\tconsole.log(`step2 with ${n}`);\n\treturn takeLongTime(n);\n}\nfunction step3(n) {\n\tconsole.log(`step3 with ${n}`);\n\treturn takeLongTime(n);\n}\n```\n Promise \n```javascript\nfunction doIt(n) {\n\tconsole.time('doIt');\n\tconst time1 = 300;\n\tstep1(time1)\n\t\t.then(time2 => step2(time2))\n\t\t.then(time3 => step3(time3))\n\t\t.then(result => {\n\t\t\tconsole.log(`result is ${result}`);\n\t\t\tconsole.timeEnd('doIt');\n\t\t});\t\n}\n\ndoIt();\nstep1 with 300\nstep2 with 500\nstep3 with 700\nresult is 900\ndoIt: 1.652s\n\n```\n\n result  step3()  700 + 200 = 900doIt() 300 + 500 + 700 = 1500 console.time()/console.timeEnd()  async/await \n```javascript\nasync function doIt() {\n\tconsole.time('doIt');\n\tconst time1 = 300;\n\tconst time2 = await step1(time1);\n\tconst time3 = await step2(time2);\n\tconst result = await step3(time3);\n\tconsole.log(`result is ${result}`);\n\tconsole.timeEnd('doIt');\n}\ndoIt();\nstep1 with 300\nstep2 with 500\nstep3 with 700\nresult is 900\ndoIt: 1.515s\n```\n\n Promise \n\n## async/await  Promise \nPromise then\n\nPromise async/await\n\nasync/await try/catchPromise\n\nPromise .then (step-over).then","source":"_posts/javascript/async-await.md","raw":"---\ntitle: async/await \npermalink: /javascript/async/await.html\ndate: 2023-10-20 21:20:45\ndescription:  Promise  async/await \ntag: [, JavaScript, es6]\ncomments: true\ncategories: \n - \n - es6\n---\n\n\n## async/await \nasync/await  Generator then  then async await async function  await  await asnyc  async \n```javascript\nasync function testAsy() {\n\treturn \"hello world;\";\n}\nlet result = testAsy();\nconsole.log(result);\nPromise {<fulfilled>: 'hello world;'}\n[[Prototype]]: Promise\n[[PromiseState]]: \"fulfilled\"\n[[PromiseResult]]: \"hello world;\"\n```\nasync  Promise async Lambda Promise return async Promise.resolve()  Promise async  Promise await then() Promise \n\n```javascript\nasync function testAsy() {\n\treturn \"hello world;\";\n}\nlet result = testAsy();\nconsole.log(result);\nresult.then(res => {\n\tconsole.log(res); // hello world;\n})\n```\n async \n```javascript\nPromise.resolve(undefined);\n```\n Promise await  async Promise Promise \n\n     Promise.resolve(x) new Promise(resolve=>resolve(x)) \n      Promise \n\n## async/await \n Promise  async/await  Promise  then Promise  then  async/await \n setTimeout \n\n```javascript\nfunction takeLongTime(n) {\n\treturn new Promise(resolve => {\n\t\tsetTimeout(() => resolve(n + 200), n)\n\t})\n};\n\nfunction step1(n) {\n\tconsole.log(`step1 with ${n}`);\n\treturn takeLongTime(n);\n}\nfunction step2(n) {\n\tconsole.log(`step2 with ${n}`);\n\treturn takeLongTime(n);\n}\nfunction step3(n) {\n\tconsole.log(`step3 with ${n}`);\n\treturn takeLongTime(n);\n}\n```\n Promise \n```javascript\nfunction doIt(n) {\n\tconsole.time('doIt');\n\tconst time1 = 300;\n\tstep1(time1)\n\t\t.then(time2 => step2(time2))\n\t\t.then(time3 => step3(time3))\n\t\t.then(result => {\n\t\t\tconsole.log(`result is ${result}`);\n\t\t\tconsole.timeEnd('doIt');\n\t\t});\t\n}\n\ndoIt();\nstep1 with 300\nstep2 with 500\nstep3 with 700\nresult is 900\ndoIt: 1.652s\n\n```\n\n result  step3()  700 + 200 = 900doIt() 300 + 500 + 700 = 1500 console.time()/console.timeEnd()  async/await \n```javascript\nasync function doIt() {\n\tconsole.time('doIt');\n\tconst time1 = 300;\n\tconst time2 = await step1(time1);\n\tconst time3 = await step2(time2);\n\tconst result = await step3(time3);\n\tconsole.log(`result is ${result}`);\n\tconsole.timeEnd('doIt');\n}\ndoIt();\nstep1 with 300\nstep2 with 500\nstep3 with 700\nresult is 900\ndoIt: 1.515s\n```\n\n Promise \n\n## async/await  Promise \nPromise then\n\nPromise async/await\n\nasync/await try/catchPromise\n\nPromise .then (step-over).then","slug":"javascript/async-await","published":1,"updated":"2023-10-23T01:55:15.568Z","__permalink":"/javascript/async/await.html","layout":"post","photos":[],"link":"","_id":"cloigihyc000urmf37gwrchf3","content":"<div id=\"vip-container\"><h2 id=\"async-await-\"><a href=\"#async-await-\" class=\"headerlink\" title=\"async&#x2F;await \"></a>async&#x2F;await </h2><p>async&#x2F;await  Generator then  then async await async function  await  await asnyc  async </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">testAsy</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;hello world;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> result = <span class=\"title function_\">testAsy</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);</span><br><span class=\"line\"><span class=\"title class_\">Promise</span> &#123;&lt;fulfilled&gt;: <span class=\"string\">&#x27;hello world;&#x27;</span>&#125;</span><br><span class=\"line\">[[<span class=\"title class_\">Prototype</span>]]: <span class=\"title class_\">Promise</span></span><br><span class=\"line\">[[<span class=\"title class_\">PromiseState</span>]]: <span class=\"string\">&quot;fulfilled&quot;</span></span><br><span class=\"line\">[[<span class=\"title class_\">PromiseResult</span>]]: <span class=\"string\">&quot;hello world;&quot;</span></span><br></pre></td></tr></table></figure>\n<p>async  Promise async Lambda Promise return async Promise.resolve()  Promise async  Promise await then() Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">testAsy</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;hello world;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> result = <span class=\"title function_\">testAsy</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);</span><br><span class=\"line\">result.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res); <span class=\"comment\">// hello world;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p> async </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"literal\">undefined</span>);</span><br></pre></td></tr></table></figure>\n<p> Promise await  async Promise Promise </p>\n<pre><code> Promise.resolve(x) new Promise(resolve=&gt;resolve(x)) \n  Promise \n</code></pre>\n<h2 id=\"async-await-\"><a href=\"#async-await-\" class=\"headerlink\" title=\"async&#x2F;await \"></a>async&#x2F;await </h2><p> Promise  async&#x2F;await  Promise  then Promise  then  async&#x2F;await <br> setTimeout </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">takeLongTime</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">resolve</span>(n + <span class=\"number\">200</span>), n)</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">step1</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`step1 with <span class=\"subst\">$&#123;n&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">takeLongTime</span>(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">step2</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`step2 with <span class=\"subst\">$&#123;n&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">takeLongTime</span>(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">step3</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`step3 with <span class=\"subst\">$&#123;n&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">takeLongTime</span>(n);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">doIt</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">time</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time1 = <span class=\"number\">300</span>;</span><br><span class=\"line\">\t<span class=\"title function_\">step1</span>(time1)</span><br><span class=\"line\">\t\t.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">time2</span> =&gt;</span> <span class=\"title function_\">step2</span>(time2))</span><br><span class=\"line\">\t\t.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">time3</span> =&gt;</span> <span class=\"title function_\">step3</span>(time3))</span><br><span class=\"line\">\t\t.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`result is <span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">timeEnd</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">\t\t&#125;);\t</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">doIt</span>();</span><br><span class=\"line\">step1 <span class=\"keyword\">with</span> <span class=\"number\">300</span></span><br><span class=\"line\">step2 <span class=\"keyword\">with</span> <span class=\"number\">500</span></span><br><span class=\"line\">step3 <span class=\"keyword\">with</span> <span class=\"number\">700</span></span><br><span class=\"line\">result is <span class=\"number\">900</span></span><br><span class=\"line\"><span class=\"attr\">doIt</span>: <span class=\"number\">1.</span>652s</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p> result  step3()  700 + 200 &#x3D; 900doIt() 300 + 500 + 700 &#x3D; 1500 console.time()&#x2F;console.timeEnd()  async&#x2F;await </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">doIt</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">time</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time1 = <span class=\"number\">300</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time2 = <span class=\"keyword\">await</span> <span class=\"title function_\">step1</span>(time1);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time3 = <span class=\"keyword\">await</span> <span class=\"title function_\">step2</span>(time2);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> <span class=\"title function_\">step3</span>(time3);</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`result is <span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">timeEnd</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">doIt</span>();</span><br><span class=\"line\">step1 <span class=\"keyword\">with</span> <span class=\"number\">300</span></span><br><span class=\"line\">step2 <span class=\"keyword\">with</span> <span class=\"number\">500</span></span><br><span class=\"line\">step3 <span class=\"keyword\">with</span> <span class=\"number\">700</span></span><br><span class=\"line\">result is <span class=\"number\">900</span></span><br><span class=\"line\"><span class=\"attr\">doIt</span>: <span class=\"number\">1.</span>515s</span><br></pre></td></tr></table></figure>\n\n<p> Promise </p>\n<h2 id=\"async-await--Promise-\"><a href=\"#async-await--Promise-\" class=\"headerlink\" title=\"async&#x2F;await  Promise \"></a>async&#x2F;await  Promise </h2><p>Promise then</p>\n<p>Promise async&#x2F;await</p>\n<p>async&#x2F;await try&#x2F;catchPromise</p>\n<p>Promise .then (step-over).then</p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/javascript/promise.html","/hexo/config/rss.html","/linux/install/docker.html"],"length":975,"excerpt":"","more":"<h2 id=\"async-await-\"><a href=\"#async-await-\" class=\"headerlink\" title=\"async&#x2F;await \"></a>async&#x2F;await </h2><p>async&#x2F;await  Generator then  then async await async function  await  await asnyc  async </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">testAsy</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;hello world;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> result = <span class=\"title function_\">testAsy</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);</span><br><span class=\"line\"><span class=\"title class_\">Promise</span> &#123;&lt;fulfilled&gt;: <span class=\"string\">&#x27;hello world;&#x27;</span>&#125;</span><br><span class=\"line\">[[<span class=\"title class_\">Prototype</span>]]: <span class=\"title class_\">Promise</span></span><br><span class=\"line\">[[<span class=\"title class_\">PromiseState</span>]]: <span class=\"string\">&quot;fulfilled&quot;</span></span><br><span class=\"line\">[[<span class=\"title class_\">PromiseResult</span>]]: <span class=\"string\">&quot;hello world;&quot;</span></span><br></pre></td></tr></table></figure>\n<p>async  Promise async Lambda Promise return async Promise.resolve()  Promise async  Promise await then() Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">testAsy</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;hello world;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> result = <span class=\"title function_\">testAsy</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);</span><br><span class=\"line\">result.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res); <span class=\"comment\">// hello world;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p> async </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"literal\">undefined</span>);</span><br></pre></td></tr></table></figure>\n<p> Promise await  async Promise Promise </p>\n<pre><code> Promise.resolve(x) new Promise(resolve=&gt;resolve(x)) \n  Promise \n</code></pre>\n<h2 id=\"async-await-\"><a href=\"#async-await-\" class=\"headerlink\" title=\"async&#x2F;await \"></a>async&#x2F;await </h2><p> Promise  async&#x2F;await  Promise  then Promise  then  async&#x2F;await <br> setTimeout </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">takeLongTime</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> <span class=\"title function_\">resolve</span>(n + <span class=\"number\">200</span>), n)</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">step1</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`step1 with <span class=\"subst\">$&#123;n&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">takeLongTime</span>(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">step2</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`step2 with <span class=\"subst\">$&#123;n&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">takeLongTime</span>(n);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">step3</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`step3 with <span class=\"subst\">$&#123;n&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"title function_\">takeLongTime</span>(n);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> Promise </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">doIt</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">time</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time1 = <span class=\"number\">300</span>;</span><br><span class=\"line\">\t<span class=\"title function_\">step1</span>(time1)</span><br><span class=\"line\">\t\t.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">time2</span> =&gt;</span> <span class=\"title function_\">step2</span>(time2))</span><br><span class=\"line\">\t\t.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">time3</span> =&gt;</span> <span class=\"title function_\">step3</span>(time3))</span><br><span class=\"line\">\t\t.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`result is <span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">timeEnd</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">\t\t&#125;);\t</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">doIt</span>();</span><br><span class=\"line\">step1 <span class=\"keyword\">with</span> <span class=\"number\">300</span></span><br><span class=\"line\">step2 <span class=\"keyword\">with</span> <span class=\"number\">500</span></span><br><span class=\"line\">step3 <span class=\"keyword\">with</span> <span class=\"number\">700</span></span><br><span class=\"line\">result is <span class=\"number\">900</span></span><br><span class=\"line\"><span class=\"attr\">doIt</span>: <span class=\"number\">1.</span>652s</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p> result  step3()  700 + 200 &#x3D; 900doIt() 300 + 500 + 700 &#x3D; 1500 console.time()&#x2F;console.timeEnd()  async&#x2F;await </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">doIt</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">time</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time1 = <span class=\"number\">300</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time2 = <span class=\"keyword\">await</span> <span class=\"title function_\">step1</span>(time1);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> time3 = <span class=\"keyword\">await</span> <span class=\"title function_\">step2</span>(time2);</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> <span class=\"title function_\">step3</span>(time3);</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`result is <span class=\"subst\">$&#123;result&#125;</span>`</span>);</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">timeEnd</span>(<span class=\"string\">&#x27;doIt&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">doIt</span>();</span><br><span class=\"line\">step1 <span class=\"keyword\">with</span> <span class=\"number\">300</span></span><br><span class=\"line\">step2 <span class=\"keyword\">with</span> <span class=\"number\">500</span></span><br><span class=\"line\">step3 <span class=\"keyword\">with</span> <span class=\"number\">700</span></span><br><span class=\"line\">result is <span class=\"number\">900</span></span><br><span class=\"line\"><span class=\"attr\">doIt</span>: <span class=\"number\">1.</span>515s</span><br></pre></td></tr></table></figure>\n\n<p> Promise </p>\n<h2 id=\"async-await--Promise-\"><a href=\"#async-await--Promise-\" class=\"headerlink\" title=\"async&#x2F;await  Promise \"></a>async&#x2F;await  Promise </h2><p>Promise then</p>\n<p>Promise async&#x2F;await</p>\n<p>async&#x2F;await try&#x2F;catchPromise</p>\n<p>Promise .then (step-over).then</p>\n"},{"title":" Promise ","date":"2023-10-19T14:14:04.000Z","description":"Promise   ","comments":1,"_content":"\n##### Promise \n\nPromise   \n<!-- more -->\n Promise ()Promise  Promise  API \n\n1. Promise :\n\n- Pending()\n\n- Resolved()\n\n- Rejected()\n\n promise  Pending  Resolved Rejected\n\n2. Promise :\n    pending -> fulfilled: Resolved()\n    pending -> rejected: Rejected()\n\n    :\n\n##### Promise \n\npromise  pending()fulfilled()rejected( )  promise  ;\n\npromise : pending  fulfilled pending  rejected resolved()  promise  (event): \n\n##### Promise \n\nPromise js classstatusvalueerrorresolverejectthencatchallraceallSettledany\n\n1. \n\n```ts\n  const PROMISE_STATUE_PENDING = \"pending\"; // \n  const PROMISE_STATUE_FULFILLED = \"fulfilled\"; // \n  const PROMISE_STATUE_REJECTED = \"rejected\"; // \n```\n\n2. resolve Promise\n\n```js\n  resolve = (value) => {\n      if (this.statue === PROMISE_STATUE_PENDING) {\n        queueMicrotask(() => {\n          if (this.statue !== PROMISE_STATUE_PENDING) return;\n          this.statue = PROMISE_STATUE_FULFILLED;\n          this.value = value;\n          this.resFns?.forEach((fn) => {\n            fn(this.value);\n          });\n        });\n      }\n    };\n```\n\n   \n\n3. reject Promise\n\n```js\n  reject = (error) => {\n    if (this.statue === PROMISE_STATUE_PENDING) {\n      queueMicrotask(() => {\n        if (this.statue !== PROMISE_STATUE_PENDING) return;\n        this.statue = PROMISE_STATUE_REJECTED;\n        this.error = error;\n        this.errFns.forEach((en) => {\n          en(this.error);\n        });\n      });\n    }\n  };\n```\n\n   \n\n4. then Promise\n\n  - \n\n   ```js\n    constructor(executer) {\n      this.statue = PROMISE_STATUE_PENDING;\n      this.value = void 0;\n      this.error = void 0;\n      this.resFn;\n      this.errFn;\n   \t\tconst resolve = ((value) => {\n        if (this.status === PROMISE_STATUS_PENDING) {\n          this.status = PROMISE_STATUS_FULFILLED\n          \n          queueMicrotask(() => { //queueMicrotask:  \n              this.resfn(value)\n          })\n        }\n      })\n \n      const reject = ((error) => {\n        if (this.status === PROMISE_STATUS_PENDING) {\n          this.status = PROMISE_STATUS_REJECTED\n          queueMicrotask(() => {\n              this.errfn(error)\n          })\n        }\n      })\n       executer(this.resolve, this.reject);\n    }\n\n    then(resFn, errFn) {\n   \t  this.resFn = resFn;\n      this.errFn = errFn;\n    }\n   ```\n  - \n  ```js\n  const p1 = new myPromise((resolve, reject) => {\n    resolve(111)\n    reject(333333)\n  })\n  p1.then(res => {        // 1111\n      console.log(res);\n  }, err => {\n      console.log(err);\n\n  })\n\n  ```\n  - then \n\nthen \n```js\n  this.resFns = [] //1.then  \n  this.errFns = []\n  \n  // then  \n  then(resFn, errFn) {\n    this.resfns.push(resFn);\n    this.errFns.push(errFn);\n  }\n\n  // resolve\n  resolve = (value) => {\n    if (this.statue === PROMISE_STATUE_PENDING) {\n      queueMicrotask(() => {\n        if (this.statue !== PROMISE_STATUE_PENDING) return;\n        this.statue = PROMISE_STATUE_FULFILLED;\n        this.value = value;\n        this.resFns?.forEach((fn) => {\n          fn(this.value);\n        });\n      });\n    }\n  };\n  // reject \n  reject = (error) => {\n    if (this.statue === PROMISE_STATUE_PENDING) {\n      queueMicrotask(() => {\n        if (this.statue !== PROMISE_STATUE_PENDING) return;\n        this.statue = PROMISE_STATUE_REJECTED;\n        this.error = error;\n        this.errFns.forEach((en) => {\n          en(this.error);\n        });\n      });\n    }\n  };\n\n```\n  then\n  ```js\n  p1.then(res => {\n    console.log(\"res1:\", res) \n  }, err => {\n      console.log(\"err1:\", err)\n  })\n  // then\n  p1.then(res => {\n      console.log(\"res2:\", res)\n  }, err => {\n      console.log(\"err2:\", err)\n  })\n\n  ```\nres2: 111  .then  res1 \n* then \nthen,resolve reject\n   ```js\n   then(resFn, errFn) {\n       const defaultOnRejected = (err) => {\n         throw err;\n       };\n       errFn = errFn || defaultOnRejected;\n   \n       const defaultOnFulFilled = (value) => {\n         return value;\n       };\n       resFn = resFn || defaultOnFulFilled;\n   \n       return new MyPromise((resolve, reject) => {\n         if (this.statue === PROMISE_STATUE_FULFILLED && !!resFn) {\n           try {\n             const value = resFn(this.value);\n             resolve(value);\n           } catch (error) {\n             reject(error);\n           }\n         }\n         if (this.statue === PROMISE_STATUE_REJECTED && !!errFn) {\n           try {\n             resolve(value);\n           } catch (error) {\n             reject(error);\n           }\n         }\n         if (this.statue === PROMISE_STATUE_PENDING) {\n           if (!!resFn) {\n             this.resFns.push(() => {\n               try {\n                 const value = resFn(this.value);\n                 resolve(value);\n               } catch (error) {\n                 reject(error);\n               }\n             });\n           }\n   \n           if (!!errFn) {\n             this.errFns.push(() => {\n               try {\n                 const value = errFn(this.error);\n                 resolve(value);\n               } catch (error) {\n                 reject(error);\n               }\n             });\n           }\n         }\n       });\n     }\n   ```\n\n  ```js\n    const p1 = new myPromise((resolve, reject) => {\n        resolve(111);\n        reject(333333);\n    })\n    p1.then(res => {\n        console.log(\"res1:\", res);\n    }, err => {\n        console.log(\"err1:\", err);\n    })\n    // then\n    p1.then(res => {\n        console.log(\"res2:\", res);\n    }, err => {\n        console.log(\"err2:\", err);\n    })\n    \n    res1: 111\n    res2: 111\n  ```\n\n5. catch Promise\n```js\n  // Promise\n  catch(errFn) {\n    return this.then(undefined, errFn);\n  }\n```\n\n6. finally PromisePromise\n```js\n  finally(fn) {\n    setTimeout(() => {\n      fn();\n    }, 0);\n  }\n```\n6. all PromisePromisePromise\n```js\n  // Promise \n  const isPromise = function(promise) {\n    return (\n      !!promise &&\n      (typeof promise === \"object\" || typeof promise === \"function\") &&\n      typeof promise.then === \"function\"\n    );\n  };\n\n  /**\n   * Promise\n   * PromisePromise\n   * @param {any[]} iterable\n   * @desc Promise\n   * resolve \n   * \n   */\n  \n  MyPromise.all = function(iterable) {\n    if (!(iterable instanceof Array)) {\n      return console.log(\"\");\n    }\n    return new MyPromise((resolve, reject) => {\n      let len = iterable.length;\n      let count = 0;\n      let results = new Array(len);\n      for (let i = 0; i < len; i++) {\n        let promise = iterable[i];\n        count++;\n        if (isPromise(promise)) {\n          promise\n            .then((res) => {\n              results[i] = res;\n              if (count === len) {\n                resolve(results);\n              }\n            })\n            .catch((err) => {\n              reject(err);\n            });\n        } else if (typeof promise === \"function\") {\n          results[i] = promise();\n        } else {\n          results[i] = promise;\n        }\n      }\n      // promiseresolve\n      if (count === len) {\n        resolve(results);\n      }\n    });\n  };\n```\nall \n```js\n  (async function() {\n    const res = MyPromise.all([\n      new MyPromise((resolve) => {\n        resolve(1);\n      }),\n      new MyPromise((resolve) => {\n        resolve(2);\n      }),\n      () => {\n        return 123;\n      },\n      88888,\n    ]);\n    res.then((res) => {\n      console.log(res);\n    });\n  })();\n  : [1, 2, 123,  88888]\n```\n\n7. race Promise.race(iterable) , resolve \n\n```js\nMyPromise.race = function(iterable) {\n  if (!(iterable instanceof Array)) {\n    return console.log(\"\");\n  }\n  return new MyPromise((resolve, reject) => {\n    iterable.forEach((p) => {\n      if (isPromise(p)) {\n        p.then((value) => {\n          resolve(value);\n        }).catch((err) => {\n          reject(err);\n        });\n      } else if (typeof p === \"function\") {\n        resolve(p());\n      } else {\n        resolve(p);\n      }\n    });\n  });\n};\n```\nrace \n```js\n  (async function() {\n    const res = MyPromise.race([\n      new MyPromise((resolve) => {\n        resolve(1);\n      }),\n      new MyPromise((resolve) => {\n        resolve(2);\n      }),\n    ]);\n    res.then((res) => {\n      console.log(res);\n    });\n  })();\n   1\n```\n\n\n```js\n  // status\n  const PROMISE_STATUE_PENDING = \"pending\"; // \n  const PROMISE_STATUE_FULFILLED = \"fulfilled\"; // \n  const PROMISE_STATUE_REJECTED = \"rejected\"; // \n\n  class MyPromise {\n    constructor(executer) {\n      this.statue = PROMISE_STATUE_PENDING;\n      this.value = void 0;\n      this.error = void 0;\n      this.resFns = [];\n      this.errFns = [];\n\n      executer(this.resolve, this.reject);\n    }\n    //    Promise\n    resolve = (value) => {\n      if (this.statue === PROMISE_STATUE_PENDING) {\n        queueMicrotask(() => {\n          if (this.statue !== PROMISE_STATUE_PENDING) return;\n          this.statue = PROMISE_STATUE_FULFILLED;\n          this.value = value;\n          this.resFns?.forEach((fn) => {\n            fn(this.value);\n          });\n        });\n      }\n    };\n    // Promise\n    reject = (error) => {\n      if (this.statue === PROMISE_STATUE_PENDING) {\n        queueMicrotask(() => {\n          if (this.statue !== PROMISE_STATUE_PENDING) return;\n          this.statue = PROMISE_STATUE_REJECTED;\n          this.error = error;\n          this.errFns.forEach((en) => {\n            en(this.error);\n          });\n        });\n      }\n    };\n    //   Promise\n    then(resFn, errFn) {\n      const defaultOnRejected = (err) => {\n        throw err;\n      };\n      errFn = errFn || defaultOnRejected;\n\n      const defaultOnFulFilled = (value) => {\n        return value;\n      };\n      resFn = resFn || defaultOnFulFilled;\n\n      return new MyPromise((resolve, reject) => {\n        if (this.statue === PROMISE_STATUE_FULFILLED && !!resFn) {\n          try {\n            const value = resFn(this.value);\n            resolve(value);\n          } catch (error) {\n            reject(error);\n          }\n        }\n        if (this.statue === PROMISE_STATUE_REJECTED && !!errFn) {\n          try {\n            resolve(value);\n          } catch (error) {\n            reject(error);\n          }\n        }\n        if (this.statue === PROMISE_STATUE_PENDING) {\n          if (!!resFn) {\n            this.resFns.push(() => {\n              try {\n                const value = resFn(this.value);\n                resolve(value);\n              } catch (error) {\n                reject(error);\n              }\n            });\n          }\n\n          if (!!errFn) {\n            this.errFns.push(() => {\n              try {\n                const value = errFn(this.error);\n                resolve(value);\n              } catch (error) {\n                reject(error);\n              }\n            });\n          }\n        }\n      });\n    }\n    // Promise\n    catch(errFn) {\n      return this.then(undefined, errFn);\n    }\n    // PromisePromise\n    finally(fn) {\n      setTimeout(() => {\n        fn();\n      }, 0);\n    }\n  }\n\n  const isPromise = function(promise) {\n    return (\n      !!promise &&\n      (typeof promise === \"object\" || typeof promise === \"function\") &&\n      typeof promise.then === \"function\"\n    );\n  };\n\n  /**\n   * Promise\n   * PromisePromise\n   * @param {any[]} iterable\n   */\n  MyPromise.all = function(iterable) {\n    if (!(iterable instanceof Array)) {\n      return console.log(\"\");\n    }\n    return new MyPromise((resolve, reject) => {\n      let len = iterable.length;\n      let count = 0;\n      let results = new Array(len);\n      for (let i = 0; i < len; i++) {\n        let promise = iterable[i];\n        count++;\n        if (isPromise(promise)) {\n          promise\n            .then((res) => {\n              results[i] = res;\n              if (count === len) {\n                resolve(results);\n              }\n            })\n            .catch((err) => {\n              reject(err);\n            });\n        } else if (typeof promise === \"function\") {\n          results[i] = promise();\n        } else {\n          results[i] = promise;\n        }\n      }\n      // promiseresolve\n      if (count === len) {\n        resolve(results);\n      }\n    });\n  };\n\n  MyPromise.race = function(iterable) {\n    if (!(iterable instanceof Array)) {\n      return console.log(\"\");\n    }\n    return new MyPromise((resolve, reject) => {\n      iterable.forEach((p) => {\n        if (isPromise(p)) {\n          p.then((value) => {\n            resolve(value);\n          }).catch((err) => {\n            reject(err);\n          });\n        } else if (typeof p === \"function\") {\n          resolve(p());\n        } else {\n          resolve(p);\n        }\n      });\n    });\n  };\n  // const p1 = new MyPromise((resolve, reject) => {\n  //   console.log(\"pending\");\n  //   resolve(\"22222\");\n  //   reject(\"3333333\");\n  // });\n\n  // p1.then((res) => {\n  //   console.log(\"res1:\", res);\n  //   return \"\";\n  // })\n  //   .catch((error) => {\n  //     console.log(\"err1:\", error);\n  //     throw new Error(\"\");\n  //   })\n  //   .finally(() => {\n  //     console.log(\"finally\");\n  //   });\n  // (async function() {\n  //   const res = MyPromise.all([\n  //     new MyPromise((resolve) => {\n  //       resolve(1);\n  //     }),\n  //     new MyPromise((resolve) => {\n  //       resolve(2);\n  //     }),\n  //     () => {\n  //       return 123;\n  //     },\n  //     88888,\n  //   ]);\n  //   res.then((res) => {\n  //     console.log(res);\n  //   });\n  // })();\n\n  // (async function() {\n  //   const res = MyPromise.race([\n  //     new MyPromise((resolve) => {\n  //       resolve(1);\n  //     }),\n  //     new MyPromise((resolve) => {\n  //       resolve(2);\n  //     }),\n  //   ]);\n  //   res.then((res) => {\n  //     console.log(res);\n  //   });\n  // })();\n\n```\n\n##### Promise \n\n Promise\n\nPromise \n\n pending ( )\n\n##### :\n\nPromise Promise  Promise   Promise  pendingresolved  rejected pending  resolved  rejected  \n\n resolve()  reject()   Promise   then  then   \n\n: Promise \n","source":"_posts/javascript/promise.md","raw":"---\ntitle:  Promise \npermalink: /javascript/promise.html\ndate: 2023-10-19 22:14:04\ndescription: Promise   \ntag: [, JavaScript, es6]\ncomments: true\ncategories: \n - \n - es6\n---\n\n##### Promise \n\nPromise   \n<!-- more -->\n Promise ()Promise  Promise  API \n\n1. Promise :\n\n- Pending()\n\n- Resolved()\n\n- Rejected()\n\n promise  Pending  Resolved Rejected\n\n2. Promise :\n    pending -> fulfilled: Resolved()\n    pending -> rejected: Rejected()\n\n    :\n\n##### Promise \n\npromise  pending()fulfilled()rejected( )  promise  ;\n\npromise : pending  fulfilled pending  rejected resolved()  promise  (event): \n\n##### Promise \n\nPromise js classstatusvalueerrorresolverejectthencatchallraceallSettledany\n\n1. \n\n```ts\n  const PROMISE_STATUE_PENDING = \"pending\"; // \n  const PROMISE_STATUE_FULFILLED = \"fulfilled\"; // \n  const PROMISE_STATUE_REJECTED = \"rejected\"; // \n```\n\n2. resolve Promise\n\n```js\n  resolve = (value) => {\n      if (this.statue === PROMISE_STATUE_PENDING) {\n        queueMicrotask(() => {\n          if (this.statue !== PROMISE_STATUE_PENDING) return;\n          this.statue = PROMISE_STATUE_FULFILLED;\n          this.value = value;\n          this.resFns?.forEach((fn) => {\n            fn(this.value);\n          });\n        });\n      }\n    };\n```\n\n   \n\n3. reject Promise\n\n```js\n  reject = (error) => {\n    if (this.statue === PROMISE_STATUE_PENDING) {\n      queueMicrotask(() => {\n        if (this.statue !== PROMISE_STATUE_PENDING) return;\n        this.statue = PROMISE_STATUE_REJECTED;\n        this.error = error;\n        this.errFns.forEach((en) => {\n          en(this.error);\n        });\n      });\n    }\n  };\n```\n\n   \n\n4. then Promise\n\n  - \n\n   ```js\n    constructor(executer) {\n      this.statue = PROMISE_STATUE_PENDING;\n      this.value = void 0;\n      this.error = void 0;\n      this.resFn;\n      this.errFn;\n   \t\tconst resolve = ((value) => {\n        if (this.status === PROMISE_STATUS_PENDING) {\n          this.status = PROMISE_STATUS_FULFILLED\n          \n          queueMicrotask(() => { //queueMicrotask:  \n              this.resfn(value)\n          })\n        }\n      })\n \n      const reject = ((error) => {\n        if (this.status === PROMISE_STATUS_PENDING) {\n          this.status = PROMISE_STATUS_REJECTED\n          queueMicrotask(() => {\n              this.errfn(error)\n          })\n        }\n      })\n       executer(this.resolve, this.reject);\n    }\n\n    then(resFn, errFn) {\n   \t  this.resFn = resFn;\n      this.errFn = errFn;\n    }\n   ```\n  - \n  ```js\n  const p1 = new myPromise((resolve, reject) => {\n    resolve(111)\n    reject(333333)\n  })\n  p1.then(res => {        // 1111\n      console.log(res);\n  }, err => {\n      console.log(err);\n\n  })\n\n  ```\n  - then \n\nthen \n```js\n  this.resFns = [] //1.then  \n  this.errFns = []\n  \n  // then  \n  then(resFn, errFn) {\n    this.resfns.push(resFn);\n    this.errFns.push(errFn);\n  }\n\n  // resolve\n  resolve = (value) => {\n    if (this.statue === PROMISE_STATUE_PENDING) {\n      queueMicrotask(() => {\n        if (this.statue !== PROMISE_STATUE_PENDING) return;\n        this.statue = PROMISE_STATUE_FULFILLED;\n        this.value = value;\n        this.resFns?.forEach((fn) => {\n          fn(this.value);\n        });\n      });\n    }\n  };\n  // reject \n  reject = (error) => {\n    if (this.statue === PROMISE_STATUE_PENDING) {\n      queueMicrotask(() => {\n        if (this.statue !== PROMISE_STATUE_PENDING) return;\n        this.statue = PROMISE_STATUE_REJECTED;\n        this.error = error;\n        this.errFns.forEach((en) => {\n          en(this.error);\n        });\n      });\n    }\n  };\n\n```\n  then\n  ```js\n  p1.then(res => {\n    console.log(\"res1:\", res) \n  }, err => {\n      console.log(\"err1:\", err)\n  })\n  // then\n  p1.then(res => {\n      console.log(\"res2:\", res)\n  }, err => {\n      console.log(\"err2:\", err)\n  })\n\n  ```\nres2: 111  .then  res1 \n* then \nthen,resolve reject\n   ```js\n   then(resFn, errFn) {\n       const defaultOnRejected = (err) => {\n         throw err;\n       };\n       errFn = errFn || defaultOnRejected;\n   \n       const defaultOnFulFilled = (value) => {\n         return value;\n       };\n       resFn = resFn || defaultOnFulFilled;\n   \n       return new MyPromise((resolve, reject) => {\n         if (this.statue === PROMISE_STATUE_FULFILLED && !!resFn) {\n           try {\n             const value = resFn(this.value);\n             resolve(value);\n           } catch (error) {\n             reject(error);\n           }\n         }\n         if (this.statue === PROMISE_STATUE_REJECTED && !!errFn) {\n           try {\n             resolve(value);\n           } catch (error) {\n             reject(error);\n           }\n         }\n         if (this.statue === PROMISE_STATUE_PENDING) {\n           if (!!resFn) {\n             this.resFns.push(() => {\n               try {\n                 const value = resFn(this.value);\n                 resolve(value);\n               } catch (error) {\n                 reject(error);\n               }\n             });\n           }\n   \n           if (!!errFn) {\n             this.errFns.push(() => {\n               try {\n                 const value = errFn(this.error);\n                 resolve(value);\n               } catch (error) {\n                 reject(error);\n               }\n             });\n           }\n         }\n       });\n     }\n   ```\n\n  ```js\n    const p1 = new myPromise((resolve, reject) => {\n        resolve(111);\n        reject(333333);\n    })\n    p1.then(res => {\n        console.log(\"res1:\", res);\n    }, err => {\n        console.log(\"err1:\", err);\n    })\n    // then\n    p1.then(res => {\n        console.log(\"res2:\", res);\n    }, err => {\n        console.log(\"err2:\", err);\n    })\n    \n    res1: 111\n    res2: 111\n  ```\n\n5. catch Promise\n```js\n  // Promise\n  catch(errFn) {\n    return this.then(undefined, errFn);\n  }\n```\n\n6. finally PromisePromise\n```js\n  finally(fn) {\n    setTimeout(() => {\n      fn();\n    }, 0);\n  }\n```\n6. all PromisePromisePromise\n```js\n  // Promise \n  const isPromise = function(promise) {\n    return (\n      !!promise &&\n      (typeof promise === \"object\" || typeof promise === \"function\") &&\n      typeof promise.then === \"function\"\n    );\n  };\n\n  /**\n   * Promise\n   * PromisePromise\n   * @param {any[]} iterable\n   * @desc Promise\n   * resolve \n   * \n   */\n  \n  MyPromise.all = function(iterable) {\n    if (!(iterable instanceof Array)) {\n      return console.log(\"\");\n    }\n    return new MyPromise((resolve, reject) => {\n      let len = iterable.length;\n      let count = 0;\n      let results = new Array(len);\n      for (let i = 0; i < len; i++) {\n        let promise = iterable[i];\n        count++;\n        if (isPromise(promise)) {\n          promise\n            .then((res) => {\n              results[i] = res;\n              if (count === len) {\n                resolve(results);\n              }\n            })\n            .catch((err) => {\n              reject(err);\n            });\n        } else if (typeof promise === \"function\") {\n          results[i] = promise();\n        } else {\n          results[i] = promise;\n        }\n      }\n      // promiseresolve\n      if (count === len) {\n        resolve(results);\n      }\n    });\n  };\n```\nall \n```js\n  (async function() {\n    const res = MyPromise.all([\n      new MyPromise((resolve) => {\n        resolve(1);\n      }),\n      new MyPromise((resolve) => {\n        resolve(2);\n      }),\n      () => {\n        return 123;\n      },\n      88888,\n    ]);\n    res.then((res) => {\n      console.log(res);\n    });\n  })();\n  : [1, 2, 123,  88888]\n```\n\n7. race Promise.race(iterable) , resolve \n\n```js\nMyPromise.race = function(iterable) {\n  if (!(iterable instanceof Array)) {\n    return console.log(\"\");\n  }\n  return new MyPromise((resolve, reject) => {\n    iterable.forEach((p) => {\n      if (isPromise(p)) {\n        p.then((value) => {\n          resolve(value);\n        }).catch((err) => {\n          reject(err);\n        });\n      } else if (typeof p === \"function\") {\n        resolve(p());\n      } else {\n        resolve(p);\n      }\n    });\n  });\n};\n```\nrace \n```js\n  (async function() {\n    const res = MyPromise.race([\n      new MyPromise((resolve) => {\n        resolve(1);\n      }),\n      new MyPromise((resolve) => {\n        resolve(2);\n      }),\n    ]);\n    res.then((res) => {\n      console.log(res);\n    });\n  })();\n   1\n```\n\n\n```js\n  // status\n  const PROMISE_STATUE_PENDING = \"pending\"; // \n  const PROMISE_STATUE_FULFILLED = \"fulfilled\"; // \n  const PROMISE_STATUE_REJECTED = \"rejected\"; // \n\n  class MyPromise {\n    constructor(executer) {\n      this.statue = PROMISE_STATUE_PENDING;\n      this.value = void 0;\n      this.error = void 0;\n      this.resFns = [];\n      this.errFns = [];\n\n      executer(this.resolve, this.reject);\n    }\n    //    Promise\n    resolve = (value) => {\n      if (this.statue === PROMISE_STATUE_PENDING) {\n        queueMicrotask(() => {\n          if (this.statue !== PROMISE_STATUE_PENDING) return;\n          this.statue = PROMISE_STATUE_FULFILLED;\n          this.value = value;\n          this.resFns?.forEach((fn) => {\n            fn(this.value);\n          });\n        });\n      }\n    };\n    // Promise\n    reject = (error) => {\n      if (this.statue === PROMISE_STATUE_PENDING) {\n        queueMicrotask(() => {\n          if (this.statue !== PROMISE_STATUE_PENDING) return;\n          this.statue = PROMISE_STATUE_REJECTED;\n          this.error = error;\n          this.errFns.forEach((en) => {\n            en(this.error);\n          });\n        });\n      }\n    };\n    //   Promise\n    then(resFn, errFn) {\n      const defaultOnRejected = (err) => {\n        throw err;\n      };\n      errFn = errFn || defaultOnRejected;\n\n      const defaultOnFulFilled = (value) => {\n        return value;\n      };\n      resFn = resFn || defaultOnFulFilled;\n\n      return new MyPromise((resolve, reject) => {\n        if (this.statue === PROMISE_STATUE_FULFILLED && !!resFn) {\n          try {\n            const value = resFn(this.value);\n            resolve(value);\n          } catch (error) {\n            reject(error);\n          }\n        }\n        if (this.statue === PROMISE_STATUE_REJECTED && !!errFn) {\n          try {\n            resolve(value);\n          } catch (error) {\n            reject(error);\n          }\n        }\n        if (this.statue === PROMISE_STATUE_PENDING) {\n          if (!!resFn) {\n            this.resFns.push(() => {\n              try {\n                const value = resFn(this.value);\n                resolve(value);\n              } catch (error) {\n                reject(error);\n              }\n            });\n          }\n\n          if (!!errFn) {\n            this.errFns.push(() => {\n              try {\n                const value = errFn(this.error);\n                resolve(value);\n              } catch (error) {\n                reject(error);\n              }\n            });\n          }\n        }\n      });\n    }\n    // Promise\n    catch(errFn) {\n      return this.then(undefined, errFn);\n    }\n    // PromisePromise\n    finally(fn) {\n      setTimeout(() => {\n        fn();\n      }, 0);\n    }\n  }\n\n  const isPromise = function(promise) {\n    return (\n      !!promise &&\n      (typeof promise === \"object\" || typeof promise === \"function\") &&\n      typeof promise.then === \"function\"\n    );\n  };\n\n  /**\n   * Promise\n   * PromisePromise\n   * @param {any[]} iterable\n   */\n  MyPromise.all = function(iterable) {\n    if (!(iterable instanceof Array)) {\n      return console.log(\"\");\n    }\n    return new MyPromise((resolve, reject) => {\n      let len = iterable.length;\n      let count = 0;\n      let results = new Array(len);\n      for (let i = 0; i < len; i++) {\n        let promise = iterable[i];\n        count++;\n        if (isPromise(promise)) {\n          promise\n            .then((res) => {\n              results[i] = res;\n              if (count === len) {\n                resolve(results);\n              }\n            })\n            .catch((err) => {\n              reject(err);\n            });\n        } else if (typeof promise === \"function\") {\n          results[i] = promise();\n        } else {\n          results[i] = promise;\n        }\n      }\n      // promiseresolve\n      if (count === len) {\n        resolve(results);\n      }\n    });\n  };\n\n  MyPromise.race = function(iterable) {\n    if (!(iterable instanceof Array)) {\n      return console.log(\"\");\n    }\n    return new MyPromise((resolve, reject) => {\n      iterable.forEach((p) => {\n        if (isPromise(p)) {\n          p.then((value) => {\n            resolve(value);\n          }).catch((err) => {\n            reject(err);\n          });\n        } else if (typeof p === \"function\") {\n          resolve(p());\n        } else {\n          resolve(p);\n        }\n      });\n    });\n  };\n  // const p1 = new MyPromise((resolve, reject) => {\n  //   console.log(\"pending\");\n  //   resolve(\"22222\");\n  //   reject(\"3333333\");\n  // });\n\n  // p1.then((res) => {\n  //   console.log(\"res1:\", res);\n  //   return \"\";\n  // })\n  //   .catch((error) => {\n  //     console.log(\"err1:\", error);\n  //     throw new Error(\"\");\n  //   })\n  //   .finally(() => {\n  //     console.log(\"finally\");\n  //   });\n  // (async function() {\n  //   const res = MyPromise.all([\n  //     new MyPromise((resolve) => {\n  //       resolve(1);\n  //     }),\n  //     new MyPromise((resolve) => {\n  //       resolve(2);\n  //     }),\n  //     () => {\n  //       return 123;\n  //     },\n  //     88888,\n  //   ]);\n  //   res.then((res) => {\n  //     console.log(res);\n  //   });\n  // })();\n\n  // (async function() {\n  //   const res = MyPromise.race([\n  //     new MyPromise((resolve) => {\n  //       resolve(1);\n  //     }),\n  //     new MyPromise((resolve) => {\n  //       resolve(2);\n  //     }),\n  //   ]);\n  //   res.then((res) => {\n  //     console.log(res);\n  //   });\n  // })();\n\n```\n\n##### Promise \n\n Promise\n\nPromise \n\n pending ( )\n\n##### :\n\nPromise Promise  Promise   Promise  pendingresolved  rejected pending  resolved  rejected  \n\n resolve()  reject()   Promise   then  then   \n\n: Promise \n","slug":"javascript/promise","published":1,"updated":"2023-10-23T01:55:15.571Z","__permalink":"/javascript/promise.html","layout":"post","photos":[],"link":"","_id":"cloigihyd000wrmf3d8st11s9","content":"<div id=\"vip-container\"><h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p>Promise   </p>\n<span id=\"more\"></span>\n<p> Promise ()Promise  Promise  API </p>\n<ol>\n<li>Promise :</li>\n</ol>\n<ul>\n<li><p>Pending()</p>\n</li>\n<li><p>Resolved()</p>\n</li>\n<li><p>Rejected()</p>\n</li>\n</ul>\n<p> promise  Pending  Resolved Rejected</p>\n<ol start=\"2\">\n<li><p>Promise :<br> pending -&gt; fulfilled: Resolved()<br> pending -&gt; rejected: Rejected()</p>\n<p> :</p>\n</li>\n</ol>\n<h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p>promise  pending()fulfilled()rejected( )  promise  ;</p>\n<p>promise : pending  fulfilled pending  rejected resolved()  promise  (event): </p>\n<h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p>Promise js classstatusvalueerrorresolverejectthencatchallraceallSettledany</p>\n<ol>\n<li></li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span> = <span class=\"string\">&quot;pending&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> = <span class=\"string\">&quot;fulfilled&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> = <span class=\"string\">&quot;rejected&quot;</span>; <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>resolve Promise</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resolve = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>?.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">fn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">fn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>reject Promise</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reject = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = error;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">en</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">en</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>then Promise</li>\n</ol>\n<ul>\n<li></li>\n</ul>\n   <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">constructor</span>(<span class=\"params\">executer</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">resFn</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">errFn</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> resolve = (<span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> === <span class=\"variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = <span class=\"variable constant_\">PROMISE_STATUS_FULFILLED</span></span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123; <span class=\"comment\">//queueMicrotask:  </span></span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"title function_\">resfn</span>(value)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"keyword\">const</span> reject = (<span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> === <span class=\"variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = <span class=\"variable constant_\">PROMISE_STATUS_REJECTED</span></span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"title function_\">errfn</span>(error)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">   <span class=\"title function_\">executer</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">resolve</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">reject</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">resFn</span> = resFn;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">errFn</span> = errFn;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p1 = <span class=\"keyword\">new</span> <span class=\"title function_\">myPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">resolve</span>(<span class=\"number\">111</span>)</span><br><span class=\"line\">  <span class=\"title function_\">reject</span>(<span class=\"number\">333333</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;        <span class=\"comment\">// 1111</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>then </li>\n</ul>\n<p>then </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span> = [] <span class=\"comment\">//1.then  </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span> = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// then  </span></span><br><span class=\"line\"><span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">resfns</span>.<span class=\"title function_\">push</span>(resFn);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">push</span>(errFn);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// resolve</span></span><br><span class=\"line\">resolve = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>?.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">fn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">fn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// reject </span></span><br><span class=\"line\">reject = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = error;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">en</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">en</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>  then<br>  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res1:&quot;</span>, res) </span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err1:&quot;</span>, err)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// then</span></span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res2:&quot;</span>, res)</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err2:&quot;</span>, err)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>res2: 111  .then  res1 <br>* then <br>then,resolve reject<br>   <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnRejected</span> = (<span class=\"params\">err</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> err;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    errFn = errFn || defaultOnRejected;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnFulFilled</span> = (<span class=\"params\">value</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    resFn = resFn || defaultOnFulFilled;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> &amp;&amp; !!resFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> &amp;&amp; !!errFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!resFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!errFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">errFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><br><br>  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p1 = <span class=\"keyword\">new</span> <span class=\"title function_\">myPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>(<span class=\"number\">111</span>);</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"number\">333333</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res1:&quot;</span>, res);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err1:&quot;</span>, err);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// then</span></span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res2:&quot;</span>, res);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err2:&quot;</span>, err);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">res1</span>: <span class=\"number\">111</span></span><br><span class=\"line\"><span class=\"attr\">res2</span>: <span class=\"number\">111</span></span><br></pre></td></tr></table></figure></p>\n<ol start=\"5\">\n<li><p>catch Promise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Promise</span></span><br><span class=\"line\"><span class=\"keyword\">catch</span>(errFn) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">then</span>(<span class=\"literal\">undefined</span>, errFn);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>finally PromisePromise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">finally</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>all PromisePromisePromise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Promise </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> isPromise = <span class=\"keyword\">function</span>(<span class=\"params\">promise</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !!promise &amp;&amp;</span><br><span class=\"line\">    (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;object&quot;</span> || <span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &amp;&amp;</span><br><span class=\"line\">    <span class=\"keyword\">typeof</span> promise.<span class=\"property\">then</span> === <span class=\"string\">&quot;function&quot;</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Promise</span></span><br><span class=\"line\"><span class=\"comment\"> * PromisePromise</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">any[]</span>&#125; <span class=\"variable\">iterable</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@desc</span> Promise</span></span><br><span class=\"line\"><span class=\"comment\"> * resolve </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">all</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> len = iterable.<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> results = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(len);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> promise = iterable[i];</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(promise)) &#123;</span><br><span class=\"line\">        promise</span><br><span class=\"line\">          .<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            results[i] = res;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        results[i] = <span class=\"title function_\">promise</span>();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        results[i] = promise;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// promiseresolve</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>all </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">async</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res = <span class=\"title class_\">MyPromise</span>.<span class=\"title function_\">all</span>([</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">123</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"number\">88888</span>,</span><br><span class=\"line\">  ]);</span><br><span class=\"line\">  res.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\">: [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">123</span>,  <span class=\"number\">88888</span>]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>race Promise.race(iterable) , resolve </p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">race</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    iterable.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">p</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(p)) &#123;</span><br><span class=\"line\">        p.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125;).<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> p === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"title function_\">p</span>());</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(p);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>race </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">async</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res = <span class=\"title class_\">MyPromise</span>.<span class=\"title function_\">race</span>([</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]);</span><br><span class=\"line\">  res.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// status</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span> = <span class=\"string\">&quot;pending&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> = <span class=\"string\">&quot;fulfilled&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> = <span class=\"string\">&quot;rejected&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyPromise</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">executer</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span> = [];</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span> = [];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">executer</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">resolve</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">reject</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//    Promise</span></span><br><span class=\"line\">  resolve = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>?.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">fn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">fn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// Promise</span></span><br><span class=\"line\">  reject = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = error;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">en</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">en</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">//   Promise</span></span><br><span class=\"line\">  <span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnRejected</span> = (<span class=\"params\">err</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> err;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    errFn = errFn || defaultOnRejected;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnFulFilled</span> = (<span class=\"params\">value</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    resFn = resFn || defaultOnFulFilled;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> &amp;&amp; !!resFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> &amp;&amp; !!errFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!resFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!errFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">errFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Promise</span></span><br><span class=\"line\">  <span class=\"keyword\">catch</span>(errFn) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">then</span>(<span class=\"literal\">undefined</span>, errFn);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// PromisePromise</span></span><br><span class=\"line\">  <span class=\"title function_\">finally</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> isPromise = <span class=\"keyword\">function</span>(<span class=\"params\">promise</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !!promise &amp;&amp;</span><br><span class=\"line\">    (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;object&quot;</span> || <span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &amp;&amp;</span><br><span class=\"line\">    <span class=\"keyword\">typeof</span> promise.<span class=\"property\">then</span> === <span class=\"string\">&quot;function&quot;</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Promise</span></span><br><span class=\"line\"><span class=\"comment\"> * PromisePromise</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">any[]</span>&#125; <span class=\"variable\">iterable</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">all</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> len = iterable.<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> results = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(len);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> promise = iterable[i];</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(promise)) &#123;</span><br><span class=\"line\">        promise</span><br><span class=\"line\">          .<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            results[i] = res;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        results[i] = <span class=\"title function_\">promise</span>();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        results[i] = promise;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// promiseresolve</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">race</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    iterable.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">p</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(p)) &#123;</span><br><span class=\"line\">        p.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125;).<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> p === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"title function_\">p</span>());</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(p);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// const p1 = new MyPromise((resolve, reject) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   console.log(&quot;pending&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   resolve(&quot;22222&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   reject(&quot;3333333&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;);</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// p1.then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   console.log(&quot;res1:&quot;, res);</span></span><br><span class=\"line\"><span class=\"comment\">//   return &quot;&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;)</span></span><br><span class=\"line\"><span class=\"comment\">//   .catch((error) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(&quot;err1:&quot;, error);</span></span><br><span class=\"line\"><span class=\"comment\">//     throw new Error(&quot;&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;)</span></span><br><span class=\"line\"><span class=\"comment\">//   .finally(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(&quot;finally&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;);</span></span><br><span class=\"line\"><span class=\"comment\">// (async function() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   const res = MyPromise.all([</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(1);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(2);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//     () =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       return 123;</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//     88888,</span></span><br><span class=\"line\"><span class=\"comment\">//   ]);</span></span><br><span class=\"line\"><span class=\"comment\">//   res.then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(res);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;);</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;)();</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// (async function() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   const res = MyPromise.race([</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(1);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(2);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//   ]);</span></span><br><span class=\"line\"><span class=\"comment\">//   res.then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(res);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;);</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;)();</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p> Promise</p>\n<p>Promise </p>\n<p> pending ( )</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h5><p>Promise Promise  Promise   Promise  pendingresolved  rejected pending  resolved  rejected  </p>\n<p> resolve()  reject()   Promise   then  then   </p>\n<p>: Promise </p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/javascript/async/await.html"],"length":2558,"excerpt":"<h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p>Promise   </p>","more":"<p> Promise ()Promise  Promise  API </p>\n<ol>\n<li>Promise :</li>\n</ol>\n<ul>\n<li><p>Pending()</p>\n</li>\n<li><p>Resolved()</p>\n</li>\n<li><p>Rejected()</p>\n</li>\n</ul>\n<p> promise  Pending  Resolved Rejected</p>\n<ol start=\"2\">\n<li><p>Promise :<br> pending -&gt; fulfilled: Resolved()<br> pending -&gt; rejected: Rejected()</p>\n<p> :</p>\n</li>\n</ol>\n<h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p>promise  pending()fulfilled()rejected( )  promise  ;</p>\n<p>promise : pending  fulfilled pending  rejected resolved()  promise  (event): </p>\n<h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p>Promise js classstatusvalueerrorresolverejectthencatchallraceallSettledany</p>\n<ol>\n<li></li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span> = <span class=\"string\">&quot;pending&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> = <span class=\"string\">&quot;fulfilled&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> = <span class=\"string\">&quot;rejected&quot;</span>; <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>resolve Promise</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resolve = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>?.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">fn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">fn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>reject Promise</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reject = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = error;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">en</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">en</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>then Promise</li>\n</ol>\n<ul>\n<li></li>\n</ul>\n   <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">constructor</span>(<span class=\"params\">executer</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">resFn</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">errFn</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> resolve = (<span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> === <span class=\"variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = <span class=\"variable constant_\">PROMISE_STATUS_FULFILLED</span></span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123; <span class=\"comment\">//queueMicrotask:  </span></span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"title function_\">resfn</span>(value)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"> </span><br><span class=\"line\">  <span class=\"keyword\">const</span> reject = (<span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> === <span class=\"variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">status</span> = <span class=\"variable constant_\">PROMISE_STATUS_REJECTED</span></span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"title function_\">errfn</span>(error)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">   <span class=\"title function_\">executer</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">resolve</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">reject</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">resFn</span> = resFn;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">errFn</span> = errFn;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p1 = <span class=\"keyword\">new</span> <span class=\"title function_\">myPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">resolve</span>(<span class=\"number\">111</span>)</span><br><span class=\"line\">  <span class=\"title function_\">reject</span>(<span class=\"number\">333333</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;        <span class=\"comment\">// 1111</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>then </li>\n</ul>\n<p>then </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span> = [] <span class=\"comment\">//1.then  </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span> = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// then  </span></span><br><span class=\"line\"><span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">resfns</span>.<span class=\"title function_\">push</span>(resFn);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">push</span>(errFn);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// resolve</span></span><br><span class=\"line\">resolve = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>?.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">fn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">fn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// reject </span></span><br><span class=\"line\">reject = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = error;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">en</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">en</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>  then<br>  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res1:&quot;</span>, res) </span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err1:&quot;</span>, err)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// then</span></span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res2:&quot;</span>, res)</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err2:&quot;</span>, err)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure><br>res2: 111  .then  res1 <br>* then <br>then,resolve reject<br>   <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnRejected</span> = (<span class=\"params\">err</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> err;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    errFn = errFn || defaultOnRejected;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnFulFilled</span> = (<span class=\"params\">value</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    resFn = resFn || defaultOnFulFilled;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> &amp;&amp; !!resFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> &amp;&amp; !!errFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!resFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!errFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">errFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure><br><br>  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p1 = <span class=\"keyword\">new</span> <span class=\"title function_\">myPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>(<span class=\"number\">111</span>);</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(<span class=\"number\">333333</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res1:&quot;</span>, res);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err1:&quot;</span>, err);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// then</span></span><br><span class=\"line\">p1.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;res2:&quot;</span>, res);</span><br><span class=\"line\">&#125;, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;err2:&quot;</span>, err);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">res1</span>: <span class=\"number\">111</span></span><br><span class=\"line\"><span class=\"attr\">res2</span>: <span class=\"number\">111</span></span><br></pre></td></tr></table></figure></p>\n<ol start=\"5\">\n<li><p>catch Promise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Promise</span></span><br><span class=\"line\"><span class=\"keyword\">catch</span>(errFn) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">then</span>(<span class=\"literal\">undefined</span>, errFn);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>finally PromisePromise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">finally</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>all PromisePromisePromise</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Promise </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> isPromise = <span class=\"keyword\">function</span>(<span class=\"params\">promise</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !!promise &amp;&amp;</span><br><span class=\"line\">    (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;object&quot;</span> || <span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &amp;&amp;</span><br><span class=\"line\">    <span class=\"keyword\">typeof</span> promise.<span class=\"property\">then</span> === <span class=\"string\">&quot;function&quot;</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Promise</span></span><br><span class=\"line\"><span class=\"comment\"> * PromisePromise</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">any[]</span>&#125; <span class=\"variable\">iterable</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@desc</span> Promise</span></span><br><span class=\"line\"><span class=\"comment\"> * resolve </span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">all</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> len = iterable.<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> results = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(len);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> promise = iterable[i];</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(promise)) &#123;</span><br><span class=\"line\">        promise</span><br><span class=\"line\">          .<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            results[i] = res;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        results[i] = <span class=\"title function_\">promise</span>();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        results[i] = promise;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// promiseresolve</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>all </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">async</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res = <span class=\"title class_\">MyPromise</span>.<span class=\"title function_\">all</span>([</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">123</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"number\">88888</span>,</span><br><span class=\"line\">  ]);</span><br><span class=\"line\">  res.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\">: [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">123</span>,  <span class=\"number\">88888</span>]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>race Promise.race(iterable) , resolve </p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">race</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    iterable.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">p</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(p)) &#123;</span><br><span class=\"line\">        p.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125;).<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> p === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"title function_\">p</span>());</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(p);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>race </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">async</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res = <span class=\"title class_\">MyPromise</span>.<span class=\"title function_\">race</span>([</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]);</span><br><span class=\"line\">  res.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(res);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// status</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span> = <span class=\"string\">&quot;pending&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> = <span class=\"string\">&quot;fulfilled&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> = <span class=\"string\">&quot;rejected&quot;</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyPromise</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">executer</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = <span class=\"keyword\">void</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span> = [];</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span> = [];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">executer</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">resolve</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">reject</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//    Promise</span></span><br><span class=\"line\">  resolve = <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">value</span> = value;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>?.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">fn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">fn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">// Promise</span></span><br><span class=\"line\">  reject = <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">queueMicrotask</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> !== <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> = <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">error</span> = error;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">en</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">en</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"comment\">//   Promise</span></span><br><span class=\"line\">  <span class=\"title function_\">then</span>(<span class=\"params\">resFn, errFn</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnRejected</span> = (<span class=\"params\">err</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> err;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    errFn = errFn || defaultOnRejected;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">defaultOnFulFilled</span> = (<span class=\"params\">value</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    resFn = resFn || defaultOnFulFilled;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_FULFILLED</span> &amp;&amp; !!resFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_REJECTED</span> &amp;&amp; !!errFn) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">statue</span> === <span class=\"variable constant_\">PROMISE_STATUE_PENDING</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!resFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">resFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">resFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!!errFn) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">errFns</span>.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">const</span> value = <span class=\"title function_\">errFn</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">error</span>);</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">reject</span>(error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// Promise</span></span><br><span class=\"line\">  <span class=\"keyword\">catch</span>(errFn) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">then</span>(<span class=\"literal\">undefined</span>, errFn);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// PromisePromise</span></span><br><span class=\"line\">  <span class=\"title function_\">finally</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> isPromise = <span class=\"keyword\">function</span>(<span class=\"params\">promise</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    !!promise &amp;&amp;</span><br><span class=\"line\">    (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;object&quot;</span> || <span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &amp;&amp;</span><br><span class=\"line\">    <span class=\"keyword\">typeof</span> promise.<span class=\"property\">then</span> === <span class=\"string\">&quot;function&quot;</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Promise</span></span><br><span class=\"line\"><span class=\"comment\"> * PromisePromise</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">any[]</span>&#125; <span class=\"variable\">iterable</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">all</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> len = iterable.<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> results = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(len);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> promise = iterable[i];</span><br><span class=\"line\">      count++;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(promise)) &#123;</span><br><span class=\"line\">        promise</span><br><span class=\"line\">          .<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            results[i] = res;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">              <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> promise === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        results[i] = <span class=\"title function_\">promise</span>();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        results[i] = promise;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// promiseresolve</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (count === len) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(results);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">MyPromise</span>.<span class=\"property\">race</span> = <span class=\"keyword\">function</span>(<span class=\"params\">iterable</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(iterable <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span>)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyPromise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    iterable.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">p</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"title function_\">isPromise</span>(p)) &#123;</span><br><span class=\"line\">        p.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(value);</span><br><span class=\"line\">        &#125;).<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(err);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> p === <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(<span class=\"title function_\">p</span>());</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(p);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// const p1 = new MyPromise((resolve, reject) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   console.log(&quot;pending&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   resolve(&quot;22222&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   reject(&quot;3333333&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;);</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// p1.then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   console.log(&quot;res1:&quot;, res);</span></span><br><span class=\"line\"><span class=\"comment\">//   return &quot;&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;)</span></span><br><span class=\"line\"><span class=\"comment\">//   .catch((error) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(&quot;err1:&quot;, error);</span></span><br><span class=\"line\"><span class=\"comment\">//     throw new Error(&quot;&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;)</span></span><br><span class=\"line\"><span class=\"comment\">//   .finally(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(&quot;finally&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;);</span></span><br><span class=\"line\"><span class=\"comment\">// (async function() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   const res = MyPromise.all([</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(1);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(2);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//     () =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       return 123;</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">//     88888,</span></span><br><span class=\"line\"><span class=\"comment\">//   ]);</span></span><br><span class=\"line\"><span class=\"comment\">//   res.then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(res);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;);</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;)();</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// (async function() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   const res = MyPromise.race([</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(1);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//     new MyPromise((resolve) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       resolve(2);</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">//   ]);</span></span><br><span class=\"line\"><span class=\"comment\">//   res.then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     console.log(res);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;);</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;)();</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"Promise-\"><a href=\"#Promise-\" class=\"headerlink\" title=\"Promise \"></a>Promise </h5><p> Promise</p>\n<p>Promise </p>\n<p> pending ( )</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h5><p>Promise Promise  Promise   Promise  pendingresolved  rejected pending  resolved  rejected  </p>\n<p> resolve()  reject()   Promise   then  then   </p>\n<p>: Promise </p>"},{"title":"","date":"2023-10-23T12:37:51.000Z","description":"JavaScript ","comments":1,"_content":"\n JavaScript  prototype \nprototype  ES5  _proto_  ES5  Object.getPrototypeOf()  \n\n 0bject.prototype  toString()  \n\nJavaScript \n![](https://pic.imgdb.cn/item/65366accc458853aefbfcd92.jpg)\n\n\n Object  Ob ject.prototype._proto_ Object.prototype._proto_ === null // true null 0bject  Object.prototype Object. prototype._proto_\n\n![](https://pic.imgdb.cn/item/653668e4c458853aefb94875.jpg)\n","source":"_posts/javascript/prototype.md","raw":"---\ntitle: \npermalink: /javascript/prototype.html\ndate: 2023-10-23 20:37:51\ndescription: JavaScript \ntag: [, JavaScript, es6]\ncomments: true\ncategories: \n - \n - es6\n---\n\n JavaScript  prototype \nprototype  ES5  _proto_  ES5  Object.getPrototypeOf()  \n\n 0bject.prototype  toString()  \n\nJavaScript \n![](https://pic.imgdb.cn/item/65366accc458853aefbfcd92.jpg)\n\n\n Object  Ob ject.prototype._proto_ Object.prototype._proto_ === null // true null 0bject  Object.prototype Object. prototype._proto_\n\n![](https://pic.imgdb.cn/item/653668e4c458853aefb94875.jpg)\n","slug":"javascript/prototype","published":1,"updated":"2023-10-25T09:13:46.018Z","__permalink":"/javascript/prototype.html","layout":"post","photos":[],"link":"","_id":"cloigihyh0010rmf31y0lfr62","content":"<div id=\"vip-container\"><p> JavaScript  prototype <br>prototype  ES5  _proto_  ES5  Object.getPrototypeOf()  </p>\n<p> 0bject.prototype  toString()  </p>\n<p>JavaScript <br><img src=\"https://pic.imgdb.cn/item/65366accc458853aefbfcd92.jpg\" alt=\"\"><br></p>\n<p> Object  Ob ject.prototype._proto_ Object.prototype.<em>proto</em> &#x3D;&#x3D;&#x3D; null &#x2F;&#x2F; true null 0bject  Object.prototype Object. prototype._proto_</p>\n<p><img src=\"https://pic.imgdb.cn/item/653668e4c458853aefb94875.jpg\" alt=\"\"></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/browser/render/process.html"],"length":500,"excerpt":"","more":"<p> JavaScript  prototype <br>prototype  ES5  _proto_  ES5  Object.getPrototypeOf()  </p>\n<p> 0bject.prototype  toString()  </p>\n<p>JavaScript <br><img src=\"https://pic.imgdb.cn/item/65366accc458853aefbfcd92.jpg\" alt=\"\"><br></p>\n<p> Object  Ob ject.prototype._proto_ Object.prototype.<em>proto</em> &#x3D;&#x3D;&#x3D; null &#x2F;&#x2F; true null 0bject  Object.prototype Object. prototype._proto_</p>\n<p><img src=\"https://pic.imgdb.cn/item/653668e4c458853aefb94875.jpg\" alt=\"\"></p>\n"},{"title":"varletconst","date":"2023-10-23T12:34:19.000Z","description":"varletconst","comments":1,"_content":"\n##### var \n1. var\nvar, \n\n```javascript\nfunction test() {\n    var message = \"hello world\";   // \n}\ntest();\nconsole.log(message);  // \n```\n\ntest()messagetest()message\n\nvar\n\n```javascript\nfunction test() {\n    message = \"hello world\";   // \n}\ntest();\nconsole.log(message);  // hello world\n```\n\nvarmessagetest()ReferenceError\n\n2. var\nvarjsvar\n\n```javascript\nfunction foo() {\n    console.log(age);\n    var age = 26;\n}\nfoo(); // undefined\n```\n\njavaScriptjavaScriptvar,\n\n```javascript\nfunction foo() {\n    var age;\n    console.log(age);\n    age = 26;\n}\nfoo(); // undefined\n```\n\n##### let\n1. let\nletvar\n\n```javascript\n// var\nif (true) {\n    var name = 'Matt';\n    console.log(name); // Matt\n}\nconsole.log(name); // Matt\n\n// let\nif (true) {\n    let age = 26;\n    console.log(age); // 26\n}\nconsole.log(age); // ReferenceError: age\n```\n\nlet\n\n```javascript\nvar name;\nvar name;\n\nlet age;\nlet age; // SyntaxErrorage\n```\n\n2. \nletconstvarletconstES6letconstReferenceError\n\n```javascript\n// name\nconsole.log(name); // undefined\nvar name = 'Matt';\n\n// age\nconsole.log(age); // ReferenceErrorage\nlet age = 26;\n```\n\n3. \nvarvarwindowwindowletwindow\n\n```javascript\nvar name = 'Matt';\nconsole.log(window.name); // 'Matt'\n\nlet age = 26;\nconsole.log(window.age); // undefined\n```\n\n4. forvarlet\nforvar\n\n```javascript\nfor (var i = 0; i < 5; ++i) {\n    // \n}\nconsole.log(i); // 5\n```\n\nletfor\n\n```javascript\nfor (let i = 0; i < 5; ++i) {\n    // \n}\nconsole.log(i); // ReferenceError: i\n```\n\nvarletforsetTimeout\n\n```javascript\nfor (var i = 0; i < 5; ++i) {\n    setTimeout(() => console.log(i), 0)\n}\n// 55555\n\nfor (let i = 0; i < 5; ++i) {\n    setTimeout(() => console.log(i), 0)\n}\n// 01234\n```\n\nlet var let  var \n\nsetTimeoutsetTimeout ifor i=5setTimeout54setTimeout5\n\n j  let  i  j  setTimeout  j 0-4\n\n##### const\nconstlet\n\nconstconst\n\n```javascript\nconst age = 26;\nage = 36; // TypeError: \n\n// const\nconst name = 'Matt';\nconst name = 'Nicholas'; // SyntaxError\n\n// const\nconst name = 'Matt';\nif (true) {\n    const name = 'Nicholas';\n}\nconsole.log(name); // Matt\n```\n\nconst\n\nconstperson\n\n```javascript\nconst person = {\n    name: 'Lili'\n};\nperson.name = 'Matt'; // ok\n```\n\nJavaScriptforletconstletconst\n\n```javascript\nfor (const i = 0; i < 10; ++i) {} // TypeError\n```\n\nconstforfor-offor-in\n\n\n```javascript\nlet i = 0;\nfor (const j = 7; i < 5; ++i) {\n    console.log(j);\n}\n// 7, 7, 7, 7, 7\nfor (const key in {a: 1, b: 2}) {\n    console.log(key);\n}\n// a, b\nfor (const value of [1,2,3,4,5]) {\n    console.log(value);\n}\n// 1, 2, 3, 4, 5\n```\n","source":"_posts/javascript/varLetConst.md","raw":"---\ntitle: varletconst\npermalink: /javascript/var/let/const.html\ndate: 2023-10-23 20:34:19\ndescription: varletconst\ntag: [, JavaScript, es6]\ncomments: true\ncategories: \n - \n - es6\n---\n\n##### var \n1. var\nvar, \n\n```javascript\nfunction test() {\n    var message = \"hello world\";   // \n}\ntest();\nconsole.log(message);  // \n```\n\ntest()messagetest()message\n\nvar\n\n```javascript\nfunction test() {\n    message = \"hello world\";   // \n}\ntest();\nconsole.log(message);  // hello world\n```\n\nvarmessagetest()ReferenceError\n\n2. var\nvarjsvar\n\n```javascript\nfunction foo() {\n    console.log(age);\n    var age = 26;\n}\nfoo(); // undefined\n```\n\njavaScriptjavaScriptvar,\n\n```javascript\nfunction foo() {\n    var age;\n    console.log(age);\n    age = 26;\n}\nfoo(); // undefined\n```\n\n##### let\n1. let\nletvar\n\n```javascript\n// var\nif (true) {\n    var name = 'Matt';\n    console.log(name); // Matt\n}\nconsole.log(name); // Matt\n\n// let\nif (true) {\n    let age = 26;\n    console.log(age); // 26\n}\nconsole.log(age); // ReferenceError: age\n```\n\nlet\n\n```javascript\nvar name;\nvar name;\n\nlet age;\nlet age; // SyntaxErrorage\n```\n\n2. \nletconstvarletconstES6letconstReferenceError\n\n```javascript\n// name\nconsole.log(name); // undefined\nvar name = 'Matt';\n\n// age\nconsole.log(age); // ReferenceErrorage\nlet age = 26;\n```\n\n3. \nvarvarwindowwindowletwindow\n\n```javascript\nvar name = 'Matt';\nconsole.log(window.name); // 'Matt'\n\nlet age = 26;\nconsole.log(window.age); // undefined\n```\n\n4. forvarlet\nforvar\n\n```javascript\nfor (var i = 0; i < 5; ++i) {\n    // \n}\nconsole.log(i); // 5\n```\n\nletfor\n\n```javascript\nfor (let i = 0; i < 5; ++i) {\n    // \n}\nconsole.log(i); // ReferenceError: i\n```\n\nvarletforsetTimeout\n\n```javascript\nfor (var i = 0; i < 5; ++i) {\n    setTimeout(() => console.log(i), 0)\n}\n// 55555\n\nfor (let i = 0; i < 5; ++i) {\n    setTimeout(() => console.log(i), 0)\n}\n// 01234\n```\n\nlet var let  var \n\nsetTimeoutsetTimeout ifor i=5setTimeout54setTimeout5\n\n j  let  i  j  setTimeout  j 0-4\n\n##### const\nconstlet\n\nconstconst\n\n```javascript\nconst age = 26;\nage = 36; // TypeError: \n\n// const\nconst name = 'Matt';\nconst name = 'Nicholas'; // SyntaxError\n\n// const\nconst name = 'Matt';\nif (true) {\n    const name = 'Nicholas';\n}\nconsole.log(name); // Matt\n```\n\nconst\n\nconstperson\n\n```javascript\nconst person = {\n    name: 'Lili'\n};\nperson.name = 'Matt'; // ok\n```\n\nJavaScriptforletconstletconst\n\n```javascript\nfor (const i = 0; i < 10; ++i) {} // TypeError\n```\n\nconstforfor-offor-in\n\n\n```javascript\nlet i = 0;\nfor (const j = 7; i < 5; ++i) {\n    console.log(j);\n}\n// 7, 7, 7, 7, 7\nfor (const key in {a: 1, b: 2}) {\n    console.log(key);\n}\n// a, b\nfor (const value of [1,2,3,4,5]) {\n    console.log(value);\n}\n// 1, 2, 3, 4, 5\n```\n","slug":"javascript/varLetConst","published":1,"updated":"2023-10-25T09:13:46.019Z","__permalink":"/javascript/var/let/const.html","layout":"post","photos":[],"link":"","_id":"cloigihyi0012rmf3164f356m","content":"<div id=\"vip-container\"><h5 id=\"var-\"><a href=\"#var-\" class=\"headerlink\" title=\"var \"></a>var </h5><ol>\n<li>var<br>var, </li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> message = <span class=\"string\">&quot;hello world&quot;</span>;   <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">test</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(message);  <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<p>test()messagetest()message</p>\n<p>var</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    message = <span class=\"string\">&quot;hello world&quot;</span>;   <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">test</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(message);  <span class=\"comment\">// hello world</span></span><br></pre></td></tr></table></figure>\n\n<p>varmessagetest()ReferenceError</p>\n<ol start=\"2\">\n<li>var<br>varjsvar</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">foo</span>(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>javaScriptjavaScriptvar,</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> age;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age);</span><br><span class=\"line\">    age = <span class=\"number\">26</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">foo</span>(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"let\"><a href=\"#let\" class=\"headerlink\" title=\"let\"></a>let</h5><ol>\n<li>let<br>letvar</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// var</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// Matt</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// Matt</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// let</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age); <span class=\"comment\">// 26</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age); <span class=\"comment\">// ReferenceError: age</span></span><br></pre></td></tr></table></figure>\n\n<p>let</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name;</span><br><span class=\"line\"><span class=\"keyword\">var</span> name;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> age;</span><br><span class=\"line\"><span class=\"keyword\">let</span> age; <span class=\"comment\">// SyntaxErrorage</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><br>letconstvarletconstES6letconstReferenceError</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// name</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// age</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age); <span class=\"comment\">// ReferenceErrorage</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> age = <span class=\"number\">26</span>;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><br>varvarwindowwindowletwindow</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">name</span>); <span class=\"comment\">// &#x27;Matt&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">age</span>); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>forvarlet<br>forvar</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i); <span class=\"comment\">// 5</span></span><br></pre></td></tr></table></figure>\n\n<p>letfor</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i); <span class=\"comment\">// ReferenceError: i</span></span><br></pre></td></tr></table></figure>\n\n<p>varletforsetTimeout</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i), <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 55555</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i), <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 01234</span></span><br></pre></td></tr></table></figure>\n\n<p>let var let  var </p>\n<p>setTimeoutsetTimeout ifor i&#x3D;5setTimeout54setTimeout5</p>\n<p> j  let  i  j  setTimeout  j 0-4</p>\n<h5 id=\"const\"><a href=\"#const\" class=\"headerlink\" title=\"const\"></a>const</h5><p>constlet</p>\n<p>constconst</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\">age = <span class=\"number\">36</span>; <span class=\"comment\">// TypeError: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// const</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Nicholas&#x27;</span>; <span class=\"comment\">// SyntaxError</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// const</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Nicholas&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// Matt</span></span><br></pre></td></tr></table></figure>\n\n<p>const</p>\n<p>constperson</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Lili&#x27;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">person.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Matt&#x27;</span>; <span class=\"comment\">// ok</span></span><br></pre></td></tr></table></figure>\n\n<p>JavaScriptforletconstletconst</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; ++i) &#123;&#125; <span class=\"comment\">// TypeError</span></span><br></pre></td></tr></table></figure>\n\n<p>constforfor-offor-in</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> j = <span class=\"number\">7</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(j);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 7, 7, 7, 7, 7</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> key <span class=\"keyword\">in</span> &#123;<span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span>&#125;) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// a, b</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> value <span class=\"keyword\">of</span> [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>]) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1, 2, 3, 4, 5</span></span><br></pre></td></tr></table></figure>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":1506,"excerpt":"","more":"<h5 id=\"var-\"><a href=\"#var-\" class=\"headerlink\" title=\"var \"></a>var </h5><ol>\n<li>var<br>var, </li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> message = <span class=\"string\">&quot;hello world&quot;</span>;   <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">test</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(message);  <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<p>test()messagetest()message</p>\n<p>var</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    message = <span class=\"string\">&quot;hello world&quot;</span>;   <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">test</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(message);  <span class=\"comment\">// hello world</span></span><br></pre></td></tr></table></figure>\n\n<p>varmessagetest()ReferenceError</p>\n<ol start=\"2\">\n<li>var<br>varjsvar</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">foo</span>(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<p>javaScriptjavaScriptvar,</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> age;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age);</span><br><span class=\"line\">    age = <span class=\"number\">26</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">foo</span>(); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"let\"><a href=\"#let\" class=\"headerlink\" title=\"let\"></a>let</h5><ol>\n<li>let<br>letvar</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// var</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// Matt</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// Matt</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// let</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age); <span class=\"comment\">// 26</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age); <span class=\"comment\">// ReferenceError: age</span></span><br></pre></td></tr></table></figure>\n\n<p>let</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name;</span><br><span class=\"line\"><span class=\"keyword\">var</span> name;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> age;</span><br><span class=\"line\"><span class=\"keyword\">let</span> age; <span class=\"comment\">// SyntaxErrorage</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><br>letconstvarletconstES6letconstReferenceError</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// name</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// age</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age); <span class=\"comment\">// ReferenceErrorage</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> age = <span class=\"number\">26</span>;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><br>varvarwindowwindowletwindow</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">name</span>); <span class=\"comment\">// &#x27;Matt&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">age</span>); <span class=\"comment\">// undefined</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>forvarlet<br>forvar</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i); <span class=\"comment\">// 5</span></span><br></pre></td></tr></table></figure>\n\n<p>letfor</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i); <span class=\"comment\">// ReferenceError: i</span></span><br></pre></td></tr></table></figure>\n\n<p>varletforsetTimeout</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i), <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 55555</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i), <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 01234</span></span><br></pre></td></tr></table></figure>\n\n<p>let var let  var </p>\n<p>setTimeoutsetTimeout ifor i&#x3D;5setTimeout54setTimeout5</p>\n<p> j  let  i  j  setTimeout  j 0-4</p>\n<h5 id=\"const\"><a href=\"#const\" class=\"headerlink\" title=\"const\"></a>const</h5><p>constlet</p>\n<p>constconst</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> age = <span class=\"number\">26</span>;</span><br><span class=\"line\">age = <span class=\"number\">36</span>; <span class=\"comment\">// TypeError: </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// const</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Nicholas&#x27;</span>; <span class=\"comment\">// SyntaxError</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// const</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Matt&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;Nicholas&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name); <span class=\"comment\">// Matt</span></span><br></pre></td></tr></table></figure>\n\n<p>const</p>\n<p>constperson</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Lili&#x27;</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">person.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Matt&#x27;</span>; <span class=\"comment\">// ok</span></span><br></pre></td></tr></table></figure>\n\n<p>JavaScriptforletconstletconst</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; ++i) &#123;&#125; <span class=\"comment\">// TypeError</span></span><br></pre></td></tr></table></figure>\n\n<p>constforfor-offor-in</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> j = <span class=\"number\">7</span>; i &lt; <span class=\"number\">5</span>; ++i) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(j);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 7, 7, 7, 7, 7</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> key <span class=\"keyword\">in</span> &#123;<span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span>&#125;) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// a, b</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> value <span class=\"keyword\">of</span> [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>]) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1, 2, 3, 4, 5</span></span><br></pre></td></tr></table></figure>\n"},{"title":"Fiber ","date":"2023-10-19T12:12:08.000Z","description":"Fiber  React ","comments":1,"_content":"\n# Fiber \nFiber  React  2017  React \n<!-- more -->\nReact  Fiber Fiber  React \n\nFiber  \"Fiber\"React  Fiber \n\n Fiber React  Fiber React \n\nFiber  React  React \n\nFiber  React React  Fiber  React \n\n# Fiber\n> Fiber  React Fiber  React \n\nFiber  React \n\n-  React Fiber  Fiber Fiber \n\n- Fiber React  React \n\n- Fiber  Fiber  Fiber  DOM  childsibling  return  Fiber React \n\n- Fiber  Fiber React \n\n![react ](https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg)\n","source":"_posts/react/fiber.md","raw":"---\ntitle: Fiber \npermalink: /react/fiber.html\ndate: 2023-10-19 20:12:08\ndescription: Fiber  React \ntag: [, react, JavaScript, Fiber]\ncomments: true\ncategories: \n - React\n - Fiber\n---\n\n# Fiber \nFiber  React  2017  React \n<!-- more -->\nReact  Fiber Fiber  React \n\nFiber  \"Fiber\"React  Fiber \n\n Fiber React  Fiber React \n\nFiber  React  React \n\nFiber  React React  Fiber  React \n\n# Fiber\n> Fiber  React Fiber  React \n\nFiber  React \n\n-  React Fiber  Fiber Fiber \n\n- Fiber React  React \n\n- Fiber  Fiber  Fiber  DOM  childsibling  return  Fiber React \n\n- Fiber  Fiber React \n\n![react ](https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg)\n","slug":"react/fiber","published":1,"updated":"2023-10-27T06:15:06.588Z","__permalink":"/react/fiber.html","layout":"post","photos":[],"link":"","_id":"cloigihyk0016rmf32uf8fms0","content":"<div id=\"vip-container\"><h1 id=\"Fiber-\"><a href=\"#Fiber-\" class=\"headerlink\" title=\"Fiber \"></a>Fiber </h1><p>Fiber  React  2017  React </p>\n<span id=\"more\"></span>\n<p>React  Fiber Fiber  React </p>\n<p>Fiber  FiberReact  Fiber </p>\n<p> Fiber React  Fiber React </p>\n<p>Fiber  React  React </p>\n<p>Fiber  React React  Fiber  React </p>\n<h1 id=\"Fiber\"><a href=\"#Fiber\" class=\"headerlink\" title=\"Fiber\"></a>Fiber</h1><blockquote>\n<p>Fiber  React Fiber  React </p>\n</blockquote>\n<p>Fiber  React </p>\n<ul>\n<li><p> React Fiber  Fiber Fiber </p>\n</li>\n<li><p>Fiber React  React </p>\n</li>\n<li><p>Fiber  Fiber  Fiber  DOM  childsibling  return  Fiber React </p>\n</li>\n<li><p>Fiber  Fiber React </p>\n</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg\" alt=\"react \"></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/fiber/implement.html","/react/implement.html","/react/synthetic/event.html","/react/fiber/works.html","/react/fiber/node.html"],"length":1062,"excerpt":"<h1 id=\"Fiber-\"><a href=\"#Fiber-\" class=\"headerlink\" title=\"Fiber \"></a>Fiber </h1><p>Fiber  React  2017  React </p>","more":"<p>React  Fiber Fiber  React </p>\n<p>Fiber  FiberReact  Fiber </p>\n<p> Fiber React  Fiber React </p>\n<p>Fiber  React  React </p>\n<p>Fiber  React React  Fiber  React </p>\n<h1 id=\"Fiber\"><a href=\"#Fiber\" class=\"headerlink\" title=\"Fiber\"></a>Fiber</h1><blockquote>\n<p>Fiber  React Fiber  React </p>\n</blockquote>\n<p>Fiber  React </p>\n<ul>\n<li><p> React Fiber  Fiber Fiber </p>\n</li>\n<li><p>Fiber React  React </p>\n</li>\n<li><p>Fiber  Fiber  Fiber  DOM  childsibling  return  Fiber React </p>\n</li>\n<li><p>Fiber  Fiber React </p>\n</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg\" alt=\"react \"></p>"},{"title":"Fiber ","date":"2023-10-20T08:29:47.000Z","description":"Fiber  React ","comments":1,"_content":"\nFiber  React  DOM \n\n Fiber \n\n-  Fiber React  Fiber  Fiber \n\n- React  Fiber  Fiber  DOM \n\n- React Time SlicingFiber\n\n- React \n\n- React \n\n- React \n\nFiber  React \n","source":"_posts/react/fiberImplement.md","raw":"---\ntitle: Fiber \npermalink: /react/fiber/implement.html\ndate: 2023-10-20 16:29:47\ndescription: Fiber  React \ntag: [, react, JavaScript, Fiber]\ncomments: true\ncategories: \n - React\n - Fiber\n---\n\nFiber  React  DOM \n\n Fiber \n\n-  Fiber React  Fiber  Fiber \n\n- React  Fiber  Fiber  DOM \n\n- React Time SlicingFiber\n\n- React \n\n- React \n\n- React \n\nFiber  React \n","slug":"react/fiberImplement","published":1,"updated":"2023-11-01T07:52:09.264Z","__permalink":"/react/fiber/implement.html","layout":"post","photos":[],"link":"","_id":"cloigihyl0018rmf3al8g71yc","content":"<div id=\"vip-container\"><p>Fiber  React  DOM </p>\n<p> Fiber </p>\n<ul>\n<li><p> Fiber React  Fiber  Fiber </p>\n</li>\n<li><p>React  Fiber  Fiber  DOM </p>\n</li>\n<li><p>React Time SlicingFiber</p>\n</li>\n<li><p>React </p>\n</li>\n<li><p>React </p>\n</li>\n<li><p>React </p>\n</li>\n</ul>\n<p>Fiber  React </p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/fiber.html","/react/implement.html","/react/synthetic/event.html","/react/fiber/works.html","/react/fiber/node.html"],"length":467,"excerpt":"","more":"<p>Fiber  React  DOM </p>\n<p> Fiber </p>\n<ul>\n<li><p> Fiber React  Fiber  Fiber </p>\n</li>\n<li><p>React  Fiber  Fiber  DOM </p>\n</li>\n<li><p>React Time SlicingFiber</p>\n</li>\n<li><p>React </p>\n</li>\n<li><p>React </p>\n</li>\n<li><p>React </p>\n</li>\n</ul>\n<p>Fiber  React </p>\n"},{"title":"FiberNode","date":"2023-10-19T12:12:08.000Z","comments":1,"description":"FiberNode Fiber  React Fiber ","_content":"\n# FiberNode\n\nFiberNode Fiber  React Fiber \n<!-- more -->\n\n\n```javascript\nfunction FiberNode(tag, pendingProps, key, mode) {\n  // Instance\n  this.tag = tag;\n  this.key = key;\n  this.elementType = null;\n  this.type = null;\n  this.stateNode = null; // Fiber\n  this.return = null;\n  this.child = null;\n  this.sibling = null;\n  this.index = 0;\n  this.ref = null;\n  this.pendingProps = pendingProps;\n  this.memoizedProps = null;\n  this.updateQueue = null;\n  this.memoizedState = null;\n  this.dependencies = null;\n  this.mode = mode; // Effects\n\n  this.flags = NoFlags;\n  this.subtreeFlags = NoFlags;\n  this.deletions = null;\n  this.lanes = NoLanes;\n  this.childLanes = NoLanes;\n  this.alternate = null;\n\n  {\n    // Note: The following is done to avoid a v8 performance cliff.\n    //\n    // Initializing the fields below to smis and later updating them with\n    // double values will cause Fibers to end up having separate shapes.\n    // This behavior/bug has something to do with Object.preventExtension().\n    // Fortunately this only impacts DEV builds.\n    // Unfortunately it makes React unusably slow for some applications.\n    // To work around this, initialize the fields below with doubles.\n    //\n    // Learn more about this here:\n    // https://github.com/facebook/react/issues/14365\n    // https://bugs.chromium.org/p/v8/issues/detail?id=8538\n    this.actualDuration = Number.NaN;\n    this.actualStartTime = Number.NaN;\n    this.selfBaseDuration = Number.NaN;\n    this.treeBaseDuration = Number.NaN; // It's okay to replace the initial doubles with smis after initialization.\n    // This won't trigger the performance cliff mentioned above,\n    // and it simplifies other profiler code (including DevTools).\n\n    this.actualDuration = 0;\n    this.actualStartTime = -1;\n    this.selfBaseDuration = 0;\n    this.treeBaseDuration = 0;\n  }\n\n  {\n    // This isn't directly used but is handy for debugging internals:\n    this._debugSource = null;\n    this._debugOwner = null;\n    this._debugNeedsRemount = false;\n    this._debugHookTypes = null;\n\n    if (!hasBadMapPolyfill && typeof Object.preventExtensions === 'function') {\n      Object.preventExtensions(this);\n    }\n  }\n}\n```\n\n#### \n\n##### tag\n\n FiberNode  HostComponentClassComponentFunctionComponent \n\n##### key\n\n\n\n##### elementType\n\ntypeFunctionComponentReact.memo\n\n##### type\n\ntype  FiberNode / FunctionComponentClassComponentclassHostComponentDOMtagName\n\n##### stateNode\n\n FiberNode  stateNode stateNode  DOM \n\n\n\n> \tFiberNode \n\n##### return\n\nreturn \n\n#####   child\n\n  child \n\n##### sibling\n\n  sibling \n\n###### \n\n```react\nfunction App() {\n  return (\n    <div>\n      i am\n      <span>SongShao</span>\n    </div>\n  )\n}\n\n```\n\n`Fiber`\n\n```sh\n\t\t    App\n\t\t    ||\n\t  child || return\n\t\t\t||\n    --------div ----------------\n\t        ||  \t\t\t ||\n\t  child || return  child || return \n            ||\t\t\t\t ||\n           i am ----------- span\n                  sibling    ||\n              \t\t   child || return\n              \t\t \t     ||\n              \t\t      SongShao\n       \n```\n\n> `return``parent``father``return``completeWork``Fiber``return`\n\n##### index\n\n\n\n##### ref\n\n\n\n##### pendingProps\n\n\n\n##### memoizedProps  memoizedState\n\nprops  stateReact  memoizedProps  memoizedState \n\n##### updateQueue\n\n\n\n##### dependencies\n\n\n\n##### mode\n\n\n\n##### flags  subtreeFlags\n\n FiberNode \n\n##### deletions\n\n\n\n##### lanes  childLanes\n\n\n\n##### alternate\n\nalternate  FiberNode React  FiberNode alternate React \n\n##### actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\n\n\n\n##### __debugSource__debugOwner__debugNeedsRemount__debugHookTypes\n\n","source":"_posts/react/fiberNode.md","raw":"---\ntitle: FiberNode\npermalink: /react/fiber/node.html\ndate: 2023-10-19 20:12:08\ntag: [, react, JavaScript, Fiber]\ncomments: true\ndescription: FiberNode Fiber  React Fiber \ncategories: \n - React\n - Fiber\n---\n\n# FiberNode\n\nFiberNode Fiber  React Fiber \n<!-- more -->\n\n\n```javascript\nfunction FiberNode(tag, pendingProps, key, mode) {\n  // Instance\n  this.tag = tag;\n  this.key = key;\n  this.elementType = null;\n  this.type = null;\n  this.stateNode = null; // Fiber\n  this.return = null;\n  this.child = null;\n  this.sibling = null;\n  this.index = 0;\n  this.ref = null;\n  this.pendingProps = pendingProps;\n  this.memoizedProps = null;\n  this.updateQueue = null;\n  this.memoizedState = null;\n  this.dependencies = null;\n  this.mode = mode; // Effects\n\n  this.flags = NoFlags;\n  this.subtreeFlags = NoFlags;\n  this.deletions = null;\n  this.lanes = NoLanes;\n  this.childLanes = NoLanes;\n  this.alternate = null;\n\n  {\n    // Note: The following is done to avoid a v8 performance cliff.\n    //\n    // Initializing the fields below to smis and later updating them with\n    // double values will cause Fibers to end up having separate shapes.\n    // This behavior/bug has something to do with Object.preventExtension().\n    // Fortunately this only impacts DEV builds.\n    // Unfortunately it makes React unusably slow for some applications.\n    // To work around this, initialize the fields below with doubles.\n    //\n    // Learn more about this here:\n    // https://github.com/facebook/react/issues/14365\n    // https://bugs.chromium.org/p/v8/issues/detail?id=8538\n    this.actualDuration = Number.NaN;\n    this.actualStartTime = Number.NaN;\n    this.selfBaseDuration = Number.NaN;\n    this.treeBaseDuration = Number.NaN; // It's okay to replace the initial doubles with smis after initialization.\n    // This won't trigger the performance cliff mentioned above,\n    // and it simplifies other profiler code (including DevTools).\n\n    this.actualDuration = 0;\n    this.actualStartTime = -1;\n    this.selfBaseDuration = 0;\n    this.treeBaseDuration = 0;\n  }\n\n  {\n    // This isn't directly used but is handy for debugging internals:\n    this._debugSource = null;\n    this._debugOwner = null;\n    this._debugNeedsRemount = false;\n    this._debugHookTypes = null;\n\n    if (!hasBadMapPolyfill && typeof Object.preventExtensions === 'function') {\n      Object.preventExtensions(this);\n    }\n  }\n}\n```\n\n#### \n\n##### tag\n\n FiberNode  HostComponentClassComponentFunctionComponent \n\n##### key\n\n\n\n##### elementType\n\ntypeFunctionComponentReact.memo\n\n##### type\n\ntype  FiberNode / FunctionComponentClassComponentclassHostComponentDOMtagName\n\n##### stateNode\n\n FiberNode  stateNode stateNode  DOM \n\n\n\n> \tFiberNode \n\n##### return\n\nreturn \n\n#####   child\n\n  child \n\n##### sibling\n\n  sibling \n\n###### \n\n```react\nfunction App() {\n  return (\n    <div>\n      i am\n      <span>SongShao</span>\n    </div>\n  )\n}\n\n```\n\n`Fiber`\n\n```sh\n\t\t    App\n\t\t    ||\n\t  child || return\n\t\t\t||\n    --------div ----------------\n\t        ||  \t\t\t ||\n\t  child || return  child || return \n            ||\t\t\t\t ||\n           i am ----------- span\n                  sibling    ||\n              \t\t   child || return\n              \t\t \t     ||\n              \t\t      SongShao\n       \n```\n\n> `return``parent``father``return``completeWork``Fiber``return`\n\n##### index\n\n\n\n##### ref\n\n\n\n##### pendingProps\n\n\n\n##### memoizedProps  memoizedState\n\nprops  stateReact  memoizedProps  memoizedState \n\n##### updateQueue\n\n\n\n##### dependencies\n\n\n\n##### mode\n\n\n\n##### flags  subtreeFlags\n\n FiberNode \n\n##### deletions\n\n\n\n##### lanes  childLanes\n\n\n\n##### alternate\n\nalternate  FiberNode React  FiberNode alternate React \n\n##### actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\n\n\n\n##### __debugSource__debugOwner__debugNeedsRemount__debugHookTypes\n\n","slug":"react/fiberNode","published":1,"updated":"2023-10-23T01:55:15.579Z","__permalink":"/react/fiber/node.html","layout":"post","photos":[],"link":"","_id":"cloigihym001armf35hfmbkv6","content":"<div id=\"vip-container\"><h1 id=\"FiberNode\"><a href=\"#FiberNode\" class=\"headerlink\" title=\"FiberNode\"></a>FiberNode</h1><p>FiberNode Fiber  React Fiber </p>\n<span id=\"more\"></span>\n\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">FiberNode</span>(<span class=\"params\">tag, pendingProps, key, mode</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Instance</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">tag</span> = tag;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">key</span> = key;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">elementType</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">stateNode</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// Fiber</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">return</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">child</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">sibling</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">index</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ref</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">pendingProps</span> = pendingProps;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">memoizedProps</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">updateQueue</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">memoizedState</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">dependencies</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">mode</span> = mode; <span class=\"comment\">// Effects</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">flags</span> = <span class=\"title class_\">NoFlags</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">subtreeFlags</span> = <span class=\"title class_\">NoFlags</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">deletions</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">lanes</span> = <span class=\"title class_\">NoLanes</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">childLanes</span> = <span class=\"title class_\">NoLanes</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">alternate</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Note: The following is done to avoid a v8 performance cliff.</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">// Initializing the fields below to smis and later updating them with</span></span><br><span class=\"line\">    <span class=\"comment\">// double values will cause Fibers to end up having separate shapes.</span></span><br><span class=\"line\">    <span class=\"comment\">// This behavior/bug has something to do with Object.preventExtension().</span></span><br><span class=\"line\">    <span class=\"comment\">// Fortunately this only impacts DEV builds.</span></span><br><span class=\"line\">    <span class=\"comment\">// Unfortunately it makes React unusably slow for some applications.</span></span><br><span class=\"line\">    <span class=\"comment\">// To work around this, initialize the fields below with doubles.</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">// Learn more about this here:</span></span><br><span class=\"line\">    <span class=\"comment\">// https://github.com/facebook/react/issues/14365</span></span><br><span class=\"line\">    <span class=\"comment\">// https://bugs.chromium.org/p/v8/issues/detail?id=8538</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualDuration</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualStartTime</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">selfBaseDuration</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">treeBaseDuration</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>; <span class=\"comment\">// It&#x27;s okay to replace the initial doubles with smis after initialization.</span></span><br><span class=\"line\">    <span class=\"comment\">// This won&#x27;t trigger the performance cliff mentioned above,</span></span><br><span class=\"line\">    <span class=\"comment\">// and it simplifies other profiler code (including DevTools).</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualDuration</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualStartTime</span> = -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">selfBaseDuration</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">treeBaseDuration</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"comment\">// This isn&#x27;t directly used but is handy for debugging internals:</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugSource</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugOwner</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugNeedsRemount</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugHookTypes</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!hasBadMapPolyfill &amp;&amp; <span class=\"keyword\">typeof</span> <span class=\"title class_\">Object</span>.<span class=\"property\">preventExtensions</span> === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"title class_\">Object</span>.<span class=\"title function_\">preventExtensions</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"tag\"><a href=\"#tag\" class=\"headerlink\" title=\"tag\"></a>tag</h5><p> FiberNode  HostComponentClassComponentFunctionComponent </p>\n<h5 id=\"key\"><a href=\"#key\" class=\"headerlink\" title=\"key\"></a>key</h5><p></p>\n<h5 id=\"elementType\"><a href=\"#elementType\" class=\"headerlink\" title=\"elementType\"></a>elementType</h5><p>typeFunctionComponentReact.memo</p>\n<h5 id=\"type\"><a href=\"#type\" class=\"headerlink\" title=\"type\"></a>type</h5><p>type  FiberNode &#x2F; FunctionComponentClassComponentclassHostComponentDOMtagName</p>\n<h5 id=\"stateNode\"><a href=\"#stateNode\" class=\"headerlink\" title=\"stateNode\"></a>stateNode</h5><p> FiberNode  stateNode stateNode  DOM </p>\n<blockquote>\n<p>\tFiberNode </p>\n</blockquote>\n<h5 id=\"return\"><a href=\"#return\" class=\"headerlink\" title=\"return\"></a>return</h5><p>return </p>\n<h5 id=\"child\"><a href=\"#child\" class=\"headerlink\" title=\"child\"></a>child</h5><p>  child </p>\n<h5 id=\"sibling\"><a href=\"#sibling\" class=\"headerlink\" title=\"sibling\"></a>sibling</h5><p>  sibling </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function App() &#123;</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      i am</span><br><span class=\"line\">      &lt;span&gt;SongShao&lt;/span&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>Fiber</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   App</span><br><span class=\"line\">   ||</span><br><span class=\"line\">child || <span class=\"built_in\">return</span></span><br><span class=\"line\">||</span><br><span class=\"line\"> --------div ----------------</span><br><span class=\"line\">      ||  \t\t\t ||</span><br><span class=\"line\">child || <span class=\"built_in\">return</span>  child || <span class=\"built_in\">return</span> </span><br><span class=\"line\">         ||\t\t\t\t ||</span><br><span class=\"line\">        i am ----------- span</span><br><span class=\"line\">               sibling    ||</span><br><span class=\"line\">           \t\t   child || <span class=\"built_in\">return</span></span><br><span class=\"line\">           \t\t \t     ||</span><br><span class=\"line\">           \t\t      SongShao</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>return</code><code>parent</code><code>father</code><code>return</code><code>completeWork</code><code>Fiber</code><code>return</code></p>\n</blockquote>\n<h5 id=\"index\"><a href=\"#index\" class=\"headerlink\" title=\"index\"></a>index</h5><p></p>\n<h5 id=\"ref\"><a href=\"#ref\" class=\"headerlink\" title=\"ref\"></a>ref</h5><p></p>\n<h5 id=\"pendingProps\"><a href=\"#pendingProps\" class=\"headerlink\" title=\"pendingProps\"></a>pendingProps</h5><p></p>\n<h5 id=\"memoizedProps--memoizedState\"><a href=\"#memoizedProps--memoizedState\" class=\"headerlink\" title=\"memoizedProps  memoizedState\"></a>memoizedProps  memoizedState</h5><p>props  stateReact  memoizedProps  memoizedState </p>\n<h5 id=\"updateQueue\"><a href=\"#updateQueue\" class=\"headerlink\" title=\"updateQueue\"></a>updateQueue</h5><p></p>\n<h5 id=\"dependencies\"><a href=\"#dependencies\" class=\"headerlink\" title=\"dependencies\"></a>dependencies</h5><p></p>\n<h5 id=\"mode\"><a href=\"#mode\" class=\"headerlink\" title=\"mode\"></a>mode</h5><p></p>\n<h5 id=\"flags--subtreeFlags\"><a href=\"#flags--subtreeFlags\" class=\"headerlink\" title=\"flags  subtreeFlags\"></a>flags  subtreeFlags</h5><p> FiberNode </p>\n<h5 id=\"deletions\"><a href=\"#deletions\" class=\"headerlink\" title=\"deletions\"></a>deletions</h5><p></p>\n<h5 id=\"lanes--childLanes\"><a href=\"#lanes--childLanes\" class=\"headerlink\" title=\"lanes  childLanes\"></a>lanes  childLanes</h5><p></p>\n<h5 id=\"alternate\"><a href=\"#alternate\" class=\"headerlink\" title=\"alternate\"></a>alternate</h5><p>alternate  FiberNode React  FiberNode alternate React </p>\n<h5 id=\"actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\"><a href=\"#actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\" class=\"headerlink\" title=\"actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\"></a>actualDurationactualStartTimeselfBaseDurationtreeBaseDuration</h5><p></p>\n<h5 id=\"debugSource-debugOwner-debugNeedsRemount-debugHookTypes\"><a href=\"#debugSource-debugOwner-debugNeedsRemount-debugHookTypes\" class=\"headerlink\" title=\"__debugSource__debugOwner__debugNeedsRemount__debugHookTypes\"></a>__debugSource__debugOwner__debugNeedsRemount__debugHookTypes</h5><p></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/fiber.html","/react/fiber/implement.html","/react/fiber/works.html","/react/implement.html","/react/synthetic/event.html"],"length":868,"excerpt":"<h1 id=\"FiberNode\"><a href=\"#FiberNode\" class=\"headerlink\" title=\"FiberNode\"></a>FiberNode</h1><p>FiberNode Fiber  React Fiber </p>","more":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">FiberNode</span>(<span class=\"params\">tag, pendingProps, key, mode</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Instance</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">tag</span> = tag;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">key</span> = key;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">elementType</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">stateNode</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// Fiber</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">return</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">child</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">sibling</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">index</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ref</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">pendingProps</span> = pendingProps;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">memoizedProps</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">updateQueue</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">memoizedState</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">dependencies</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">mode</span> = mode; <span class=\"comment\">// Effects</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">flags</span> = <span class=\"title class_\">NoFlags</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">subtreeFlags</span> = <span class=\"title class_\">NoFlags</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">deletions</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">lanes</span> = <span class=\"title class_\">NoLanes</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">childLanes</span> = <span class=\"title class_\">NoLanes</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">alternate</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Note: The following is done to avoid a v8 performance cliff.</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">// Initializing the fields below to smis and later updating them with</span></span><br><span class=\"line\">    <span class=\"comment\">// double values will cause Fibers to end up having separate shapes.</span></span><br><span class=\"line\">    <span class=\"comment\">// This behavior/bug has something to do with Object.preventExtension().</span></span><br><span class=\"line\">    <span class=\"comment\">// Fortunately this only impacts DEV builds.</span></span><br><span class=\"line\">    <span class=\"comment\">// Unfortunately it makes React unusably slow for some applications.</span></span><br><span class=\"line\">    <span class=\"comment\">// To work around this, initialize the fields below with doubles.</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">// Learn more about this here:</span></span><br><span class=\"line\">    <span class=\"comment\">// https://github.com/facebook/react/issues/14365</span></span><br><span class=\"line\">    <span class=\"comment\">// https://bugs.chromium.org/p/v8/issues/detail?id=8538</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualDuration</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualStartTime</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">selfBaseDuration</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">treeBaseDuration</span> = <span class=\"title class_\">Number</span>.<span class=\"property\">NaN</span>; <span class=\"comment\">// It&#x27;s okay to replace the initial doubles with smis after initialization.</span></span><br><span class=\"line\">    <span class=\"comment\">// This won&#x27;t trigger the performance cliff mentioned above,</span></span><br><span class=\"line\">    <span class=\"comment\">// and it simplifies other profiler code (including DevTools).</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualDuration</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actualStartTime</span> = -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">selfBaseDuration</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">treeBaseDuration</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"comment\">// This isn&#x27;t directly used but is handy for debugging internals:</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugSource</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugOwner</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugNeedsRemount</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_debugHookTypes</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!hasBadMapPolyfill &amp;&amp; <span class=\"keyword\">typeof</span> <span class=\"title class_\">Object</span>.<span class=\"property\">preventExtensions</span> === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"title class_\">Object</span>.<span class=\"title function_\">preventExtensions</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"tag\"><a href=\"#tag\" class=\"headerlink\" title=\"tag\"></a>tag</h5><p> FiberNode  HostComponentClassComponentFunctionComponent </p>\n<h5 id=\"key\"><a href=\"#key\" class=\"headerlink\" title=\"key\"></a>key</h5><p></p>\n<h5 id=\"elementType\"><a href=\"#elementType\" class=\"headerlink\" title=\"elementType\"></a>elementType</h5><p>typeFunctionComponentReact.memo</p>\n<h5 id=\"type\"><a href=\"#type\" class=\"headerlink\" title=\"type\"></a>type</h5><p>type  FiberNode &#x2F; FunctionComponentClassComponentclassHostComponentDOMtagName</p>\n<h5 id=\"stateNode\"><a href=\"#stateNode\" class=\"headerlink\" title=\"stateNode\"></a>stateNode</h5><p> FiberNode  stateNode stateNode  DOM </p>\n<blockquote>\n<p>\tFiberNode </p>\n</blockquote>\n<h5 id=\"return\"><a href=\"#return\" class=\"headerlink\" title=\"return\"></a>return</h5><p>return </p>\n<h5 id=\"child\"><a href=\"#child\" class=\"headerlink\" title=\"child\"></a>child</h5><p>  child </p>\n<h5 id=\"sibling\"><a href=\"#sibling\" class=\"headerlink\" title=\"sibling\"></a>sibling</h5><p>  sibling </p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function App() &#123;</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    &lt;div&gt;</span><br><span class=\"line\">      i am</span><br><span class=\"line\">      &lt;span&gt;SongShao&lt;/span&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>Fiber</code></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   App</span><br><span class=\"line\">   ||</span><br><span class=\"line\">child || <span class=\"built_in\">return</span></span><br><span class=\"line\">||</span><br><span class=\"line\"> --------div ----------------</span><br><span class=\"line\">      ||  \t\t\t ||</span><br><span class=\"line\">child || <span class=\"built_in\">return</span>  child || <span class=\"built_in\">return</span> </span><br><span class=\"line\">         ||\t\t\t\t ||</span><br><span class=\"line\">        i am ----------- span</span><br><span class=\"line\">               sibling    ||</span><br><span class=\"line\">           \t\t   child || <span class=\"built_in\">return</span></span><br><span class=\"line\">           \t\t \t     ||</span><br><span class=\"line\">           \t\t      SongShao</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>return</code><code>parent</code><code>father</code><code>return</code><code>completeWork</code><code>Fiber</code><code>return</code></p>\n</blockquote>\n<h5 id=\"index\"><a href=\"#index\" class=\"headerlink\" title=\"index\"></a>index</h5><p></p>\n<h5 id=\"ref\"><a href=\"#ref\" class=\"headerlink\" title=\"ref\"></a>ref</h5><p></p>\n<h5 id=\"pendingProps\"><a href=\"#pendingProps\" class=\"headerlink\" title=\"pendingProps\"></a>pendingProps</h5><p></p>\n<h5 id=\"memoizedProps--memoizedState\"><a href=\"#memoizedProps--memoizedState\" class=\"headerlink\" title=\"memoizedProps  memoizedState\"></a>memoizedProps  memoizedState</h5><p>props  stateReact  memoizedProps  memoizedState </p>\n<h5 id=\"updateQueue\"><a href=\"#updateQueue\" class=\"headerlink\" title=\"updateQueue\"></a>updateQueue</h5><p></p>\n<h5 id=\"dependencies\"><a href=\"#dependencies\" class=\"headerlink\" title=\"dependencies\"></a>dependencies</h5><p></p>\n<h5 id=\"mode\"><a href=\"#mode\" class=\"headerlink\" title=\"mode\"></a>mode</h5><p></p>\n<h5 id=\"flags--subtreeFlags\"><a href=\"#flags--subtreeFlags\" class=\"headerlink\" title=\"flags  subtreeFlags\"></a>flags  subtreeFlags</h5><p> FiberNode </p>\n<h5 id=\"deletions\"><a href=\"#deletions\" class=\"headerlink\" title=\"deletions\"></a>deletions</h5><p></p>\n<h5 id=\"lanes--childLanes\"><a href=\"#lanes--childLanes\" class=\"headerlink\" title=\"lanes  childLanes\"></a>lanes  childLanes</h5><p></p>\n<h5 id=\"alternate\"><a href=\"#alternate\" class=\"headerlink\" title=\"alternate\"></a>alternate</h5><p>alternate  FiberNode React  FiberNode alternate React </p>\n<h5 id=\"actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\"><a href=\"#actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\" class=\"headerlink\" title=\"actualDurationactualStartTimeselfBaseDurationtreeBaseDuration\"></a>actualDurationactualStartTimeselfBaseDurationtreeBaseDuration</h5><p></p>\n<h5 id=\"debugSource-debugOwner-debugNeedsRemount-debugHookTypes\"><a href=\"#debugSource-debugOwner-debugNeedsRemount-debugHookTypes\" class=\"headerlink\" title=\"__debugSource__debugOwner__debugNeedsRemount__debugHookTypes\"></a>__debugSource__debugOwner__debugNeedsRemount__debugHookTypes</h5><p></p>"},{"title":"Fiber","date":"2023-10-25T10:12:49.000Z","comments":1,"description":"`React``Fiber``Fiber``current Fiber``Fiber``workInProgress Fiber`","_content":"\n## \n\n\"\"\n\n\n\n1. \n2. \n3. \n\n\n\n`React``Fiber``DOM`\n\n## Fiber\n\n`React``Fiber``Fiber``current Fiber``Fiber``workInProgress Fiber`\n\n`current Fiber``Fiber``current fiber``workInProgress Fiber``Fiber``workInProgress fiber``alternate`\n\n```js\ncurrentFiber.alternate === workInProgressFiber;\nworkInProgressFiber.alternate === currentFiber;\n```\n\n`React ` `current `  `Fiber`  `rootFiber`  `current Fiber` \n\n `workInProgress Fiber`  `Renderer`  `current`  `workInProgress Fiber` `workInProgress Fiber``current Fiber`\n\n`workInProgress Fiber``current``workInProgress``DOM`\n\n`mount``update`/\n\n## mount\n\n\n\n```js\nfunction App() {\n  return (\n    <h1>hello<span style={{ color: 'red' }}>world</span></h1>\n  )\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n```\n\n1. `ReactDOM.render``fiberRootNode``fiberRoot``rootFiber``fiberRootNode``rootFiber``<App/>`\n\n`fiberRootNode``rootFiber``ReactDOM.render``rootFiber``fiberRootNode`\n\n`fiberRootNode``current``Fiber``current Fiber`\n\n![fiberRootNode](https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg)\n\n`fiberRootNode.current = rootFiber;`\n\n`DOM``fiberRootNode.current``rootFiber``Fiber``current Fiber`\n\n2. `render``JSX``Fiber``Fiber``workInProgress Fiber`\n\n`workInProgress Fiber``current Fiber``Fiber````rootFiber``current fiber``rootFiber.alternate`\n\n![](https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg)\n\n3. `workInProgress Fiber``commit`\n\n`DOM``fiberRootNode``current``workInProgress Fiber``current Fiber `\n\n![](https://react.iamkasong.com/img/wipTreeFinish.png)\n\n## update\n\n1. `p``render``workInProgress Fiber `\n\n   ![](https://react.iamkasong.com/img/wipTreeUpdate.png)\n\n`mount``workInProgress fiber``current Fiber`\n\n2. `workInProgress Fiber ``render``commit``workInProgress Fiber ``current Fiber `\n\n![](https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg)\n","source":"_posts/react/fiberWorksHow.md","raw":"---\ntitle: Fiber\npermalink: /react/fiber/works.html\ndate: 2023-10-25 18:12:49\ntag: [, react, JavaScript, Fiber]\ncomments: true\ndescription: `React``Fiber``Fiber``current Fiber``Fiber``workInProgress Fiber`\ncategories: \n - React\n - Fiber\n---\n\n## \n\n\"\"\n\n\n\n1. \n2. \n3. \n\n\n\n`React``Fiber``DOM`\n\n## Fiber\n\n`React``Fiber``Fiber``current Fiber``Fiber``workInProgress Fiber`\n\n`current Fiber``Fiber``current fiber``workInProgress Fiber``Fiber``workInProgress fiber``alternate`\n\n```js\ncurrentFiber.alternate === workInProgressFiber;\nworkInProgressFiber.alternate === currentFiber;\n```\n\n`React ` `current `  `Fiber`  `rootFiber`  `current Fiber` \n\n `workInProgress Fiber`  `Renderer`  `current`  `workInProgress Fiber` `workInProgress Fiber``current Fiber`\n\n`workInProgress Fiber``current``workInProgress``DOM`\n\n`mount``update`/\n\n## mount\n\n\n\n```js\nfunction App() {\n  return (\n    <h1>hello<span style={{ color: 'red' }}>world</span></h1>\n  )\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n```\n\n1. `ReactDOM.render``fiberRootNode``fiberRoot``rootFiber``fiberRootNode``rootFiber``<App/>`\n\n`fiberRootNode``rootFiber``ReactDOM.render``rootFiber``fiberRootNode`\n\n`fiberRootNode``current``Fiber``current Fiber`\n\n![fiberRootNode](https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg)\n\n`fiberRootNode.current = rootFiber;`\n\n`DOM``fiberRootNode.current``rootFiber``Fiber``current Fiber`\n\n2. `render``JSX``Fiber``Fiber``workInProgress Fiber`\n\n`workInProgress Fiber``current Fiber``Fiber````rootFiber``current fiber``rootFiber.alternate`\n\n![](https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg)\n\n3. `workInProgress Fiber``commit`\n\n`DOM``fiberRootNode``current``workInProgress Fiber``current Fiber `\n\n![](https://react.iamkasong.com/img/wipTreeFinish.png)\n\n## update\n\n1. `p``render``workInProgress Fiber `\n\n   ![](https://react.iamkasong.com/img/wipTreeUpdate.png)\n\n`mount``workInProgress fiber``current Fiber`\n\n2. `workInProgress Fiber ``render``commit``workInProgress Fiber ``current Fiber `\n\n![](https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg)\n","slug":"react/fiberWorksHow","published":1,"updated":"2023-10-27T06:22:12.355Z","__permalink":"/react/fiber/works.html","layout":"post","photos":[],"link":"","_id":"cloigihyp001ermf355lu4e37","content":"<div id=\"vip-container\"><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<p><code>React</code><code>Fiber</code><code>DOM</code></p>\n<h2 id=\"Fiber\"><a href=\"#Fiber\" class=\"headerlink\" title=\"Fiber\"></a>Fiber</h2><p><code>React</code><code>Fiber</code><code>Fiber</code><code>current Fiber</code><code>Fiber</code><code>workInProgress Fiber</code></p>\n<p><code>current Fiber</code><code>Fiber</code><code>current fiber</code><code>workInProgress Fiber</code><code>Fiber</code><code>workInProgress fiber</code><code>alternate</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">currentFiber.<span class=\"property\">alternate</span> === workInProgressFiber;</span><br><span class=\"line\">workInProgressFiber.<span class=\"property\">alternate</span> === currentFiber;</span><br></pre></td></tr></table></figure>\n\n<p><code>React </code> <code>current </code>  <code>Fiber</code>  <code>rootFiber</code>  <code>current Fiber</code> </p>\n<p> <code>workInProgress Fiber</code>  <code>Renderer</code>  <code>current</code>  <code>workInProgress Fiber</code> <code>workInProgress Fiber</code><code>current Fiber</code></p>\n<p><code>workInProgress Fiber</code><code>current</code><code>workInProgress</code><code>DOM</code></p>\n<p><code>mount</code><code>update</code>&#x2F;</p>\n<h2 id=\"mount\"><a href=\"#mount\" class=\"headerlink\" title=\"mount\"></a>mount</h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">App</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>hello<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">color:</span> &#x27;<span class=\"attr\">red</span>&#x27; &#125;&#125;&gt;</span>world<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">ReactDOM</span>.<span class=\"title function_\">render</span>(<span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">App</span>/&gt;</span></span>, <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><code>ReactDOM.render</code><code>fiberRootNode</code><code>fiberRoot</code><code>rootFiber</code><code>fiberRootNode</code><code>rootFiber</code><code>&lt;App/&gt;</code></li>\n</ol>\n<p><code>fiberRootNode</code><code>rootFiber</code><code>ReactDOM.render</code><code>rootFiber</code><code>fiberRootNode</code></p>\n<p><code>fiberRootNode</code><code>current</code><code>Fiber</code><code>current Fiber</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg\" alt=\"fiberRootNode\"></p>\n<p><code>fiberRootNode.current = rootFiber;</code></p>\n<p><code>DOM</code><code>fiberRootNode.current</code><code>rootFiber</code><code>Fiber</code><code>current Fiber</code></p>\n<ol start=\"2\">\n<li><code>render</code><code>JSX</code><code>Fiber</code><code>Fiber</code><code>workInProgress Fiber</code></li>\n</ol>\n<p><code>workInProgress Fiber</code><code>current Fiber</code><code>Fiber</code><code></code><code>rootFiber</code><code>current fiber</code><code>rootFiber.alternate</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg\"></p>\n<ol start=\"3\">\n<li><code>workInProgress Fiber</code><code>commit</code></li>\n</ol>\n<p><code>DOM</code><code>fiberRootNode</code><code>current</code><code>workInProgress Fiber</code><code>current Fiber </code></p>\n<p><img src=\"https://react.iamkasong.com/img/wipTreeFinish.png\"></p>\n<h2 id=\"update\"><a href=\"#update\" class=\"headerlink\" title=\"update\"></a>update</h2><ol>\n<li><p><code>p</code><code>render</code><code>workInProgress Fiber </code></p>\n<p><img src=\"https://react.iamkasong.com/img/wipTreeUpdate.png\"></p>\n</li>\n</ol>\n<p><code>mount</code><code>workInProgress fiber</code><code>current Fiber</code></p>\n<ol start=\"2\">\n<li><code>workInProgress Fiber </code><code>render</code><code>commit</code><code>workInProgress Fiber </code><code>current Fiber </code></li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg\" alt=\"\"></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/fiber.html","/react/fiber/implement.html","/react/implement.html","/react/fiber/node.html"],"length":1200,"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<p><code>React</code><code>Fiber</code><code>DOM</code></p>\n<h2 id=\"Fiber\"><a href=\"#Fiber\" class=\"headerlink\" title=\"Fiber\"></a>Fiber</h2><p><code>React</code><code>Fiber</code><code>Fiber</code><code>current Fiber</code><code>Fiber</code><code>workInProgress Fiber</code></p>\n<p><code>current Fiber</code><code>Fiber</code><code>current fiber</code><code>workInProgress Fiber</code><code>Fiber</code><code>workInProgress fiber</code><code>alternate</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">currentFiber.<span class=\"property\">alternate</span> === workInProgressFiber;</span><br><span class=\"line\">workInProgressFiber.<span class=\"property\">alternate</span> === currentFiber;</span><br></pre></td></tr></table></figure>\n\n<p><code>React </code> <code>current </code>  <code>Fiber</code>  <code>rootFiber</code>  <code>current Fiber</code> </p>\n<p> <code>workInProgress Fiber</code>  <code>Renderer</code>  <code>current</code>  <code>workInProgress Fiber</code> <code>workInProgress Fiber</code><code>current Fiber</code></p>\n<p><code>workInProgress Fiber</code><code>current</code><code>workInProgress</code><code>DOM</code></p>\n<p><code>mount</code><code>update</code>&#x2F;</p>\n<h2 id=\"mount\"><a href=\"#mount\" class=\"headerlink\" title=\"mount\"></a>mount</h2><p></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">App</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>hello<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">color:</span> &#x27;<span class=\"attr\">red</span>&#x27; &#125;&#125;&gt;</span>world<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">ReactDOM</span>.<span class=\"title function_\">render</span>(<span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">App</span>/&gt;</span></span>, <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><code>ReactDOM.render</code><code>fiberRootNode</code><code>fiberRoot</code><code>rootFiber</code><code>fiberRootNode</code><code>rootFiber</code><code>&lt;App/&gt;</code></li>\n</ol>\n<p><code>fiberRootNode</code><code>rootFiber</code><code>ReactDOM.render</code><code>rootFiber</code><code>fiberRootNode</code></p>\n<p><code>fiberRootNode</code><code>current</code><code>Fiber</code><code>current Fiber</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg\" alt=\"fiberRootNode\"></p>\n<p><code>fiberRootNode.current = rootFiber;</code></p>\n<p><code>DOM</code><code>fiberRootNode.current</code><code>rootFiber</code><code>Fiber</code><code>current Fiber</code></p>\n<ol start=\"2\">\n<li><code>render</code><code>JSX</code><code>Fiber</code><code>Fiber</code><code>workInProgress Fiber</code></li>\n</ol>\n<p><code>workInProgress Fiber</code><code>current Fiber</code><code>Fiber</code><code></code><code>rootFiber</code><code>current fiber</code><code>rootFiber.alternate</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg\"></p>\n<ol start=\"3\">\n<li><code>workInProgress Fiber</code><code>commit</code></li>\n</ol>\n<p><code>DOM</code><code>fiberRootNode</code><code>current</code><code>workInProgress Fiber</code><code>current Fiber </code></p>\n<p><img src=\"https://react.iamkasong.com/img/wipTreeFinish.png\"></p>\n<h2 id=\"update\"><a href=\"#update\" class=\"headerlink\" title=\"update\"></a>update</h2><ol>\n<li><p><code>p</code><code>render</code><code>workInProgress Fiber </code></p>\n<p><img src=\"https://react.iamkasong.com/img/wipTreeUpdate.png\"></p>\n</li>\n</ol>\n<p><code>mount</code><code>workInProgress fiber</code><code>current Fiber</code></p>\n<ol start=\"2\">\n<li><code>workInProgress Fiber </code><code>render</code><code>commit</code><code>workInProgress Fiber </code><code>current Fiber </code></li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg\" alt=\"\"></p>\n"},{"title":"React ","date":"2023-10-19T12:12:08.000Z","description":"","comments":1,"_content":"\n## React \n\n****Reactheadersdate\n<!-- more -->\n\n\n```react\nchangeTime = async () => {\n    let leftTime = await axios.get('/').then(response => {\n        console.log(response.headers)\n        return new Date(response.headers.date).getTime()\n     }).catch(error => {\n        console.log(error)\n        return 0\n     })\n        this.setState({\n        time: moment(leftTime).format('YYYY-MM-DD HH:mm:ss')\n    })\n}\n```\n\n:\n\n```react\naddTime = date => {\n      let newDate = new Date(date)\n      newDate.setSeconds(newDate.getSeconds() + 1)\n      this.setState({\n        time: moment(newDate).format('YYYY-MM-DD HH:mm:ss')\n      })\n      window.time = {\n        date: this.state.time,\n        timestamp: Date.parse(new Date(this.state.time))\n      }\n    }\n```\n\nreact  state","source":"_posts/react/getServiceTime.md","raw":"---\ntitle: React \npermalink: /react/service/time.html\ndate: 2023-10-19 20:12:08\ndescription: \ntag: [, react, JavaScript]\ncomments: true\ncategories: \n - React\n---\n\n## React \n\n****Reactheadersdate\n<!-- more -->\n\n\n```react\nchangeTime = async () => {\n    let leftTime = await axios.get('/').then(response => {\n        console.log(response.headers)\n        return new Date(response.headers.date).getTime()\n     }).catch(error => {\n        console.log(error)\n        return 0\n     })\n        this.setState({\n        time: moment(leftTime).format('YYYY-MM-DD HH:mm:ss')\n    })\n}\n```\n\n:\n\n```react\naddTime = date => {\n      let newDate = new Date(date)\n      newDate.setSeconds(newDate.getSeconds() + 1)\n      this.setState({\n        time: moment(newDate).format('YYYY-MM-DD HH:mm:ss')\n      })\n      window.time = {\n        date: this.state.time,\n        timestamp: Date.parse(new Date(this.state.time))\n      }\n    }\n```\n\nreact  state","slug":"react/getServiceTime","published":1,"updated":"2023-10-23T01:55:15.581Z","__permalink":"/react/service/time.html","layout":"post","photos":[],"link":"","_id":"cloigihyq001frmf3a4ef82fo","content":"<div id=\"vip-container\"><h2 id=\"React-\"><a href=\"#React-\" class=\"headerlink\" title=\"React \"></a>React </h2><p><strong></strong>Reactheadersdate</p>\n<span id=\"more\"></span>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">changeTime = async () =&gt; &#123;</span><br><span class=\"line\">    let leftTime = await axios.get(&#x27;/&#x27;).then(response =&gt; &#123;</span><br><span class=\"line\">        console.log(response.headers)</span><br><span class=\"line\">        return new Date(response.headers.date).getTime()</span><br><span class=\"line\">     &#125;).catch(error =&gt; &#123;</span><br><span class=\"line\">        console.log(error)</span><br><span class=\"line\">        return 0</span><br><span class=\"line\">     &#125;)</span><br><span class=\"line\">        this.setState(&#123;</span><br><span class=\"line\">        time: moment(leftTime).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">addTime = date =&gt; &#123;</span><br><span class=\"line\">      let newDate = new Date(date)</span><br><span class=\"line\">      newDate.setSeconds(newDate.getSeconds() + 1)</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        time: moment(newDate).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      window.time = &#123;</span><br><span class=\"line\">        date: this.state.time,</span><br><span class=\"line\">        timestamp: Date.parse(new Date(this.state.time))</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>react  state</p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/fiber.html","/react/fiber/implement.html","/react/synthetic/event.html"],"length":208,"excerpt":"<h2 id=\"React-\"><a href=\"#React-\" class=\"headerlink\" title=\"React \"></a>React </h2><p><strong></strong>Reactheadersdate</p>","more":"<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">changeTime = async () =&gt; &#123;</span><br><span class=\"line\">    let leftTime = await axios.get(&#x27;/&#x27;).then(response =&gt; &#123;</span><br><span class=\"line\">        console.log(response.headers)</span><br><span class=\"line\">        return new Date(response.headers.date).getTime()</span><br><span class=\"line\">     &#125;).catch(error =&gt; &#123;</span><br><span class=\"line\">        console.log(error)</span><br><span class=\"line\">        return 0</span><br><span class=\"line\">     &#125;)</span><br><span class=\"line\">        this.setState(&#123;</span><br><span class=\"line\">        time: moment(leftTime).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">addTime = date =&gt; &#123;</span><br><span class=\"line\">      let newDate = new Date(date)</span><br><span class=\"line\">      newDate.setSeconds(newDate.getSeconds() + 1)</span><br><span class=\"line\">      this.setState(&#123;</span><br><span class=\"line\">        time: moment(newDate).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      window.time = &#123;</span><br><span class=\"line\">        date: this.state.time,</span><br><span class=\"line\">        timestamp: Date.parse(new Date(this.state.time))</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>react  state</p>"},{"title":"React SyntheticEvent","description":"React SyntheticEvent","date":"2023-10-18T13:27:49.000Z","comments":1,"_content":"\n# React \nReact SyntheticEvent\n<!-- more -->\n React \n```js\nclass MyComponent extends React.Component {\n  handleClick = (event) => {\n    console.log('Button clicked!');\n  }\n\n  render() {\n    return (\n      <button onClick={this.handleClick}>Click me!</button>\n    );\n  }\n}\n```\nhandleClickonClickReact handleClick\n\n React event.targetevent.preventDefault()event.stopPropagation()\n\n React nativeEvent\n# React\n\nReact`e.stopPropagation()`\nReact`e.stopPropagation()`\n","source":"_posts/react/react-synthetic-event.md","raw":"---\ntitle: React SyntheticEvent\npermalink: /react/synthetic/event.html\ndescription: React SyntheticEvent\ndate: 2023-10-18 21:27:49\ntag: [, react, JavaScript]\ncomments: true\ncategories: \n - React\n---\n\n# React \nReact SyntheticEvent\n<!-- more -->\n React \n```js\nclass MyComponent extends React.Component {\n  handleClick = (event) => {\n    console.log('Button clicked!');\n  }\n\n  render() {\n    return (\n      <button onClick={this.handleClick}>Click me!</button>\n    );\n  }\n}\n```\nhandleClickonClickReact handleClick\n\n React event.targetevent.preventDefault()event.stopPropagation()\n\n React nativeEvent\n# React\n\nReact`e.stopPropagation()`\nReact`e.stopPropagation()`\n","slug":"react/react-synthetic-event","published":1,"updated":"2023-10-23T01:55:15.583Z","__permalink":"/react/synthetic/event.html","layout":"post","photos":[],"link":"","_id":"cloigihyt001jrmf32zvkbyzp","content":"<div id=\"vip-container\"><h1 id=\"React-\"><a href=\"#React-\" class=\"headerlink\" title=\"React \"></a>React </h1><p>React SyntheticEvent</p>\n<span id=\"more\"></span>\n<p> React </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyComponent</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">React.Component</span> &#123;</span><br><span class=\"line\">  handleClick = <span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Button clicked!&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.handleClick&#125;</span>&gt;</span>Click me!<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>handleClickonClickReact handleClick</p>\n<p> React event.targetevent.preventDefault()event.stopPropagation()</p>\n<p> React nativeEvent</p>\n<h1 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h1><p>React<code>e.stopPropagation()</code><br>React<code>e.stopPropagation()</code><br></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/fiber.html","/react/fiber/implement.html","/react/service/time.html","/react/implement.html","/react/fiber/node.html"],"length":565,"excerpt":"<h1 id=\"React-\"><a href=\"#React-\" class=\"headerlink\" title=\"React \"></a>React </h1><p>React SyntheticEvent</p>","more":"<p> React </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyComponent</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">React.Component</span> &#123;</span><br><span class=\"line\">  handleClick = <span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Button clicked!&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.handleClick&#125;</span>&gt;</span>Click me!<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>handleClickonClickReact handleClick</p>\n<p> React event.targetevent.preventDefault()event.stopPropagation()</p>\n<p> React nativeEvent</p>\n<h1 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h1><p>React<code>e.stopPropagation()</code><br>React<code>e.stopPropagation()</code><br></p>"},{"title":"React ","date":"2023-10-27T02:58:50.000Z","description":"Fiber  React ","comments":1,"_content":"\n### jsx\n```jsx\n    let element = (\n    <h1>\n        hello<span style={{ color: \"red\" }}>world</span>\n    </h1>\n    );\n    console.log(element);\n\n```\n\n### \n\n![jsx ](https://pic.imgdb.cn/item/653b2718c458853aef75775a.jpg)\n\n### \n\n1. jsx-dev-runtime.js\n```jsx\n    export { jsxDEV } from \"./jsx/ReactJSXElement\";\n\n```\n\n2. ReactJSXElement.js\n```jsx\n    import hasOwnProperty from '../../shared/hasOwnProperty';\n\n    // dom \n    import { REACT_ELEMENT_TYPE  } from '../../shared/ReactSymbols';\n\n    const RESERVED_PROPS = {\n        key: true,\n        ref: true,\n        __self: true,\n        __source: true\n    };\n\n    function hasValidKey(config) {\n        return config.key !== undefined;\n    }\n\n    function hasValidRef(config) {\n        return config.ref !== undefined;\n    }\n\n    // ReactElement \n    function ReactElement(type, key, ref, props, owner) {\n        return {\n            // React\n            $$typeof: REACT_ELEMENT_TYPE,\n            type,\n            key,\n            ref,\n            props,\n            \n        }\n    }\n\n\n    export function jsxDEV(type, config) {\n        // \n        const props = {};\n        let key = null;\n        let ref = null;\n        if(hasValidKey(config)) {\n            key = config.key;\n        }\n\n        if(hasValidRef(config)) {\n            ref = config.ref;\n        }\n\n        for(const propName in config) {\n            if(hasOwnProperty.call(config, propName) &&\n            !RESERVED_PROPS.hasOwnProperty(propName)\n            ) {\n                props[propName] = config[propName];\n            }\n        }\n        return ReactElement(type, key, ref, props)\n    }\n\n```\n\n3. hasOwnProperty.js\n```jsx\n    const { hasOwnProperty } = Object.prototype;\n\n    export default hasOwnProperty;\n```\n\n4. ReactSymbols.js\n```jsx\n    //  ReactElement \n    export const REACT_ELEMENT_TYPE = Symbol.for('react.element');\n```\n\n### fiber\n\n- react\n\n```js\nconst root = createRoot(document.getElementById('root'))\n```\n\n- fiberdomdomfiber\n- fiber / \n-  `fiber` \n\n#### \n\nmain.jsx\n```jsx\n    import { createRoot } from \"react-dom/client\"\n\n    let element = (\n    <h1>hello<span style={{ color: 'red' }}>world</span></h1>\n    )\n\n    const root = createRoot(document.getElementById('root'));\n    console.log(root)\n\n```\n\n`FiberRootNode`DOM `div#root`\n\n`fiber`\n\n![`fiber`](https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg)\n\n`FiberRootNode`  `HostRootFiber`  `current` \n\n`HostRootFiber`  `FiberRootNode`  `stateNode` \n\n#### createRoot\n\n`div#root`\n\n1. client.js\n```js\n    export { createRoot } from \"./src/client/ReactDOMRoot\";\n```\n\n2. ReactDOMRoot.js\n```js\n    import { createContainer } from \"react-reconciler/src/ReactFiberReconciler\";\n    function ReactDOMRoot(internalRoot) {\n    this._internalRoot = internalRoot;\n    }\n    //  DOM\n    // container: div#root\n    export function createRoot(container) {\n    // 1.    6. #root\n    const root = createContainer(container);\n    // 7.  ReactDOMRoot\n    return new ReactDOMRoot(root);\n    }\n```\n\n3. ReactFiberReconciler.js\n```js\n    import { createFiberRoot } from \"./ReactFiberRoot\";\n    //  containerInfo: \n    export function createContainer(containerInfo) {\n    // 2\n    return createFiberRoot(containerInfo);\n    }\n```\n\n4. ReactFiberRoot.js\n```js\n    function FiberRootNode(containerInfo) {\n    // 4. DOM\n    this.containerInfo = containerInfo\n    }\n    export function createFiberRoot(containerInfo) {\n    // 3. \n    const root = new FiberRootNode(containerInfo);\n    //  FiberRoot\n    // 5. \n    return root;\n    }\n```\n\n`FiberRootNode``root`\n\n![FiberRootNode](https://pic.imgdb.cn/item/653b2e66c458853aef8a195c.jpg)\n\n#### fiber\n\nfiberfiber\n\n#### fiber\n\n- reactfiber\n-  60Hz, 16.6  JS  JS  16.6ms  React \n- \n\n\n requestIdleCallback API react 5ms\n\n#### fiber\n\n- Fiber \n\n    Fiber ,React \n\n    react \n\n    ![react ](https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg)\n\n- Fiber \n    React , Fiber\n    \n    \n    \n    \n    \n    \n\n    \n    ![](https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg)\n\n    \n    ![](https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg)\n\n#### fiber\n\nDOM`fiber``fiber`\n\nDOM`Fiber`DOM\n\nDOM => Fiber => DOM\n\nFiberRootNode`HostRootFiber`\n\n![`fiber`](https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg)\n\n1. ReactFiberRoot.js\n```js\n    import { createHostRootFiber } from \"./ReactFiber\";\n\n    function FiberRootNode(containerInfo) {\n    this.containerInfo = containerInfo;\n    }\n    export function createFiberRoot(containerInfo) {\n    // \n    const root = new FiberRootNode(containerInfo);\n    // 1. fiber. hostRootdev#root\n    // fiber\n    const uninitializedFiber = createHostRootFiber();\n    // fiber.\n    // 6. currentfiber\n    root.current = uninitializedFiber;\n    uninitializedFiber.stateNode = root;\n    return root;\n    }\n\n```\n\n2. ReactFiber.js\n```js\n    // 3. \n    import { HostRoot } from \"./ReactWorkTags\";\n    // 5. \n    import { NoFlags } from \"./ReactFiberFlags\";\n\n    export function FiberNode(tag, pendingProps, key) {\n    this.tag = tag;\n    this.key = key;\n    this.type = null; // fiber, DOMtype   (span h1 p)\n    this.stateNode = null; // fiberDOM\n\n    this.return = null; // \n    this.child = null; // \n    this.sibling = null; // \n\n    this.pendingProps = pendingProps; // \n    this.memoizedProps = null; // \n    // DOMpendingPropsfibermemoizedProps\n\n    // fiberfiber\n    // fiberHostRoot\n    this.memoizedState = null;\n\n    // fiber\n    this.updateQueue = null;\n\n    // 5. \"./ReactFiberFlags\"\n    this.flags = NoFlags; // fiber\n    this.subtreeFlags = NoFlags; // \n    this.alternate = null; //  (fiber) diff\n    }\n\n    export function createFiberNode(tag, pendingProps, key) {\n    return new FiberNode(tag, pendingProps, key);\n    }\n\n    export function createHostRootFiber() {\n    return createFiberNode(HostRoot, null, null);\n    }\n\n```\n\n3. ReactWorkTags.js\n```js\n    // DOMfiber\n    // FiberTag\n    export const HostRoot = 3; // \n    export const HostComponent = 5; //  span div p\n    export const HostText = 6; // \n    // ...\n\n```\n\n4. ReactFiberFlags.js\n```js\n    // \n    export const NoFlags = 0b000000000000000000000000000000;\n    // \n    export const Placement = 0b000000000000000000000000000010;\n    // \n    export const Update = 0b000000000000000000000000000100;\n\n```\nrootfiber\n\n![fiber](https://pic.imgdb.cn/item/653b5beac458853aef1a1a12.jpg)\n\n    currentfiber\n\nreact alternate \n\n![](https://pic.imgdb.cn/item/653bc1f2c458853aefb79377.jpg)\n\n#### \nReactFiberRoot.jsreturn rootfiber\n\n1. ReactFiberRoot.js\n```js\n    + import { initialUpdateQueue } from \"./ReactFiberClassUpdateQueue\";\n    ...\n    + initialUpdateQueue(uninitializedFiber);\n    return root;\n```\n\n2. ReactFiberClassUpdateQueue.js\n```js\n    export function initialUpdateQueue(fiber) {\n        // \n        // pending \n        const queue = {\n            shared: {\n                pending: null,\n            }\n        }\n        fiber.updateQueue = queue;\n    }\n```\n\nfiberupdateQueue \n\n![updateQueue ](https://pic.imgdb.cn/item/653bc2bdc458853aefbd2de4.jpg)\n\n### fiber\n\n#### fiber\n\n    fiber\n\njsx dom\n```js\n    let element = (\n        <div className=\"A1\">\n            <div className=\"B1\">\n                <div className=\"C1\"></div>\n                <div className=\"C2\"></div>\n            </div>\n            <div className=\"B2\"></div>\n        </div>\n    )\n\n```\n\nfiber\n```js\n    let vDom = {\n        \"type\": \"div\",\n        \"key\": \"A1\",\n        \"props\": {\n            \"className\": \"A1\",\n            \"children\": [\n                {\n                    \"type\": \"div\",\n                    \"key\": \"B1\",\n                    \"props\": {\n                        \"className\": \"B1\",\n                        \"children\": [\n                            {\n                                \"type\": \"div\",\n                                \"key\": \"C1\",\n                                \"props\": { \"className\": \"C1\"},\n                            },\n                            {\n                                \"type\": \"div\",\n                                \"key\": \"C2\",\n                                \"props\": {\"className\": \"C2\"},\n                            }\n                        ]\n                    },\n                },\n                {\n                    \"type\": \"div\",\n                    \"key\": \"B2\",\n                    \"props\": {\"className\": \"B2\"},\n                }\n            ]\n        },\n    }\n    // vDom\n    function render(element, container) {\n        // DOMDOM\n        let dom = document.createElement(element.type);\n        // \n        Object.keys(element.props).filter(key => key !== 'children').forEach(key => {\n            dom[key] = element.props[key];\n        });\n        // \n        if(Array.isArray(element.props.children)){\n            element.props.children.forEach(child=>render(child,dom));\n        }\n        // \n        container.appendChild(dom);\n    }\n    render(element, document.getElementById('root'));\n```\n\nfiber\n```js\n    // DOMFiber\n    let A1 = { type: 'div', props: { className: 'A1' } };\n    let B1 = { type: 'div', props: { className: 'B1' }, return: A1 };\n    let B2 = { type: 'div', props: { className: 'B2' }, return: A1 };\n    let C1 = { type: 'div', props: { className: 'C1' }, return: B1 };\n    let C2 = { type: 'div', props: { className: 'C2' }, return: B1 };\n    A1.child = B1;\n    B1.sibling = B2;\n    B1.child = C1;\n    C1.sibling = C2;\n\n    // \n    let nextUnitOfWork = null;\n\n    function hasRemainingTime() {\n        // \n        return true;\n    }\n\n    // render \n    function workLoop() {\n        // \n        // \n        while(nextUnitOfWork && hasRemainingTime()) {\n            // \n            nextUnitOfWork = performUnitOfWork(fiber);\n        }\n        console.log('render \");\n    }\n    \n    // \n    function performUnitOfWork(fiber) {\n        // \n        let child = beginWork(fiber);\n        if(child) {\n            return child;\n        }\n        // \n        while(fiber) {\n            // fiber \n            completeUnitOfWork(fiber);\n            // \n            if(fiber.sibling) {\n                return fiber.sibling;\n            }\n            // \n            fiber = fiber.return;\n        }\n    }\n\n    function beginWork(fiber) {\n        console.log('beginWork', fiber.props.className);\n        // \n        return fiber.child;\n    }\n\n    function completeUnitOfWork(fiber) {\n        // fiber\n        console.log('completeUnitOfWork', fiber.props.className);\n    }\n\n```\n\nfiber \n\n#### \n\n1. main.js \n```js\nroot.render(element)\n```\n\n2. ReactDOMRoot.js\n```js\n    import { updateContainer } from '../react-reconciler/src/ReactFiberReconciler';\n    ...\n    ReactDomRoot.prototype.render = function (children) {\n    // 1. \n    const root = this._internalRoot;\n    updateContainer(children, root);\n    }\n```\n\n3. ReactFiberReconciler.js\n```js\n    import { createUpdate, enqueueUpdate } from './ReactFiberClassUpdateQueue';\n    ...\n    /**\n     * , DOMDOM container\n     * @param {*} element DOM\n     * @param {*} container    FiberRootNode\n     */\n    export function updateContainer(element, container) {\n    // fiber\n    const current = container.current;\n    // \n    const update = createUpdate();\n    update.payload = {element};\n    // 3. currentFiber\n\n    let root = enqueueUpdate(current, update);\n    console.log(root);\n    }\n```\n\n4. ReactFiberClassUpdateQueue.js\n\n![ReactFiberClassUpdateQueue.js](https://pic.imgdb.cn/item/653e40f6c458853aefe48306.jpg)\n```js\n    import { markUpdateLaneFromFiberToRoot } from './ReactFiberConcurrentUpdate'\n    ...\n    // \n    export const UpdateState = 0;\n\n    export function createUpdate() {\n        const update = {tag: UpdateState};\n        return update;\n    }\n\n    export function enqueueUpdate(fiber, update) {\n        // fiber ()\n        const updateQueue = fiber.updateQueue;\n        // \n        const pending = updateQueue.shared.pending;\n        // \n        if(pending === null) {\n            update.next = update;\n        } else {\n            update.next = pending.next;\n            pending.next = update;\n        }\n    \n        // update \n        updateQueue.shared.pending = update;\n\n        // fiber \n\n        return markUpdateLaneFromFiberToRoot(fiber);\n\n    }\n\n```\n\n####  \n\nReactFiberConcurrentUpdate.js\n```js\n    import { HostRoot } from './ReactWorkTags';\n\n    /**\n     * fiber\n     * \n     * @param {*} sourceFiber\n     */\n\n    export function markUpdateLaneFromFiberToRoot(sourceFiber) {\n        // fiber\n        let parent = sourceFiber.return;\n        // fiber\n        let node = sourceFiber;\n\n        //  fiber null\n        while(parent !== null) {\n            node = parent;\n            parent = parent.return;\n        }\n        // root\n        if(node.tag === HostRoot) {\n            const root = node.stateNode;\n            return root;\n        }\n        return null;\n    }\n\n```\n\n#### \n\nfiber\n\n1. ReactFiberReconciler.js\n```js\n    import { scheduleUpdateOnFiber } from './ReactFiberWorkLoop'\n    ...\n    export function updateContainer(element, container) {\n    ...\n    + scheduleUpdateOnFiber(root);\n    }\n\n```\n\n2. ReactFiberWorkLoop.js\n```js\n    import { scheduleCallback } from './scheduler';\n\n    export function scheduleUpdateOnFiber(root) {\n        ensureRootIsScheduled(root);\n    }\n\n    export function ensureRootIsScheduled(root) {\n        // performConcurrentWorkOnRoot root\n        scheduleCallback(performConcurrentWorkOnRoot.bind(null, root));\n    }\n\n    function performConcurrentWorkOnRoot(root) {\n        console.log(root, 'performConcurrentWorkOnRoot');\n    }\n```\n\n3. src/scheduler/index.js\n```js\n    export * from './src/forks/Scheduler';\n```\n\n4. src/forks/Scheduler.js\n```js\n    // \n    export function scheduleCallback(callback) {\n    requestIdleCallback(callback);\n    }\n```\n\n5. FiberRootNode\n\n![FiberRootNode](https://pic.imgdb.cn/item/653e496bc458853aef00deb1.jpg)\n\n### \n\n![](https://pic.imgdb.cn/item/653e4d86c458853aef11c6ea.jpg)\n\nfiberfiber\ncurrentfiberfiberfiberfiber\nfiberfiber\n\n#### hostRootFiber\n\n1. ReactFiberWorkLoop.js\n```js\n    import { creatWorkInProgress } from \"./ReactFiber\";\n\n    // \n    let workInProgress = null\n\n    //...\n\n    /**\n     * ()\n     * fiberfiber, dom, \n     * @param {*} root\n     */\n    function performConcurrentWorkOnRoot(root) {\n    // 1. ,  ()\n    renderRootSync(root);\n    }\n\n    function prepareFreshStack(root) {\n    // 5. fiberfiber ()\n    workInProgress = creatWorkInProgress(root.current);\n    }\n\n    function renderRootSync(root) {\n    // 2. \n    prepareFreshStack(root);\n    }\n\n```\n\n2. ReactFiber.js\n```js\n    /**\n     * fiberfiber\n     * @param {*} current fiber\n     * @param {*} pendingProps \n     */\n    export function creatWorkInProgress(current, pendingProps) {\n        // 3. fiber  ()\n        let workInProgress = current.alternate;\n        if(workInProgress === null) {\n            workInProgress = createFiberNode(current.tag, pendingProps, current.key);\n            workInProgress.type = current.type;\n            workInProgress.stateNode = current.stateNode;\n\n            workInProgress.stateNode = current;\n            current.alternate =  workInProgress;\n        } else {\n            // \n            workInProgress.pendingProps = current.pendingProps;\n            workInProgress.type = current.type;\n            workInProgress.flags = current.flags;\n            workInProgress.subtreeFlags = NoFlags;\n        }\n        // \n        workInProgress.child = current.child;\n        workInProgress.memoizedProps = current.memoizedProps;\n        workInProgress.memoizedState = current.memoizedState;\n        workInProgress.updateQueue = current.updateQueue;\n        workInProgress.sibling = current.sibling;\n        workInProgress.index = current.index;\n        return workInProgress;\n    }\n```\n\n#### \n\nfiberfiber\n\n1. ReactFiberWorkLoop.js\n```js\n    import { beginWork } from \"./ReactFiberBeginWork\";\n    ...\n    function renderRootSync(root) {\n        // 2. \n        prepareFreshStack(root);\n        // 1.  workInProgress fiber\n        workLoopSync();\n    }\n\n    // \n    function workLoopSync() {\n        while(workInProgress !== null) {\n            // 2. \n            performUnitOfWork(workInProgress);\n        }\n    }\n\n    function performUnitOfWork(unitOfWork) {\n        const current = unitOfWork.alternate;\n\n        const next = beginWork(current, unitOfWork);\n\n        unitOfWork.memoizedProps = unitOfWork.pendingProps;\n        if(next === null) {\n            // \n            // \n            // completeUnitOfWork(); //  \n            workInProgress = null;\n        } else {\n            // \n            workInProgress = next;\n        }\n    }\n```\n\n2. ReactFiberBeginWork.js\n```js\n    import { HostComponent, HostRoot, HostText } from \"./ReactWorkTags\";\n    import { processUpdateQueue } from './ReactFiberClassUpdateQueue';\n\n    /**\n     * 5.  `` dom  `` fiber\n     * @param {*} current fiber\n     * @param {*} workInProgress fiber\n     * @returns \n     */\n    export function beginWork(current, workInProgress) {\n        console.log(\"beginWork\", workInProgress);\n        // \n        switch(workInProgress.tag) {\n            case HostRoot:\n                return updateHostRoot(current, workInProgress);\n            case HostComponent:\n                return updateHostComponent(current, workInProgress);\n            \n            case HostText:\n                return null;\n            default:\n                return null;\n        }\n    }\n\n    function updateHostRoot(current, workInProgress) {\n        // dom, dom\n        // fiberdom, \n        processUpdateQueue(workInProgress);\n        const nextState = workInProgress.memoizedState;\n        // \n        const nextChildren = nextState.element;\n        reconcileChildren(current, workInProgress, nextChildren);\n\n        return workInProgress.child;\n    }\n\n    function updateHostComponents(current, workInProgress) {}\n```\n\n#### dom\n`processUpdateQueue`\n\n1. ReactFiberClassUpdateQueue.js\n```js\n    import { markUpdateLaneFromFiberToRoot } from './ReactFiberConcurrentUpdate'\n\n    export function initialUpdateQueue(fiber) {\n        // \n        // pending \n        const queue = {\n            shared: {\n                pending: null,\n            }\n        }\n        fiber.updateQueue = queue;\n    }\n\n    // \n    export const UpdateState = 0;\n\n    export function createUpdate() {\n        const update = {tag: UpdateState};\n        return update;\n    }\n\n    export function enqueueUpdate(fiber, update) {\n        // fiber ()\n        const updateQueue = fiber.updateQueue;\n        // \n        const pending = updateQueue.shared.pending;\n        // \n        if(pending === null) {\n            update.next = update;\n        } else {\n            update.next = pending.next;\n            pending.next = update;\n        }\n    \n        // update \n        updateQueue.shared.pending = update;\n\n        // fiber \n\n        return markUpdateLaneFromFiberToRoot(fiber);\n\n    }\n\n    /**\n     * \n     * @param {*} workInProgress fiber\n     */\n    export function processUpdateQueue(workInProgress) {\n        // \n        const queue = workInProgress.updateQueue;\n        // \n        const pendingQueue = queue.shared.pending;\n        // , \n        if(pendingQueue !== null) {\n            //  \n            queue.shared.pending = null;\n            //  \n            const lastPendingUpdate = pendingQueue;\n            // \n            const firstPendingUpdate = pendingQueue.next;\n            // , \n            lastPendingUpdate.next = null;\n            //  (, newState)\n            let newState = workInProgress.memoizedState;\n            let update = firstPendingUpdate;\n            while(update) {\n                // \n                newState = getStateFromUpdate(update, newState);\n                update = update.next;\n            }\n\n            //  memoizedState\n            workInProgress.memoizedState = newState;\n        }\n    }\n\n    /**\n     * , \n     * @param {*} update \n     * @param {*} prevState \n     * @returns \n     */\n    function getStateFromUpdate(update, prevState) {\n        switch(update.tag) {\n            case UpdateState:\n                const { payload } = update;\n                return assign({}, prevState, payload);\n        }\n    }\n```\n\n#### domfiber\n\n`reconcileChildren`\n\n1. ReactFiberBeginWork.js\n```js\n    import { mountChildFibers, reconcileChildFibers } from \"./ReactChildFiber\";\n\n    /**\n     * domfiber\n     * @param {*} current fiber\n     * @param {*} workInProgress fiber\n     * @param {*} nextChildren dom\n     */\n    function reconcileChildren(current, workInProgress, nextChildren) {\n        // fiberfiber, \n        if (current === null) {\n            // fiber\n            workInProgress.child = mountChildFibers(workInProgress, null, next);\n        } else {\n            // :  fiber DOM-DIFF   (fiberfiber())\n            workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            nextChildren\n            );\n        }\n    }\n\n```\n\n2. ReactChildFiber.js\n```js\n    import { createFiberFromElement } from './ReactFiber';\n    import { REACT_ELEMENT_TYPE } from '../../shared/ReactSymbols';\n    /**\n     *\n     * @param {*} shouldTrackSideEffect \n     * @returns\n     */\n    function createChildReconciler(shouldTrackSideEffect) {\n\n    function reconcileSingElement(returnFiber, currentFirstFiber, element) {\n            // , currentFirstFiber, \n            // domfiber\n            const created = createFiberFromElement(element);\n            created.return = returnFiber;\n            return created;\n        }\n\n        /**\n     * fiber  (DOM-DIFF) fiberdom\n     * @param {*} returnFiber fiber\n     * @param {*} currentFirstFiber fiber(fiber)\n     * @param {*} newChild dom\n     */\n        function reconcileChildFibers(returnFiber, currentFirstFiber, newChild) {\n            // \n            if(typeof newChild === 'object' && newChild !== null) {\n                switch (newChild.$$typeof) {\n                    case REACT_ELEMENT_TYPE:\n                        return reconcileSingElement(\n                            returnFiber,\n                            currentFirstFiber,\n                            newChild\n                        );\n                    default:\n                        break;\n                }\n            }\n        }\n        return reconcileChildFibers;\n    }\n\n    // fiber \n    export const reconcileChildFibers = createChildReconciler(true);\n    // fiber \n    export const mountChildFibers = createChildReconciler(false);\n```\n\n3. ReactFiber.js\n```js\n    ...\n    export function createFiberFromElement(element) {\n        const type = element.type;\n        const key = element.key;\n        const pendingProps = element.props;\n        const fiber = createFiberFromTypeAndProps(\n            type,\n            key,\n            pendingProps\n        );\n        return fiber;\n    }\n\n        export function createFiberFromTypeAndProps(type, key, pendingProps) {\n        let fiberTag = IndeterminateComponent;\n        const fiber = createFiberNode(fiberTag, pendingProps, key);\n        fiber.type = type;\n        return fiber;\n    }\n```\n\n### \n\n1. ReactFiberWorkLoop.js\n```js\n    function completeUnitOfWork(unitOfWork) {\n        ...\n        if (next === null) {\n        // \n        // \n        + completeUnitOfWork(unitOfWork); //  \n            // workInProgress = null;\n        } else {\n            // \n            workInProgress = next;\n        }\n    }\n    function completeUnitOfWork(unitOfWork) {\n        let completeWork = unitOfWork;\n        do {\n            // RootFiber\n            const current = completeWork.alternate;\n            const returnFiber = completeWork.return;\n            let next = completeWork(current, completeWork);\n            // \n            if(next !== null) {\n            workInProgress = next;\n            return;\n            }\n            \n            const siblingFiber = completeWork.sibling;\n            // \n            if(siblingFiber !== null) {\n            workInProgress = siblingFiber;\n            return;\n            }\n            // \n            completeWork = returnFiber;\n\n        } while(completeWork !== null);\n    }\n```","source":"_posts/react/reactImplement.md","raw":"---\ntitle: React \npermalink: /react/implement.html\ndate: 2023-10-27 10:58:50\ndescription: Fiber  React \ntag: [, react, JavaScript, JSX]\ncomments: true\ncategories: \n - React\n---\n\n### jsx\n```jsx\n    let element = (\n    <h1>\n        hello<span style={{ color: \"red\" }}>world</span>\n    </h1>\n    );\n    console.log(element);\n\n```\n\n### \n\n![jsx ](https://pic.imgdb.cn/item/653b2718c458853aef75775a.jpg)\n\n### \n\n1. jsx-dev-runtime.js\n```jsx\n    export { jsxDEV } from \"./jsx/ReactJSXElement\";\n\n```\n\n2. ReactJSXElement.js\n```jsx\n    import hasOwnProperty from '../../shared/hasOwnProperty';\n\n    // dom \n    import { REACT_ELEMENT_TYPE  } from '../../shared/ReactSymbols';\n\n    const RESERVED_PROPS = {\n        key: true,\n        ref: true,\n        __self: true,\n        __source: true\n    };\n\n    function hasValidKey(config) {\n        return config.key !== undefined;\n    }\n\n    function hasValidRef(config) {\n        return config.ref !== undefined;\n    }\n\n    // ReactElement \n    function ReactElement(type, key, ref, props, owner) {\n        return {\n            // React\n            $$typeof: REACT_ELEMENT_TYPE,\n            type,\n            key,\n            ref,\n            props,\n            \n        }\n    }\n\n\n    export function jsxDEV(type, config) {\n        // \n        const props = {};\n        let key = null;\n        let ref = null;\n        if(hasValidKey(config)) {\n            key = config.key;\n        }\n\n        if(hasValidRef(config)) {\n            ref = config.ref;\n        }\n\n        for(const propName in config) {\n            if(hasOwnProperty.call(config, propName) &&\n            !RESERVED_PROPS.hasOwnProperty(propName)\n            ) {\n                props[propName] = config[propName];\n            }\n        }\n        return ReactElement(type, key, ref, props)\n    }\n\n```\n\n3. hasOwnProperty.js\n```jsx\n    const { hasOwnProperty } = Object.prototype;\n\n    export default hasOwnProperty;\n```\n\n4. ReactSymbols.js\n```jsx\n    //  ReactElement \n    export const REACT_ELEMENT_TYPE = Symbol.for('react.element');\n```\n\n### fiber\n\n- react\n\n```js\nconst root = createRoot(document.getElementById('root'))\n```\n\n- fiberdomdomfiber\n- fiber / \n-  `fiber` \n\n#### \n\nmain.jsx\n```jsx\n    import { createRoot } from \"react-dom/client\"\n\n    let element = (\n    <h1>hello<span style={{ color: 'red' }}>world</span></h1>\n    )\n\n    const root = createRoot(document.getElementById('root'));\n    console.log(root)\n\n```\n\n`FiberRootNode`DOM `div#root`\n\n`fiber`\n\n![`fiber`](https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg)\n\n`FiberRootNode`  `HostRootFiber`  `current` \n\n`HostRootFiber`  `FiberRootNode`  `stateNode` \n\n#### createRoot\n\n`div#root`\n\n1. client.js\n```js\n    export { createRoot } from \"./src/client/ReactDOMRoot\";\n```\n\n2. ReactDOMRoot.js\n```js\n    import { createContainer } from \"react-reconciler/src/ReactFiberReconciler\";\n    function ReactDOMRoot(internalRoot) {\n    this._internalRoot = internalRoot;\n    }\n    //  DOM\n    // container: div#root\n    export function createRoot(container) {\n    // 1.    6. #root\n    const root = createContainer(container);\n    // 7.  ReactDOMRoot\n    return new ReactDOMRoot(root);\n    }\n```\n\n3. ReactFiberReconciler.js\n```js\n    import { createFiberRoot } from \"./ReactFiberRoot\";\n    //  containerInfo: \n    export function createContainer(containerInfo) {\n    // 2\n    return createFiberRoot(containerInfo);\n    }\n```\n\n4. ReactFiberRoot.js\n```js\n    function FiberRootNode(containerInfo) {\n    // 4. DOM\n    this.containerInfo = containerInfo\n    }\n    export function createFiberRoot(containerInfo) {\n    // 3. \n    const root = new FiberRootNode(containerInfo);\n    //  FiberRoot\n    // 5. \n    return root;\n    }\n```\n\n`FiberRootNode``root`\n\n![FiberRootNode](https://pic.imgdb.cn/item/653b2e66c458853aef8a195c.jpg)\n\n#### fiber\n\nfiberfiber\n\n#### fiber\n\n- reactfiber\n-  60Hz, 16.6  JS  JS  16.6ms  React \n- \n\n\n requestIdleCallback API react 5ms\n\n#### fiber\n\n- Fiber \n\n    Fiber ,React \n\n    react \n\n    ![react ](https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg)\n\n- Fiber \n    React , Fiber\n    \n    \n    \n    \n    \n    \n\n    \n    ![](https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg)\n\n    \n    ![](https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg)\n\n#### fiber\n\nDOM`fiber``fiber`\n\nDOM`Fiber`DOM\n\nDOM => Fiber => DOM\n\nFiberRootNode`HostRootFiber`\n\n![`fiber`](https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg)\n\n1. ReactFiberRoot.js\n```js\n    import { createHostRootFiber } from \"./ReactFiber\";\n\n    function FiberRootNode(containerInfo) {\n    this.containerInfo = containerInfo;\n    }\n    export function createFiberRoot(containerInfo) {\n    // \n    const root = new FiberRootNode(containerInfo);\n    // 1. fiber. hostRootdev#root\n    // fiber\n    const uninitializedFiber = createHostRootFiber();\n    // fiber.\n    // 6. currentfiber\n    root.current = uninitializedFiber;\n    uninitializedFiber.stateNode = root;\n    return root;\n    }\n\n```\n\n2. ReactFiber.js\n```js\n    // 3. \n    import { HostRoot } from \"./ReactWorkTags\";\n    // 5. \n    import { NoFlags } from \"./ReactFiberFlags\";\n\n    export function FiberNode(tag, pendingProps, key) {\n    this.tag = tag;\n    this.key = key;\n    this.type = null; // fiber, DOMtype   (span h1 p)\n    this.stateNode = null; // fiberDOM\n\n    this.return = null; // \n    this.child = null; // \n    this.sibling = null; // \n\n    this.pendingProps = pendingProps; // \n    this.memoizedProps = null; // \n    // DOMpendingPropsfibermemoizedProps\n\n    // fiberfiber\n    // fiberHostRoot\n    this.memoizedState = null;\n\n    // fiber\n    this.updateQueue = null;\n\n    // 5. \"./ReactFiberFlags\"\n    this.flags = NoFlags; // fiber\n    this.subtreeFlags = NoFlags; // \n    this.alternate = null; //  (fiber) diff\n    }\n\n    export function createFiberNode(tag, pendingProps, key) {\n    return new FiberNode(tag, pendingProps, key);\n    }\n\n    export function createHostRootFiber() {\n    return createFiberNode(HostRoot, null, null);\n    }\n\n```\n\n3. ReactWorkTags.js\n```js\n    // DOMfiber\n    // FiberTag\n    export const HostRoot = 3; // \n    export const HostComponent = 5; //  span div p\n    export const HostText = 6; // \n    // ...\n\n```\n\n4. ReactFiberFlags.js\n```js\n    // \n    export const NoFlags = 0b000000000000000000000000000000;\n    // \n    export const Placement = 0b000000000000000000000000000010;\n    // \n    export const Update = 0b000000000000000000000000000100;\n\n```\nrootfiber\n\n![fiber](https://pic.imgdb.cn/item/653b5beac458853aef1a1a12.jpg)\n\n    currentfiber\n\nreact alternate \n\n![](https://pic.imgdb.cn/item/653bc1f2c458853aefb79377.jpg)\n\n#### \nReactFiberRoot.jsreturn rootfiber\n\n1. ReactFiberRoot.js\n```js\n    + import { initialUpdateQueue } from \"./ReactFiberClassUpdateQueue\";\n    ...\n    + initialUpdateQueue(uninitializedFiber);\n    return root;\n```\n\n2. ReactFiberClassUpdateQueue.js\n```js\n    export function initialUpdateQueue(fiber) {\n        // \n        // pending \n        const queue = {\n            shared: {\n                pending: null,\n            }\n        }\n        fiber.updateQueue = queue;\n    }\n```\n\nfiberupdateQueue \n\n![updateQueue ](https://pic.imgdb.cn/item/653bc2bdc458853aefbd2de4.jpg)\n\n### fiber\n\n#### fiber\n\n    fiber\n\njsx dom\n```js\n    let element = (\n        <div className=\"A1\">\n            <div className=\"B1\">\n                <div className=\"C1\"></div>\n                <div className=\"C2\"></div>\n            </div>\n            <div className=\"B2\"></div>\n        </div>\n    )\n\n```\n\nfiber\n```js\n    let vDom = {\n        \"type\": \"div\",\n        \"key\": \"A1\",\n        \"props\": {\n            \"className\": \"A1\",\n            \"children\": [\n                {\n                    \"type\": \"div\",\n                    \"key\": \"B1\",\n                    \"props\": {\n                        \"className\": \"B1\",\n                        \"children\": [\n                            {\n                                \"type\": \"div\",\n                                \"key\": \"C1\",\n                                \"props\": { \"className\": \"C1\"},\n                            },\n                            {\n                                \"type\": \"div\",\n                                \"key\": \"C2\",\n                                \"props\": {\"className\": \"C2\"},\n                            }\n                        ]\n                    },\n                },\n                {\n                    \"type\": \"div\",\n                    \"key\": \"B2\",\n                    \"props\": {\"className\": \"B2\"},\n                }\n            ]\n        },\n    }\n    // vDom\n    function render(element, container) {\n        // DOMDOM\n        let dom = document.createElement(element.type);\n        // \n        Object.keys(element.props).filter(key => key !== 'children').forEach(key => {\n            dom[key] = element.props[key];\n        });\n        // \n        if(Array.isArray(element.props.children)){\n            element.props.children.forEach(child=>render(child,dom));\n        }\n        // \n        container.appendChild(dom);\n    }\n    render(element, document.getElementById('root'));\n```\n\nfiber\n```js\n    // DOMFiber\n    let A1 = { type: 'div', props: { className: 'A1' } };\n    let B1 = { type: 'div', props: { className: 'B1' }, return: A1 };\n    let B2 = { type: 'div', props: { className: 'B2' }, return: A1 };\n    let C1 = { type: 'div', props: { className: 'C1' }, return: B1 };\n    let C2 = { type: 'div', props: { className: 'C2' }, return: B1 };\n    A1.child = B1;\n    B1.sibling = B2;\n    B1.child = C1;\n    C1.sibling = C2;\n\n    // \n    let nextUnitOfWork = null;\n\n    function hasRemainingTime() {\n        // \n        return true;\n    }\n\n    // render \n    function workLoop() {\n        // \n        // \n        while(nextUnitOfWork && hasRemainingTime()) {\n            // \n            nextUnitOfWork = performUnitOfWork(fiber);\n        }\n        console.log('render \");\n    }\n    \n    // \n    function performUnitOfWork(fiber) {\n        // \n        let child = beginWork(fiber);\n        if(child) {\n            return child;\n        }\n        // \n        while(fiber) {\n            // fiber \n            completeUnitOfWork(fiber);\n            // \n            if(fiber.sibling) {\n                return fiber.sibling;\n            }\n            // \n            fiber = fiber.return;\n        }\n    }\n\n    function beginWork(fiber) {\n        console.log('beginWork', fiber.props.className);\n        // \n        return fiber.child;\n    }\n\n    function completeUnitOfWork(fiber) {\n        // fiber\n        console.log('completeUnitOfWork', fiber.props.className);\n    }\n\n```\n\nfiber \n\n#### \n\n1. main.js \n```js\nroot.render(element)\n```\n\n2. ReactDOMRoot.js\n```js\n    import { updateContainer } from '../react-reconciler/src/ReactFiberReconciler';\n    ...\n    ReactDomRoot.prototype.render = function (children) {\n    // 1. \n    const root = this._internalRoot;\n    updateContainer(children, root);\n    }\n```\n\n3. ReactFiberReconciler.js\n```js\n    import { createUpdate, enqueueUpdate } from './ReactFiberClassUpdateQueue';\n    ...\n    /**\n     * , DOMDOM container\n     * @param {*} element DOM\n     * @param {*} container    FiberRootNode\n     */\n    export function updateContainer(element, container) {\n    // fiber\n    const current = container.current;\n    // \n    const update = createUpdate();\n    update.payload = {element};\n    // 3. currentFiber\n\n    let root = enqueueUpdate(current, update);\n    console.log(root);\n    }\n```\n\n4. ReactFiberClassUpdateQueue.js\n\n![ReactFiberClassUpdateQueue.js](https://pic.imgdb.cn/item/653e40f6c458853aefe48306.jpg)\n```js\n    import { markUpdateLaneFromFiberToRoot } from './ReactFiberConcurrentUpdate'\n    ...\n    // \n    export const UpdateState = 0;\n\n    export function createUpdate() {\n        const update = {tag: UpdateState};\n        return update;\n    }\n\n    export function enqueueUpdate(fiber, update) {\n        // fiber ()\n        const updateQueue = fiber.updateQueue;\n        // \n        const pending = updateQueue.shared.pending;\n        // \n        if(pending === null) {\n            update.next = update;\n        } else {\n            update.next = pending.next;\n            pending.next = update;\n        }\n    \n        // update \n        updateQueue.shared.pending = update;\n\n        // fiber \n\n        return markUpdateLaneFromFiberToRoot(fiber);\n\n    }\n\n```\n\n####  \n\nReactFiberConcurrentUpdate.js\n```js\n    import { HostRoot } from './ReactWorkTags';\n\n    /**\n     * fiber\n     * \n     * @param {*} sourceFiber\n     */\n\n    export function markUpdateLaneFromFiberToRoot(sourceFiber) {\n        // fiber\n        let parent = sourceFiber.return;\n        // fiber\n        let node = sourceFiber;\n\n        //  fiber null\n        while(parent !== null) {\n            node = parent;\n            parent = parent.return;\n        }\n        // root\n        if(node.tag === HostRoot) {\n            const root = node.stateNode;\n            return root;\n        }\n        return null;\n    }\n\n```\n\n#### \n\nfiber\n\n1. ReactFiberReconciler.js\n```js\n    import { scheduleUpdateOnFiber } from './ReactFiberWorkLoop'\n    ...\n    export function updateContainer(element, container) {\n    ...\n    + scheduleUpdateOnFiber(root);\n    }\n\n```\n\n2. ReactFiberWorkLoop.js\n```js\n    import { scheduleCallback } from './scheduler';\n\n    export function scheduleUpdateOnFiber(root) {\n        ensureRootIsScheduled(root);\n    }\n\n    export function ensureRootIsScheduled(root) {\n        // performConcurrentWorkOnRoot root\n        scheduleCallback(performConcurrentWorkOnRoot.bind(null, root));\n    }\n\n    function performConcurrentWorkOnRoot(root) {\n        console.log(root, 'performConcurrentWorkOnRoot');\n    }\n```\n\n3. src/scheduler/index.js\n```js\n    export * from './src/forks/Scheduler';\n```\n\n4. src/forks/Scheduler.js\n```js\n    // \n    export function scheduleCallback(callback) {\n    requestIdleCallback(callback);\n    }\n```\n\n5. FiberRootNode\n\n![FiberRootNode](https://pic.imgdb.cn/item/653e496bc458853aef00deb1.jpg)\n\n### \n\n![](https://pic.imgdb.cn/item/653e4d86c458853aef11c6ea.jpg)\n\nfiberfiber\ncurrentfiberfiberfiberfiber\nfiberfiber\n\n#### hostRootFiber\n\n1. ReactFiberWorkLoop.js\n```js\n    import { creatWorkInProgress } from \"./ReactFiber\";\n\n    // \n    let workInProgress = null\n\n    //...\n\n    /**\n     * ()\n     * fiberfiber, dom, \n     * @param {*} root\n     */\n    function performConcurrentWorkOnRoot(root) {\n    // 1. ,  ()\n    renderRootSync(root);\n    }\n\n    function prepareFreshStack(root) {\n    // 5. fiberfiber ()\n    workInProgress = creatWorkInProgress(root.current);\n    }\n\n    function renderRootSync(root) {\n    // 2. \n    prepareFreshStack(root);\n    }\n\n```\n\n2. ReactFiber.js\n```js\n    /**\n     * fiberfiber\n     * @param {*} current fiber\n     * @param {*} pendingProps \n     */\n    export function creatWorkInProgress(current, pendingProps) {\n        // 3. fiber  ()\n        let workInProgress = current.alternate;\n        if(workInProgress === null) {\n            workInProgress = createFiberNode(current.tag, pendingProps, current.key);\n            workInProgress.type = current.type;\n            workInProgress.stateNode = current.stateNode;\n\n            workInProgress.stateNode = current;\n            current.alternate =  workInProgress;\n        } else {\n            // \n            workInProgress.pendingProps = current.pendingProps;\n            workInProgress.type = current.type;\n            workInProgress.flags = current.flags;\n            workInProgress.subtreeFlags = NoFlags;\n        }\n        // \n        workInProgress.child = current.child;\n        workInProgress.memoizedProps = current.memoizedProps;\n        workInProgress.memoizedState = current.memoizedState;\n        workInProgress.updateQueue = current.updateQueue;\n        workInProgress.sibling = current.sibling;\n        workInProgress.index = current.index;\n        return workInProgress;\n    }\n```\n\n#### \n\nfiberfiber\n\n1. ReactFiberWorkLoop.js\n```js\n    import { beginWork } from \"./ReactFiberBeginWork\";\n    ...\n    function renderRootSync(root) {\n        // 2. \n        prepareFreshStack(root);\n        // 1.  workInProgress fiber\n        workLoopSync();\n    }\n\n    // \n    function workLoopSync() {\n        while(workInProgress !== null) {\n            // 2. \n            performUnitOfWork(workInProgress);\n        }\n    }\n\n    function performUnitOfWork(unitOfWork) {\n        const current = unitOfWork.alternate;\n\n        const next = beginWork(current, unitOfWork);\n\n        unitOfWork.memoizedProps = unitOfWork.pendingProps;\n        if(next === null) {\n            // \n            // \n            // completeUnitOfWork(); //  \n            workInProgress = null;\n        } else {\n            // \n            workInProgress = next;\n        }\n    }\n```\n\n2. ReactFiberBeginWork.js\n```js\n    import { HostComponent, HostRoot, HostText } from \"./ReactWorkTags\";\n    import { processUpdateQueue } from './ReactFiberClassUpdateQueue';\n\n    /**\n     * 5.  `` dom  `` fiber\n     * @param {*} current fiber\n     * @param {*} workInProgress fiber\n     * @returns \n     */\n    export function beginWork(current, workInProgress) {\n        console.log(\"beginWork\", workInProgress);\n        // \n        switch(workInProgress.tag) {\n            case HostRoot:\n                return updateHostRoot(current, workInProgress);\n            case HostComponent:\n                return updateHostComponent(current, workInProgress);\n            \n            case HostText:\n                return null;\n            default:\n                return null;\n        }\n    }\n\n    function updateHostRoot(current, workInProgress) {\n        // dom, dom\n        // fiberdom, \n        processUpdateQueue(workInProgress);\n        const nextState = workInProgress.memoizedState;\n        // \n        const nextChildren = nextState.element;\n        reconcileChildren(current, workInProgress, nextChildren);\n\n        return workInProgress.child;\n    }\n\n    function updateHostComponents(current, workInProgress) {}\n```\n\n#### dom\n`processUpdateQueue`\n\n1. ReactFiberClassUpdateQueue.js\n```js\n    import { markUpdateLaneFromFiberToRoot } from './ReactFiberConcurrentUpdate'\n\n    export function initialUpdateQueue(fiber) {\n        // \n        // pending \n        const queue = {\n            shared: {\n                pending: null,\n            }\n        }\n        fiber.updateQueue = queue;\n    }\n\n    // \n    export const UpdateState = 0;\n\n    export function createUpdate() {\n        const update = {tag: UpdateState};\n        return update;\n    }\n\n    export function enqueueUpdate(fiber, update) {\n        // fiber ()\n        const updateQueue = fiber.updateQueue;\n        // \n        const pending = updateQueue.shared.pending;\n        // \n        if(pending === null) {\n            update.next = update;\n        } else {\n            update.next = pending.next;\n            pending.next = update;\n        }\n    \n        // update \n        updateQueue.shared.pending = update;\n\n        // fiber \n\n        return markUpdateLaneFromFiberToRoot(fiber);\n\n    }\n\n    /**\n     * \n     * @param {*} workInProgress fiber\n     */\n    export function processUpdateQueue(workInProgress) {\n        // \n        const queue = workInProgress.updateQueue;\n        // \n        const pendingQueue = queue.shared.pending;\n        // , \n        if(pendingQueue !== null) {\n            //  \n            queue.shared.pending = null;\n            //  \n            const lastPendingUpdate = pendingQueue;\n            // \n            const firstPendingUpdate = pendingQueue.next;\n            // , \n            lastPendingUpdate.next = null;\n            //  (, newState)\n            let newState = workInProgress.memoizedState;\n            let update = firstPendingUpdate;\n            while(update) {\n                // \n                newState = getStateFromUpdate(update, newState);\n                update = update.next;\n            }\n\n            //  memoizedState\n            workInProgress.memoizedState = newState;\n        }\n    }\n\n    /**\n     * , \n     * @param {*} update \n     * @param {*} prevState \n     * @returns \n     */\n    function getStateFromUpdate(update, prevState) {\n        switch(update.tag) {\n            case UpdateState:\n                const { payload } = update;\n                return assign({}, prevState, payload);\n        }\n    }\n```\n\n#### domfiber\n\n`reconcileChildren`\n\n1. ReactFiberBeginWork.js\n```js\n    import { mountChildFibers, reconcileChildFibers } from \"./ReactChildFiber\";\n\n    /**\n     * domfiber\n     * @param {*} current fiber\n     * @param {*} workInProgress fiber\n     * @param {*} nextChildren dom\n     */\n    function reconcileChildren(current, workInProgress, nextChildren) {\n        // fiberfiber, \n        if (current === null) {\n            // fiber\n            workInProgress.child = mountChildFibers(workInProgress, null, next);\n        } else {\n            // :  fiber DOM-DIFF   (fiberfiber())\n            workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            nextChildren\n            );\n        }\n    }\n\n```\n\n2. ReactChildFiber.js\n```js\n    import { createFiberFromElement } from './ReactFiber';\n    import { REACT_ELEMENT_TYPE } from '../../shared/ReactSymbols';\n    /**\n     *\n     * @param {*} shouldTrackSideEffect \n     * @returns\n     */\n    function createChildReconciler(shouldTrackSideEffect) {\n\n    function reconcileSingElement(returnFiber, currentFirstFiber, element) {\n            // , currentFirstFiber, \n            // domfiber\n            const created = createFiberFromElement(element);\n            created.return = returnFiber;\n            return created;\n        }\n\n        /**\n     * fiber  (DOM-DIFF) fiberdom\n     * @param {*} returnFiber fiber\n     * @param {*} currentFirstFiber fiber(fiber)\n     * @param {*} newChild dom\n     */\n        function reconcileChildFibers(returnFiber, currentFirstFiber, newChild) {\n            // \n            if(typeof newChild === 'object' && newChild !== null) {\n                switch (newChild.$$typeof) {\n                    case REACT_ELEMENT_TYPE:\n                        return reconcileSingElement(\n                            returnFiber,\n                            currentFirstFiber,\n                            newChild\n                        );\n                    default:\n                        break;\n                }\n            }\n        }\n        return reconcileChildFibers;\n    }\n\n    // fiber \n    export const reconcileChildFibers = createChildReconciler(true);\n    // fiber \n    export const mountChildFibers = createChildReconciler(false);\n```\n\n3. ReactFiber.js\n```js\n    ...\n    export function createFiberFromElement(element) {\n        const type = element.type;\n        const key = element.key;\n        const pendingProps = element.props;\n        const fiber = createFiberFromTypeAndProps(\n            type,\n            key,\n            pendingProps\n        );\n        return fiber;\n    }\n\n        export function createFiberFromTypeAndProps(type, key, pendingProps) {\n        let fiberTag = IndeterminateComponent;\n        const fiber = createFiberNode(fiberTag, pendingProps, key);\n        fiber.type = type;\n        return fiber;\n    }\n```\n\n### \n\n1. ReactFiberWorkLoop.js\n```js\n    function completeUnitOfWork(unitOfWork) {\n        ...\n        if (next === null) {\n        // \n        // \n        + completeUnitOfWork(unitOfWork); //  \n            // workInProgress = null;\n        } else {\n            // \n            workInProgress = next;\n        }\n    }\n    function completeUnitOfWork(unitOfWork) {\n        let completeWork = unitOfWork;\n        do {\n            // RootFiber\n            const current = completeWork.alternate;\n            const returnFiber = completeWork.return;\n            let next = completeWork(current, completeWork);\n            // \n            if(next !== null) {\n            workInProgress = next;\n            return;\n            }\n            \n            const siblingFiber = completeWork.sibling;\n            // \n            if(siblingFiber !== null) {\n            workInProgress = siblingFiber;\n            return;\n            }\n            // \n            completeWork = returnFiber;\n\n        } while(completeWork !== null);\n    }\n```","slug":"react/reactImplement","published":1,"updated":"2023-11-02T03:06:27.222Z","__permalink":"/react/implement.html","layout":"post","photos":[],"link":"","_id":"cloigihyu001mrmf33gf6hgko","content":"<div id=\"vip-container\"><h3 id=\"jsx\"><a href=\"#jsx\" class=\"headerlink\" title=\"jsx\"></a>jsx</h3><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> element = (</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    hello<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">color:</span> &quot;<span class=\"attr\">red</span>&quot; &#125;&#125;&gt;</span>world<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(element);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/653b2718c458853aef75775a.jpg\" alt=\"jsx \"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>jsx-dev-runtime.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> &#123; jsxDEV &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./jsx/ReactJSXElement&quot;</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactJSXElement.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> hasOwnProperty <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../../shared/hasOwnProperty&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// dom </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span>  &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../../shared/ReactSymbols&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">RESERVED_PROPS</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">key</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">ref</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">__self</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">__source</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">hasValidKey</span>(<span class=\"params\">config</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> config.<span class=\"property\">key</span> !== <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">hasValidRef</span>(<span class=\"params\">config</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> config.<span class=\"property\">ref</span> !== <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ReactElement </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ReactElement</span>(<span class=\"params\">type, key, ref, props, owner</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// React</span></span><br><span class=\"line\">        <span class=\"attr\">$$typeof</span>: <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span>,</span><br><span class=\"line\">        type,</span><br><span class=\"line\">        key,</span><br><span class=\"line\">        ref,</span><br><span class=\"line\">        props,</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">jsxDEV</span>(<span class=\"params\">type, config</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> props = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> key = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> ref = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title function_\">hasValidKey</span>(config)) &#123;</span><br><span class=\"line\">        key = config.<span class=\"property\">key</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title function_\">hasValidRef</span>(config)) &#123;</span><br><span class=\"line\">        ref = config.<span class=\"property\">ref</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> propName <span class=\"keyword\">in</span> config) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hasOwnProperty.<span class=\"title function_\">call</span>(config, propName) &amp;&amp;</span><br><span class=\"line\">        !<span class=\"variable constant_\">RESERVED_PROPS</span>.<span class=\"title function_\">hasOwnProperty</span>(propName)</span><br><span class=\"line\">        ) &#123;</span><br><span class=\"line\">            props[propName] = config[propName];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">ReactElement</span>(type, key, ref, props)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>hasOwnProperty.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; hasOwnProperty &#125; = <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> hasOwnProperty;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactSymbols.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ReactElement </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span> = <span class=\"title class_\">Symbol</span>.<span class=\"title function_\">for</span>(<span class=\"string\">&#x27;react.element&#x27;</span>);</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h3><ul>\n<li>react</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"title function_\">createRoot</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>))</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>fiberdomdomfiber</li>\n<li>fiber &#x2F; </li>\n<li> <code>fiber</code> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>main.jsx</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react-dom/client&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> element = (</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>hello<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">color:</span> &#x27;<span class=\"attr\">red</span>&#x27; &#125;&#125;&gt;</span>world<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"title function_\">createRoot</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(root)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>FiberRootNode</code>DOM <code>div#root</code></p>\n<p><code>fiber</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg\" alt=\"`fiber`\"></p>\n<p><code>FiberRootNode</code>  <code>HostRootFiber</code>  <code>current</code> </p>\n<p><code>HostRootFiber</code>  <code>FiberRootNode</code>  <code>stateNode</code> </p>\n<h4 id=\"createRoot\"><a href=\"#createRoot\" class=\"headerlink\" title=\"createRoot\"></a>createRoot</h4><p><code>div#root</code></p>\n<ol>\n<li><p>client.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> &#123; createRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./src/client/ReactDOMRoot&quot;</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactDOMRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createContainer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react-reconciler/src/ReactFiberReconciler&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ReactDOMRoot</span>(<span class=\"params\">internalRoot</span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">_internalRoot</span> = internalRoot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//  DOM</span></span><br><span class=\"line\"><span class=\"comment\">// container: div#root</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createRoot</span>(<span class=\"params\">container</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 1.    6. #root</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"title function_\">createContainer</span>(container);</span><br><span class=\"line\"><span class=\"comment\">// 7.  ReactDOMRoot</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ReactDOMRoot</span>(root);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberReconciler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createFiberRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberRoot&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">//  containerInfo: </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createContainer</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"title function_\">createFiberRoot</span>(containerInfo);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">FiberRootNode</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 4. DOM</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">containerInfo</span> = containerInfo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberRoot</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 3. </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"keyword\">new</span> <span class=\"title class_\">FiberRootNode</span>(containerInfo);</span><br><span class=\"line\"><span class=\"comment\">//  FiberRoot</span></span><br><span class=\"line\"><span class=\"comment\">// 5. </span></span><br><span class=\"line\"><span class=\"keyword\">return</span> root;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p><code>FiberRootNode</code><code>root</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2e66c458853aef8a195c.jpg\" alt=\"FiberRootNode\"></p>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><p>fiberfiber</p>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><ul>\n<li>reactfiber</li>\n<li> 60Hz, 16.6  JS  JS  16.6ms  React </li>\n<li></li>\n</ul>\n<p><br> requestIdleCallback API react 5ms</p>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><ul>\n<li><p>Fiber </p>\n<p>  Fiber ,React </p>\n<p>  react </p>\n<p>  <img src=\"https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg\" alt=\"react \"></p>\n</li>\n<li><p>Fiber <br>  React , Fiber<br>  <br>  <br>  <br>  <br>  <br>  </p>\n<p>  <br>  <img src=\"https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg\" alt=\"\"></p>\n<p>  <br>  <img src=\"https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><p>DOM<code>fiber</code><code>fiber</code></p>\n<p>DOM<code>Fiber</code>DOM</p>\n<p>DOM &#x3D;&gt; Fiber &#x3D;&gt; DOM</p>\n<p>FiberRootNode<code>HostRootFiber</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg\" alt=\"`fiber`\"></p>\n<ol>\n<li><p>ReactFiberRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createHostRootFiber &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiber&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">FiberRootNode</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">containerInfo</span> = containerInfo;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberRoot</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"keyword\">new</span> <span class=\"title class_\">FiberRootNode</span>(containerInfo);</span><br><span class=\"line\"><span class=\"comment\">// 1. fiber. hostRootdev#root</span></span><br><span class=\"line\"><span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> uninitializedFiber = <span class=\"title function_\">createHostRootFiber</span>();</span><br><span class=\"line\"><span class=\"comment\">// fiber.</span></span><br><span class=\"line\"><span class=\"comment\">// 6. currentfiber</span></span><br><span class=\"line\">root.<span class=\"property\">current</span> = uninitializedFiber;</span><br><span class=\"line\">uninitializedFiber.<span class=\"property\">stateNode</span> = root;</span><br><span class=\"line\"><span class=\"keyword\">return</span> root;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3. </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HostRoot</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactWorkTags&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// 5. </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">NoFlags</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberFlags&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">FiberNode</span>(<span class=\"params\">tag, pendingProps, key</span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">tag</span> = tag;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">key</span> = key;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// fiber, DOMtype   (span h1 p)</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">stateNode</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// fiberDOM</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">return</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">child</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">sibling</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">pendingProps</span> = pendingProps; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">memoizedProps</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// DOMpendingPropsfibermemoizedProps</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// fiberfiber</span></span><br><span class=\"line\"><span class=\"comment\">// fiberHostRoot</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">memoizedState</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">updateQueue</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 5. &quot;./ReactFiberFlags&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">flags</span> = <span class=\"title class_\">NoFlags</span>; <span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">subtreeFlags</span> = <span class=\"title class_\">NoFlags</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">alternate</span> = <span class=\"literal\">null</span>; <span class=\"comment\">//  (fiber) diff</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberNode</span>(<span class=\"params\">tag, pendingProps, key</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">FiberNode</span>(tag, pendingProps, key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createHostRootFiber</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"title function_\">createFiberNode</span>(<span class=\"title class_\">HostRoot</span>, <span class=\"literal\">null</span>, <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactWorkTags.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOMfiber</span></span><br><span class=\"line\"><span class=\"comment\">// FiberTag</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">HostRoot</span> = <span class=\"number\">3</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">HostComponent</span> = <span class=\"number\">5</span>; <span class=\"comment\">//  span div p</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">HostText</span> = <span class=\"number\">6</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberFlags.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">NoFlags</span> = <span class=\"number\">0b000000000000000000000000000000</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">Placement</span> = <span class=\"number\">0b000000000000000000000000000010</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">Update</span> = <span class=\"number\">0b000000000000000000000000000100</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>rootfiber</p>\n</li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653b5beac458853aef1a1a12.jpg\" alt=\"fiber\"></p>\n<pre><code>currentfiber\n</code></pre>\n<p>react alternate </p>\n<p><img src=\"https://pic.imgdb.cn/item/653bc1f2c458853aefb79377.jpg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ReactFiberRoot.jsreturn rootfiber</p>\n<ol>\n<li><p>ReactFiberRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+ <span class=\"keyword\">import</span> &#123; initialUpdateQueue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberClassUpdateQueue&quot;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\">+ <span class=\"title function_\">initialUpdateQueue</span>(uninitializedFiber);</span><br><span class=\"line\"><span class=\"keyword\">return</span> root;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberClassUpdateQueue.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">initialUpdateQueue</span>(<span class=\"params\">fiber</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// pending </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> queue = &#123;</span><br><span class=\"line\">        <span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">pending</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    fiber.<span class=\"property\">updateQueue</span> = queue;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>fiberupdateQueue </p>\n<p><img src=\"https://pic.imgdb.cn/item/653bc2bdc458853aefbd2de4.jpg\" alt=\"updateQueue \"></p>\n<h3 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h3><h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><pre><code>fiber\n</code></pre>\n<p>jsx dom</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> element = (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;A1&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;B1&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;C1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;C2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;B2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>fiber</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> vDom = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;A1&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;props&quot;</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;A1&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;children&quot;</span>: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;B1&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;props&quot;</span>: &#123;</span><br><span class=\"line\">                    <span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;B1&quot;</span>,</span><br><span class=\"line\">                    <span class=\"string\">&quot;children&quot;</span>: [</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;C1&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;props&quot;</span>: &#123; <span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;C1&quot;</span>&#125;,</span><br><span class=\"line\">                        &#125;,</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;C2&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;props&quot;</span>: &#123;<span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;C2&quot;</span>&#125;,</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    ]</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;B2&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;props&quot;</span>: &#123;<span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;B2&quot;</span>&#125;,</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// vDom</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">render</span>(<span class=\"params\">element, container</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// DOMDOM</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> dom = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(element.<span class=\"property\">type</span>);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(element.<span class=\"property\">props</span>).<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> key !== <span class=\"string\">&#x27;children&#x27;</span>).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">        dom[key] = element.<span class=\"property\">props</span>[key];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(element.<span class=\"property\">props</span>.<span class=\"property\">children</span>))&#123;</span><br><span class=\"line\">        element.<span class=\"property\">props</span>.<span class=\"property\">children</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">child</span>=&gt;</span><span class=\"title function_\">render</span>(child,dom));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    container.<span class=\"title function_\">appendChild</span>(dom);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">render</span>(element, <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br></pre></td></tr></table></figure>\n\n<p>fiber</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOMFiber</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">A1</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;A1&#x27;</span> &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">B1</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;B1&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">A1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">B2</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;B2&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">A1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">C1</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;C1&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">B1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">C2</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;C2&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">B1</span> &#125;;</span><br><span class=\"line\"><span class=\"variable constant_\">A1</span>.<span class=\"property\">child</span> = <span class=\"variable constant_\">B1</span>;</span><br><span class=\"line\"><span class=\"variable constant_\">B1</span>.<span class=\"property\">sibling</span> = <span class=\"variable constant_\">B2</span>;</span><br><span class=\"line\"><span class=\"variable constant_\">B1</span>.<span class=\"property\">child</span> = <span class=\"variable constant_\">C1</span>;</span><br><span class=\"line\"><span class=\"variable constant_\">C1</span>.<span class=\"property\">sibling</span> = <span class=\"variable constant_\">C2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> nextUnitOfWork = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">hasRemainingTime</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// render </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">workLoop</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(nextUnitOfWork &amp;&amp; <span class=\"title function_\">hasRemainingTime</span>()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        nextUnitOfWork = <span class=\"title function_\">performUnitOfWork</span>(fiber);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;render &quot;);</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">// </span></span><br><span class=\"line\"><span class=\"string\">function performUnitOfWork(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">    // </span></span><br><span class=\"line\"><span class=\"string\">    let child = beginWork(fiber);</span></span><br><span class=\"line\"><span class=\"string\">    if(child) &#123;</span></span><br><span class=\"line\"><span class=\"string\">        return child;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">    // </span></span><br><span class=\"line\"><span class=\"string\">    while(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">        // fiber </span></span><br><span class=\"line\"><span class=\"string\">        completeUnitOfWork(fiber);</span></span><br><span class=\"line\"><span class=\"string\">        // </span></span><br><span class=\"line\"><span class=\"string\">        if(fiber.sibling) &#123;</span></span><br><span class=\"line\"><span class=\"string\">            return fiber.sibling;</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">        // </span></span><br><span class=\"line\"><span class=\"string\">        fiber = fiber.return;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">function beginWork(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">    console.log(&#x27;</span>beginWork<span class=\"string\">&#x27;, fiber.props.className);</span></span><br><span class=\"line\"><span class=\"string\">    // </span></span><br><span class=\"line\"><span class=\"string\">    return fiber.child;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">function completeUnitOfWork(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">    // fiber</span></span><br><span class=\"line\"><span class=\"string\">    console.log(&#x27;</span>completeUnitOfWork<span class=\"string\">&#x27;, fiber.props.className);</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n\n<p>fiber </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p>main.js </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root.<span class=\"title function_\">render</span>(element)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactDOMRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; updateContainer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../react-reconciler/src/ReactFiberReconciler&#x27;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"title class_\">ReactDomRoot</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">render</span> = <span class=\"keyword\">function</span> (<span class=\"params\">children</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 1. </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"variable language_\">this</span>.<span class=\"property\">_internalRoot</span>;</span><br><span class=\"line\"><span class=\"title function_\">updateContainer</span>(children, root);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberReconciler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createUpdate, enqueueUpdate &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberClassUpdateQueue&#x27;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * , DOMDOM container</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; element DOM</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; container    FiberRootNode</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">updateContainer</span>(<span class=\"params\">element, container</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> current = container.<span class=\"property\">current</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> update = <span class=\"title function_\">createUpdate</span>();</span><br><span class=\"line\">update.<span class=\"property\">payload</span> = &#123;element&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 3. currentFiber</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> root = <span class=\"title function_\">enqueueUpdate</span>(current, update);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(root);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberClassUpdateQueue.js</p>\n</li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653e40f6c458853aefe48306.jpg\" alt=\"ReactFiberClassUpdateQueue.js\"></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; markUpdateLaneFromFiberToRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberConcurrentUpdate&#x27;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">UpdateState</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createUpdate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> update = &#123;<span class=\"attr\">tag</span>: <span class=\"title class_\">UpdateState</span>&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> update;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">enqueueUpdate</span>(<span class=\"params\">fiber, update</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiber ()</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> updateQueue = fiber.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> pending = updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pending === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = pending.<span class=\"property\">next</span>;</span><br><span class=\"line\">        pending.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// update </span></span><br><span class=\"line\">    updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span> = update;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// fiber </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">markUpdateLaneFromFiberToRoot</span>(fiber);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ReactFiberConcurrentUpdate.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HostRoot</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactWorkTags&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; <span class=\"variable\">sourceFiber</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">markUpdateLaneFromFiberToRoot</span>(<span class=\"params\">sourceFiber</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiber</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> parent = sourceFiber.<span class=\"property\">return</span>;</span><br><span class=\"line\">    <span class=\"comment\">// fiber</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = sourceFiber;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  fiber null</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(parent !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        node = parent;</span><br><span class=\"line\">        parent = parent.<span class=\"property\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// root</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(node.<span class=\"property\">tag</span> === <span class=\"title class_\">HostRoot</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> root = node.<span class=\"property\">stateNode</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>fiber</p>\n<ol>\n<li><p>ReactFiberReconciler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; scheduleUpdateOnFiber &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberWorkLoop&#x27;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">updateContainer</span>(<span class=\"params\">element, container</span>) &#123;</span><br><span class=\"line\">...</span><br><span class=\"line\">+ <span class=\"title function_\">scheduleUpdateOnFiber</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberWorkLoop.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; scheduleCallback &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./scheduler&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">scheduleUpdateOnFiber</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">ensureRootIsScheduled</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">ensureRootIsScheduled</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// performConcurrentWorkOnRoot root</span></span><br><span class=\"line\">    <span class=\"title function_\">scheduleCallback</span>(performConcurrentWorkOnRoot.<span class=\"title function_\">bind</span>(<span class=\"literal\">null</span>, root));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">performConcurrentWorkOnRoot</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(root, <span class=\"string\">&#x27;performConcurrentWorkOnRoot&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>src&#x2F;scheduler&#x2F;index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> * <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./src/forks/Scheduler&#x27;</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>src&#x2F;forks&#x2F;Scheduler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">scheduleCallback</span>(<span class=\"params\">callback</span>) &#123;</span><br><span class=\"line\"><span class=\"title function_\">requestIdleCallback</span>(callback);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>FiberRootNode</p>\n</li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653e496bc458853aef00deb1.jpg\" alt=\"FiberRootNode\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/653e4d86c458853aef11c6ea.jpg\" alt=\"\"></p>\n<p>fiberfiber<br>currentfiberfiberfiberfiber<br>fiberfiber</p>\n<h4 id=\"hostRootFiber\"><a href=\"#hostRootFiber\" class=\"headerlink\" title=\"hostRootFiber\"></a>hostRootFiber</h4><ol>\n<li><p>ReactFiberWorkLoop.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; creatWorkInProgress &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiber&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> workInProgress = <span class=\"literal\">null</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ()</span></span><br><span class=\"line\"><span class=\"comment\"> * fiberfiber, dom, </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; <span class=\"variable\">root</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">performConcurrentWorkOnRoot</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 1. ,  ()</span></span><br><span class=\"line\"><span class=\"title function_\">renderRootSync</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">prepareFreshStack</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 5. fiberfiber ()</span></span><br><span class=\"line\">workInProgress = <span class=\"title function_\">creatWorkInProgress</span>(root.<span class=\"property\">current</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">renderRootSync</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 2. </span></span><br><span class=\"line\"><span class=\"title function_\">prepareFreshStack</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * fiberfiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; current fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; pendingProps </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">creatWorkInProgress</span>(<span class=\"params\">current, pendingProps</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 3. fiber  ()</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> workInProgress = current.<span class=\"property\">alternate</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(workInProgress === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        workInProgress = <span class=\"title function_\">createFiberNode</span>(current.<span class=\"property\">tag</span>, pendingProps, current.<span class=\"property\">key</span>);</span><br><span class=\"line\">        workInProgress.<span class=\"property\">type</span> = current.<span class=\"property\">type</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">stateNode</span> = current.<span class=\"property\">stateNode</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        workInProgress.<span class=\"property\">stateNode</span> = current;</span><br><span class=\"line\">        current.<span class=\"property\">alternate</span> =  workInProgress;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">pendingProps</span> = current.<span class=\"property\">pendingProps</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">type</span> = current.<span class=\"property\">type</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">flags</span> = current.<span class=\"property\">flags</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">subtreeFlags</span> = <span class=\"title class_\">NoFlags</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    workInProgress.<span class=\"property\">child</span> = current.<span class=\"property\">child</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">memoizedProps</span> = current.<span class=\"property\">memoizedProps</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">memoizedState</span> = current.<span class=\"property\">memoizedState</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">updateQueue</span> = current.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">sibling</span> = current.<span class=\"property\">sibling</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">index</span> = current.<span class=\"property\">index</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> workInProgress;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>fiberfiber</p>\n<ol>\n<li><p>ReactFiberWorkLoop.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; beginWork &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberBeginWork&quot;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">renderRootSync</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 2. </span></span><br><span class=\"line\">    <span class=\"title function_\">prepareFreshStack</span>(root);</span><br><span class=\"line\">    <span class=\"comment\">// 1.  workInProgress fiber</span></span><br><span class=\"line\">    <span class=\"title function_\">workLoopSync</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">workLoopSync</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(workInProgress !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 2. </span></span><br><span class=\"line\">        <span class=\"title function_\">performUnitOfWork</span>(workInProgress);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">performUnitOfWork</span>(<span class=\"params\">unitOfWork</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> current = unitOfWork.<span class=\"property\">alternate</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> next = <span class=\"title function_\">beginWork</span>(current, unitOfWork);</span><br><span class=\"line\"></span><br><span class=\"line\">    unitOfWork.<span class=\"property\">memoizedProps</span> = unitOfWork.<span class=\"property\">pendingProps</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(next === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// completeUnitOfWork(); //  </span></span><br><span class=\"line\">        workInProgress = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        workInProgress = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberBeginWork.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HostComponent</span>, <span class=\"title class_\">HostRoot</span>, <span class=\"title class_\">HostText</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactWorkTags&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; processUpdateQueue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberClassUpdateQueue&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 5.  `` dom  `` fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; current fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; workInProgress fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span> </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">beginWork</span>(<span class=\"params\">current, workInProgress</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;beginWork&quot;</span>, workInProgress);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">switch</span>(workInProgress.<span class=\"property\">tag</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">HostRoot</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">updateHostRoot</span>(current, workInProgress);</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">HostComponent</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">updateHostComponent</span>(current, workInProgress);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">HostText</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"attr\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">updateHostRoot</span>(<span class=\"params\">current, workInProgress</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// dom, dom</span></span><br><span class=\"line\">    <span class=\"comment\">// fiberdom, </span></span><br><span class=\"line\">    <span class=\"title function_\">processUpdateQueue</span>(workInProgress);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> nextState = workInProgress.<span class=\"property\">memoizedState</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> nextChildren = nextState.<span class=\"property\">element</span>;</span><br><span class=\"line\">    <span class=\"title function_\">reconcileChildren</span>(current, workInProgress, nextChildren);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> workInProgress.<span class=\"property\">child</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">updateHostComponents</span>(<span class=\"params\">current, workInProgress</span>) &#123;&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"dom\"><a href=\"#dom\" class=\"headerlink\" title=\"dom\"></a>dom</h4><p><code>processUpdateQueue</code></p>\n<ol>\n<li>ReactFiberClassUpdateQueue.js<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; markUpdateLaneFromFiberToRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberConcurrentUpdate&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">initialUpdateQueue</span>(<span class=\"params\">fiber</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// pending </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> queue = &#123;</span><br><span class=\"line\">        <span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">pending</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    fiber.<span class=\"property\">updateQueue</span> = queue;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">UpdateState</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createUpdate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> update = &#123;<span class=\"attr\">tag</span>: <span class=\"title class_\">UpdateState</span>&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> update;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">enqueueUpdate</span>(<span class=\"params\">fiber, update</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiber ()</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> updateQueue = fiber.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> pending = updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pending === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = pending.<span class=\"property\">next</span>;</span><br><span class=\"line\">        pending.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// update </span></span><br><span class=\"line\">    updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span> = update;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// fiber </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">markUpdateLaneFromFiberToRoot</span>(fiber);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; workInProgress fiber</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">processUpdateQueue</span>(<span class=\"params\">workInProgress</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> queue = workInProgress.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> pendingQueue = queue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span>;</span><br><span class=\"line\">    <span class=\"comment\">// , </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pendingQueue !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  </span></span><br><span class=\"line\">        queue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">//  </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> lastPendingUpdate = pendingQueue;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> firstPendingUpdate = pendingQueue.<span class=\"property\">next</span>;</span><br><span class=\"line\">        <span class=\"comment\">// , </span></span><br><span class=\"line\">        lastPendingUpdate.<span class=\"property\">next</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">//  (, newState)</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> newState = workInProgress.<span class=\"property\">memoizedState</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> update = firstPendingUpdate;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(update) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            newState = <span class=\"title function_\">getStateFromUpdate</span>(update, newState);</span><br><span class=\"line\">            update = update.<span class=\"property\">next</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//  memoizedState</span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">memoizedState</span> = newState;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * , </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; update </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; prevState </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span> </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getStateFromUpdate</span>(<span class=\"params\">update, prevState</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span>(update.<span class=\"property\">tag</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">UpdateState</span>:</span><br><span class=\"line\">            <span class=\"keyword\">const</span> &#123; payload &#125; = update;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">assign</span>(&#123;&#125;, prevState, payload);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"domfiber\"><a href=\"#domfiber\" class=\"headerlink\" title=\"domfiber\"></a>domfiber</h4><p><code>reconcileChildren</code></p>\n<ol>\n<li><p>ReactFiberBeginWork.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mountChildFibers, reconcileChildFibers &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactChildFiber&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * domfiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; current fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; workInProgress fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; nextChildren dom</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reconcileChildren</span>(<span class=\"params\">current, workInProgress, nextChildren</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiberfiber, </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// fiber</span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">child</span> = <span class=\"title function_\">mountChildFibers</span>(workInProgress, <span class=\"literal\">null</span>, next);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// :  fiber DOM-DIFF   (fiberfiber())</span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">child</span> = <span class=\"title function_\">reconcileChildFibers</span>(</span><br><span class=\"line\">        workInProgress,</span><br><span class=\"line\">        current.<span class=\"property\">child</span>,</span><br><span class=\"line\">        nextChildren</span><br><span class=\"line\">        );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactChildFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createFiberFromElement &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiber&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../../shared/ReactSymbols&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; shouldTrackSideEffect </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createChildReconciler</span>(<span class=\"params\">shouldTrackSideEffect</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reconcileSingElement</span>(<span class=\"params\">returnFiber, currentFirstFiber, element</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// , currentFirstFiber, </span></span><br><span class=\"line\">        <span class=\"comment\">// domfiber</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> created = <span class=\"title function_\">createFiberFromElement</span>(element);</span><br><span class=\"line\">        created.<span class=\"property\">return</span> = returnFiber;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> created;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * fiber  (DOM-DIFF) fiberdom</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; returnFiber fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; currentFirstFiber fiber(fiber)</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; newChild dom</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">reconcileChildFibers</span>(<span class=\"params\">returnFiber, currentFirstFiber, newChild</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> newChild === <span class=\"string\">&#x27;object&#x27;</span> &amp;&amp; newChild !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">switch</span> (newChild.<span class=\"property\">$$typeof</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">case</span> <span class=\"attr\">REACT_ELEMENT_TYPE</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"title function_\">reconcileSingElement</span>(</span><br><span class=\"line\">                        returnFiber,</span><br><span class=\"line\">                        currentFirstFiber,</span><br><span class=\"line\">                        newChild</span><br><span class=\"line\">                    );</span><br><span class=\"line\">                <span class=\"attr\">default</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> reconcileChildFibers;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// fiber </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> reconcileChildFibers = <span class=\"title function_\">createChildReconciler</span>(<span class=\"literal\">true</span>);</span><br><span class=\"line\"><span class=\"comment\">// fiber </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> mountChildFibers = <span class=\"title function_\">createChildReconciler</span>(<span class=\"literal\">false</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberFromElement</span>(<span class=\"params\">element</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> type = element.<span class=\"property\">type</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> key = element.<span class=\"property\">key</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> pendingProps = element.<span class=\"property\">props</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fiber = <span class=\"title function_\">createFiberFromTypeAndProps</span>(</span><br><span class=\"line\">        type,</span><br><span class=\"line\">        key,</span><br><span class=\"line\">        pendingProps</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"keyword\">return</span> fiber;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberFromTypeAndProps</span>(<span class=\"params\">type, key, pendingProps</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> fiberTag = <span class=\"title class_\">IndeterminateComponent</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fiber = <span class=\"title function_\">createFiberNode</span>(fiberTag, pendingProps, key);</span><br><span class=\"line\">    fiber.<span class=\"property\">type</span> = type;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> fiber;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>ReactFiberWorkLoop.js<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">completeUnitOfWork</span>(<span class=\"params\">unitOfWork</span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (next === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    + <span class=\"title function_\">completeUnitOfWork</span>(unitOfWork); <span class=\"comment\">//  </span></span><br><span class=\"line\">        <span class=\"comment\">// workInProgress = null;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        workInProgress = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">completeUnitOfWork</span>(<span class=\"params\">unitOfWork</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> completeWork = unitOfWork;</span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// RootFiber</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = completeWork.<span class=\"property\">alternate</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> returnFiber = completeWork.<span class=\"property\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> next = <span class=\"title function_\">completeWork</span>(current, completeWork);</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(next !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        workInProgress = next;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">const</span> siblingFiber = completeWork.<span class=\"property\">sibling</span>;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(siblingFiber !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        workInProgress = siblingFiber;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        completeWork = returnFiber;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125; <span class=\"keyword\">while</span>(completeWork !== <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/fiber.html","/react/fiber/implement.html","/react/fiber/works.html","/react/synthetic/event.html","/react/fiber/node.html"],"length":4433,"excerpt":"","more":"<h3 id=\"jsx\"><a href=\"#jsx\" class=\"headerlink\" title=\"jsx\"></a>jsx</h3><figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> element = (</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    hello<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">color:</span> &quot;<span class=\"attr\">red</span>&quot; &#125;&#125;&gt;</span>world<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(element);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/653b2718c458853aef75775a.jpg\" alt=\"jsx \"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>jsx-dev-runtime.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> &#123; jsxDEV &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./jsx/ReactJSXElement&quot;</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactJSXElement.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> hasOwnProperty <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../../shared/hasOwnProperty&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// dom </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span>  &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../../shared/ReactSymbols&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">RESERVED_PROPS</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">key</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">ref</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">__self</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">__source</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">hasValidKey</span>(<span class=\"params\">config</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> config.<span class=\"property\">key</span> !== <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">hasValidRef</span>(<span class=\"params\">config</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> config.<span class=\"property\">ref</span> !== <span class=\"literal\">undefined</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ReactElement </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ReactElement</span>(<span class=\"params\">type, key, ref, props, owner</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// React</span></span><br><span class=\"line\">        <span class=\"attr\">$$typeof</span>: <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span>,</span><br><span class=\"line\">        type,</span><br><span class=\"line\">        key,</span><br><span class=\"line\">        ref,</span><br><span class=\"line\">        props,</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">jsxDEV</span>(<span class=\"params\">type, config</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> props = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> key = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> ref = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title function_\">hasValidKey</span>(config)) &#123;</span><br><span class=\"line\">        key = config.<span class=\"property\">key</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title function_\">hasValidRef</span>(config)) &#123;</span><br><span class=\"line\">        ref = config.<span class=\"property\">ref</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> propName <span class=\"keyword\">in</span> config) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(hasOwnProperty.<span class=\"title function_\">call</span>(config, propName) &amp;&amp;</span><br><span class=\"line\">        !<span class=\"variable constant_\">RESERVED_PROPS</span>.<span class=\"title function_\">hasOwnProperty</span>(propName)</span><br><span class=\"line\">        ) &#123;</span><br><span class=\"line\">            props[propName] = config[propName];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">ReactElement</span>(type, key, ref, props)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>hasOwnProperty.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; hasOwnProperty &#125; = <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> hasOwnProperty;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactSymbols.js</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  ReactElement </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span> = <span class=\"title class_\">Symbol</span>.<span class=\"title function_\">for</span>(<span class=\"string\">&#x27;react.element&#x27;</span>);</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h3><ul>\n<li>react</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"title function_\">createRoot</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>))</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>fiberdomdomfiber</li>\n<li>fiber &#x2F; </li>\n<li> <code>fiber</code> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>main.jsx</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react-dom/client&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> element = (</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>hello<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">color:</span> &#x27;<span class=\"attr\">red</span>&#x27; &#125;&#125;&gt;</span>world<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"title function_\">createRoot</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(root)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><code>FiberRootNode</code>DOM <code>div#root</code></p>\n<p><code>fiber</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg\" alt=\"`fiber`\"></p>\n<p><code>FiberRootNode</code>  <code>HostRootFiber</code>  <code>current</code> </p>\n<p><code>HostRootFiber</code>  <code>FiberRootNode</code>  <code>stateNode</code> </p>\n<h4 id=\"createRoot\"><a href=\"#createRoot\" class=\"headerlink\" title=\"createRoot\"></a>createRoot</h4><p><code>div#root</code></p>\n<ol>\n<li><p>client.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> &#123; createRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./src/client/ReactDOMRoot&quot;</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactDOMRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createContainer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react-reconciler/src/ReactFiberReconciler&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ReactDOMRoot</span>(<span class=\"params\">internalRoot</span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">_internalRoot</span> = internalRoot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//  DOM</span></span><br><span class=\"line\"><span class=\"comment\">// container: div#root</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createRoot</span>(<span class=\"params\">container</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 1.    6. #root</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"title function_\">createContainer</span>(container);</span><br><span class=\"line\"><span class=\"comment\">// 7.  ReactDOMRoot</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ReactDOMRoot</span>(root);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberReconciler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createFiberRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberRoot&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">//  containerInfo: </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createContainer</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"title function_\">createFiberRoot</span>(containerInfo);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">FiberRootNode</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 4. DOM</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">containerInfo</span> = containerInfo</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberRoot</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 3. </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"keyword\">new</span> <span class=\"title class_\">FiberRootNode</span>(containerInfo);</span><br><span class=\"line\"><span class=\"comment\">//  FiberRoot</span></span><br><span class=\"line\"><span class=\"comment\">// 5. </span></span><br><span class=\"line\"><span class=\"keyword\">return</span> root;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p><code>FiberRootNode</code><code>root</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2e66c458853aef8a195c.jpg\" alt=\"FiberRootNode\"></p>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><p>fiberfiber</p>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><ul>\n<li>reactfiber</li>\n<li> 60Hz, 16.6  JS  JS  16.6ms  React </li>\n<li></li>\n</ul>\n<p><br> requestIdleCallback API react 5ms</p>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><ul>\n<li><p>Fiber </p>\n<p>  Fiber ,React </p>\n<p>  react </p>\n<p>  <img src=\"https://pic.imgdb.cn/item/653b551cc458853aef02aa5f.jpg\" alt=\"react \"></p>\n</li>\n<li><p>Fiber <br>  React , Fiber<br>  <br>  <br>  <br>  <br>  <br>  </p>\n<p>  <br>  <img src=\"https://pic.imgdb.cn/item/653b55d2c458853aef05059f.jpg\" alt=\"\"></p>\n<p>  <br>  <img src=\"https://pic.imgdb.cn/item/653b55f9c458853aef0589a3.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><p>DOM<code>fiber</code><code>fiber</code></p>\n<p>DOM<code>Fiber</code>DOM</p>\n<p>DOM &#x3D;&gt; Fiber &#x3D;&gt; DOM</p>\n<p>FiberRootNode<code>HostRootFiber</code></p>\n<p><img src=\"https://pic.imgdb.cn/item/653b2a66c458853aef7f6122.jpg\" alt=\"`fiber`\"></p>\n<ol>\n<li><p>ReactFiberRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createHostRootFiber &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiber&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">FiberRootNode</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">containerInfo</span> = containerInfo;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberRoot</span>(<span class=\"params\">containerInfo</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"keyword\">new</span> <span class=\"title class_\">FiberRootNode</span>(containerInfo);</span><br><span class=\"line\"><span class=\"comment\">// 1. fiber. hostRootdev#root</span></span><br><span class=\"line\"><span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> uninitializedFiber = <span class=\"title function_\">createHostRootFiber</span>();</span><br><span class=\"line\"><span class=\"comment\">// fiber.</span></span><br><span class=\"line\"><span class=\"comment\">// 6. currentfiber</span></span><br><span class=\"line\">root.<span class=\"property\">current</span> = uninitializedFiber;</span><br><span class=\"line\">uninitializedFiber.<span class=\"property\">stateNode</span> = root;</span><br><span class=\"line\"><span class=\"keyword\">return</span> root;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 3. </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HostRoot</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactWorkTags&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// 5. </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">NoFlags</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberFlags&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">FiberNode</span>(<span class=\"params\">tag, pendingProps, key</span>) &#123;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">tag</span> = tag;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">key</span> = key;</span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// fiber, DOMtype   (span h1 p)</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">stateNode</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// fiberDOM</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">return</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">child</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">sibling</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">pendingProps</span> = pendingProps; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">memoizedProps</span> = <span class=\"literal\">null</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// DOMpendingPropsfibermemoizedProps</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// fiberfiber</span></span><br><span class=\"line\"><span class=\"comment\">// fiberHostRoot</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">memoizedState</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">updateQueue</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 5. &quot;./ReactFiberFlags&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">flags</span> = <span class=\"title class_\">NoFlags</span>; <span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">subtreeFlags</span> = <span class=\"title class_\">NoFlags</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">alternate</span> = <span class=\"literal\">null</span>; <span class=\"comment\">//  (fiber) diff</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberNode</span>(<span class=\"params\">tag, pendingProps, key</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">FiberNode</span>(tag, pendingProps, key);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createHostRootFiber</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"title function_\">createFiberNode</span>(<span class=\"title class_\">HostRoot</span>, <span class=\"literal\">null</span>, <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactWorkTags.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOMfiber</span></span><br><span class=\"line\"><span class=\"comment\">// FiberTag</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">HostRoot</span> = <span class=\"number\">3</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">HostComponent</span> = <span class=\"number\">5</span>; <span class=\"comment\">//  span div p</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">HostText</span> = <span class=\"number\">6</span>; <span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberFlags.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">NoFlags</span> = <span class=\"number\">0b000000000000000000000000000000</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">Placement</span> = <span class=\"number\">0b000000000000000000000000000010</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">Update</span> = <span class=\"number\">0b000000000000000000000000000100</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>rootfiber</p>\n</li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653b5beac458853aef1a1a12.jpg\" alt=\"fiber\"></p>\n<pre><code>currentfiber\n</code></pre>\n<p>react alternate </p>\n<p><img src=\"https://pic.imgdb.cn/item/653bc1f2c458853aefb79377.jpg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ReactFiberRoot.jsreturn rootfiber</p>\n<ol>\n<li><p>ReactFiberRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+ <span class=\"keyword\">import</span> &#123; initialUpdateQueue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberClassUpdateQueue&quot;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\">+ <span class=\"title function_\">initialUpdateQueue</span>(uninitializedFiber);</span><br><span class=\"line\"><span class=\"keyword\">return</span> root;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberClassUpdateQueue.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">initialUpdateQueue</span>(<span class=\"params\">fiber</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// pending </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> queue = &#123;</span><br><span class=\"line\">        <span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">pending</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    fiber.<span class=\"property\">updateQueue</span> = queue;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>fiberupdateQueue </p>\n<p><img src=\"https://pic.imgdb.cn/item/653bc2bdc458853aefbd2de4.jpg\" alt=\"updateQueue \"></p>\n<h3 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h3><h4 id=\"fiber\"><a href=\"#fiber\" class=\"headerlink\" title=\"fiber\"></a>fiber</h4><pre><code>fiber\n</code></pre>\n<p>jsx dom</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> element = (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;A1&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;B1&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;C1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;C2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;B2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>fiber</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> vDom = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;A1&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;props&quot;</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;A1&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;children&quot;</span>: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;B1&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;props&quot;</span>: &#123;</span><br><span class=\"line\">                    <span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;B1&quot;</span>,</span><br><span class=\"line\">                    <span class=\"string\">&quot;children&quot;</span>: [</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;C1&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;props&quot;</span>: &#123; <span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;C1&quot;</span>&#125;,</span><br><span class=\"line\">                        &#125;,</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;C2&quot;</span>,</span><br><span class=\"line\">                            <span class=\"string\">&quot;props&quot;</span>: &#123;<span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;C2&quot;</span>&#125;,</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    ]</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"string\">&quot;type&quot;</span>: <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;key&quot;</span>: <span class=\"string\">&quot;B2&quot;</span>,</span><br><span class=\"line\">                <span class=\"string\">&quot;props&quot;</span>: &#123;<span class=\"string\">&quot;className&quot;</span>: <span class=\"string\">&quot;B2&quot;</span>&#125;,</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// vDom</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">render</span>(<span class=\"params\">element, container</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// DOMDOM</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> dom = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(element.<span class=\"property\">type</span>);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(element.<span class=\"property\">props</span>).<span class=\"title function_\">filter</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> key !== <span class=\"string\">&#x27;children&#x27;</span>).<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">key</span> =&gt;</span> &#123;</span><br><span class=\"line\">        dom[key] = element.<span class=\"property\">props</span>[key];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(element.<span class=\"property\">props</span>.<span class=\"property\">children</span>))&#123;</span><br><span class=\"line\">        element.<span class=\"property\">props</span>.<span class=\"property\">children</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">child</span>=&gt;</span><span class=\"title function_\">render</span>(child,dom));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    container.<span class=\"title function_\">appendChild</span>(dom);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">render</span>(element, <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br></pre></td></tr></table></figure>\n\n<p>fiber</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// DOMFiber</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">A1</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;A1&#x27;</span> &#125; &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">B1</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;B1&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">A1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">B2</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;B2&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">A1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">C1</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;C1&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">B1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"variable constant_\">C2</span> = &#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;div&#x27;</span>, <span class=\"attr\">props</span>: &#123; <span class=\"attr\">className</span>: <span class=\"string\">&#x27;C2&#x27;</span> &#125;, <span class=\"attr\">return</span>: <span class=\"variable constant_\">B1</span> &#125;;</span><br><span class=\"line\"><span class=\"variable constant_\">A1</span>.<span class=\"property\">child</span> = <span class=\"variable constant_\">B1</span>;</span><br><span class=\"line\"><span class=\"variable constant_\">B1</span>.<span class=\"property\">sibling</span> = <span class=\"variable constant_\">B2</span>;</span><br><span class=\"line\"><span class=\"variable constant_\">B1</span>.<span class=\"property\">child</span> = <span class=\"variable constant_\">C1</span>;</span><br><span class=\"line\"><span class=\"variable constant_\">C1</span>.<span class=\"property\">sibling</span> = <span class=\"variable constant_\">C2</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> nextUnitOfWork = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">hasRemainingTime</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// render </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">workLoop</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(nextUnitOfWork &amp;&amp; <span class=\"title function_\">hasRemainingTime</span>()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        nextUnitOfWork = <span class=\"title function_\">performUnitOfWork</span>(fiber);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;render &quot;);</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">// </span></span><br><span class=\"line\"><span class=\"string\">function performUnitOfWork(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">    // </span></span><br><span class=\"line\"><span class=\"string\">    let child = beginWork(fiber);</span></span><br><span class=\"line\"><span class=\"string\">    if(child) &#123;</span></span><br><span class=\"line\"><span class=\"string\">        return child;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">    // </span></span><br><span class=\"line\"><span class=\"string\">    while(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">        // fiber </span></span><br><span class=\"line\"><span class=\"string\">        completeUnitOfWork(fiber);</span></span><br><span class=\"line\"><span class=\"string\">        // </span></span><br><span class=\"line\"><span class=\"string\">        if(fiber.sibling) &#123;</span></span><br><span class=\"line\"><span class=\"string\">            return fiber.sibling;</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">        // </span></span><br><span class=\"line\"><span class=\"string\">        fiber = fiber.return;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">function beginWork(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">    console.log(&#x27;</span>beginWork<span class=\"string\">&#x27;, fiber.props.className);</span></span><br><span class=\"line\"><span class=\"string\">    // </span></span><br><span class=\"line\"><span class=\"string\">    return fiber.child;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">function completeUnitOfWork(fiber) &#123;</span></span><br><span class=\"line\"><span class=\"string\">    // fiber</span></span><br><span class=\"line\"><span class=\"string\">    console.log(&#x27;</span>completeUnitOfWork<span class=\"string\">&#x27;, fiber.props.className);</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br></pre></td></tr></table></figure>\n\n<p>fiber </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p>main.js </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root.<span class=\"title function_\">render</span>(element)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactDOMRoot.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; updateContainer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../react-reconciler/src/ReactFiberReconciler&#x27;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"title class_\">ReactDomRoot</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">render</span> = <span class=\"keyword\">function</span> (<span class=\"params\">children</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 1. </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> root = <span class=\"variable language_\">this</span>.<span class=\"property\">_internalRoot</span>;</span><br><span class=\"line\"><span class=\"title function_\">updateContainer</span>(children, root);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberReconciler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createUpdate, enqueueUpdate &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberClassUpdateQueue&#x27;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * , DOMDOM container</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; element DOM</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; container    FiberRootNode</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">updateContainer</span>(<span class=\"params\">element, container</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// fiber</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> current = container.<span class=\"property\">current</span>;</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> update = <span class=\"title function_\">createUpdate</span>();</span><br><span class=\"line\">update.<span class=\"property\">payload</span> = &#123;element&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 3. currentFiber</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> root = <span class=\"title function_\">enqueueUpdate</span>(current, update);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(root);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberClassUpdateQueue.js</p>\n</li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653e40f6c458853aefe48306.jpg\" alt=\"ReactFiberClassUpdateQueue.js\"></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; markUpdateLaneFromFiberToRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberConcurrentUpdate&#x27;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">UpdateState</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createUpdate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> update = &#123;<span class=\"attr\">tag</span>: <span class=\"title class_\">UpdateState</span>&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> update;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">enqueueUpdate</span>(<span class=\"params\">fiber, update</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiber ()</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> updateQueue = fiber.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> pending = updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pending === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = pending.<span class=\"property\">next</span>;</span><br><span class=\"line\">        pending.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// update </span></span><br><span class=\"line\">    updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span> = update;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// fiber </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">markUpdateLaneFromFiberToRoot</span>(fiber);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ReactFiberConcurrentUpdate.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HostRoot</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactWorkTags&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; <span class=\"variable\">sourceFiber</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">markUpdateLaneFromFiberToRoot</span>(<span class=\"params\">sourceFiber</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiber</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> parent = sourceFiber.<span class=\"property\">return</span>;</span><br><span class=\"line\">    <span class=\"comment\">// fiber</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = sourceFiber;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  fiber null</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(parent !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        node = parent;</span><br><span class=\"line\">        parent = parent.<span class=\"property\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// root</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(node.<span class=\"property\">tag</span> === <span class=\"title class_\">HostRoot</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> root = node.<span class=\"property\">stateNode</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>fiber</p>\n<ol>\n<li><p>ReactFiberReconciler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; scheduleUpdateOnFiber &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberWorkLoop&#x27;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">updateContainer</span>(<span class=\"params\">element, container</span>) &#123;</span><br><span class=\"line\">...</span><br><span class=\"line\">+ <span class=\"title function_\">scheduleUpdateOnFiber</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberWorkLoop.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; scheduleCallback &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./scheduler&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">scheduleUpdateOnFiber</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">ensureRootIsScheduled</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">ensureRootIsScheduled</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// performConcurrentWorkOnRoot root</span></span><br><span class=\"line\">    <span class=\"title function_\">scheduleCallback</span>(performConcurrentWorkOnRoot.<span class=\"title function_\">bind</span>(<span class=\"literal\">null</span>, root));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">performConcurrentWorkOnRoot</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(root, <span class=\"string\">&#x27;performConcurrentWorkOnRoot&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>src&#x2F;scheduler&#x2F;index.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> * <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./src/forks/Scheduler&#x27;</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>src&#x2F;forks&#x2F;Scheduler.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">scheduleCallback</span>(<span class=\"params\">callback</span>) &#123;</span><br><span class=\"line\"><span class=\"title function_\">requestIdleCallback</span>(callback);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>FiberRootNode</p>\n</li>\n</ol>\n<p><img src=\"https://pic.imgdb.cn/item/653e496bc458853aef00deb1.jpg\" alt=\"FiberRootNode\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"https://pic.imgdb.cn/item/653e4d86c458853aef11c6ea.jpg\" alt=\"\"></p>\n<p>fiberfiber<br>currentfiberfiberfiberfiber<br>fiberfiber</p>\n<h4 id=\"hostRootFiber\"><a href=\"#hostRootFiber\" class=\"headerlink\" title=\"hostRootFiber\"></a>hostRootFiber</h4><ol>\n<li><p>ReactFiberWorkLoop.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; creatWorkInProgress &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiber&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> workInProgress = <span class=\"literal\">null</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//...</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ()</span></span><br><span class=\"line\"><span class=\"comment\"> * fiberfiber, dom, </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; <span class=\"variable\">root</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">performConcurrentWorkOnRoot</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 1. ,  ()</span></span><br><span class=\"line\"><span class=\"title function_\">renderRootSync</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">prepareFreshStack</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 5. fiberfiber ()</span></span><br><span class=\"line\">workInProgress = <span class=\"title function_\">creatWorkInProgress</span>(root.<span class=\"property\">current</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">renderRootSync</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// 2. </span></span><br><span class=\"line\"><span class=\"title function_\">prepareFreshStack</span>(root);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * fiberfiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; current fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; pendingProps </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">creatWorkInProgress</span>(<span class=\"params\">current, pendingProps</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 3. fiber  ()</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> workInProgress = current.<span class=\"property\">alternate</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(workInProgress === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        workInProgress = <span class=\"title function_\">createFiberNode</span>(current.<span class=\"property\">tag</span>, pendingProps, current.<span class=\"property\">key</span>);</span><br><span class=\"line\">        workInProgress.<span class=\"property\">type</span> = current.<span class=\"property\">type</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">stateNode</span> = current.<span class=\"property\">stateNode</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        workInProgress.<span class=\"property\">stateNode</span> = current;</span><br><span class=\"line\">        current.<span class=\"property\">alternate</span> =  workInProgress;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">pendingProps</span> = current.<span class=\"property\">pendingProps</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">type</span> = current.<span class=\"property\">type</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">flags</span> = current.<span class=\"property\">flags</span>;</span><br><span class=\"line\">        workInProgress.<span class=\"property\">subtreeFlags</span> = <span class=\"title class_\">NoFlags</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    workInProgress.<span class=\"property\">child</span> = current.<span class=\"property\">child</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">memoizedProps</span> = current.<span class=\"property\">memoizedProps</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">memoizedState</span> = current.<span class=\"property\">memoizedState</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">updateQueue</span> = current.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">sibling</span> = current.<span class=\"property\">sibling</span>;</span><br><span class=\"line\">    workInProgress.<span class=\"property\">index</span> = current.<span class=\"property\">index</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> workInProgress;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>fiberfiber</p>\n<ol>\n<li><p>ReactFiberWorkLoop.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; beginWork &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactFiberBeginWork&quot;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">renderRootSync</span>(<span class=\"params\">root</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 2. </span></span><br><span class=\"line\">    <span class=\"title function_\">prepareFreshStack</span>(root);</span><br><span class=\"line\">    <span class=\"comment\">// 1.  workInProgress fiber</span></span><br><span class=\"line\">    <span class=\"title function_\">workLoopSync</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">workLoopSync</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(workInProgress !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 2. </span></span><br><span class=\"line\">        <span class=\"title function_\">performUnitOfWork</span>(workInProgress);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">performUnitOfWork</span>(<span class=\"params\">unitOfWork</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> current = unitOfWork.<span class=\"property\">alternate</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> next = <span class=\"title function_\">beginWork</span>(current, unitOfWork);</span><br><span class=\"line\"></span><br><span class=\"line\">    unitOfWork.<span class=\"property\">memoizedProps</span> = unitOfWork.<span class=\"property\">pendingProps</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(next === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"comment\">// completeUnitOfWork(); //  </span></span><br><span class=\"line\">        workInProgress = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        workInProgress = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiberBeginWork.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">HostComponent</span>, <span class=\"title class_\">HostRoot</span>, <span class=\"title class_\">HostText</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactWorkTags&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; processUpdateQueue &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberClassUpdateQueue&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 5.  `` dom  `` fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; current fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; workInProgress fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span> </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">beginWork</span>(<span class=\"params\">current, workInProgress</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;beginWork&quot;</span>, workInProgress);</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">switch</span>(workInProgress.<span class=\"property\">tag</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">HostRoot</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">updateHostRoot</span>(current, workInProgress);</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">HostComponent</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">updateHostComponent</span>(current, workInProgress);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">HostText</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"attr\">default</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">updateHostRoot</span>(<span class=\"params\">current, workInProgress</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// dom, dom</span></span><br><span class=\"line\">    <span class=\"comment\">// fiberdom, </span></span><br><span class=\"line\">    <span class=\"title function_\">processUpdateQueue</span>(workInProgress);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> nextState = workInProgress.<span class=\"property\">memoizedState</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> nextChildren = nextState.<span class=\"property\">element</span>;</span><br><span class=\"line\">    <span class=\"title function_\">reconcileChildren</span>(current, workInProgress, nextChildren);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> workInProgress.<span class=\"property\">child</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">updateHostComponents</span>(<span class=\"params\">current, workInProgress</span>) &#123;&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"dom\"><a href=\"#dom\" class=\"headerlink\" title=\"dom\"></a>dom</h4><p><code>processUpdateQueue</code></p>\n<ol>\n<li>ReactFiberClassUpdateQueue.js<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; markUpdateLaneFromFiberToRoot &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiberConcurrentUpdate&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">initialUpdateQueue</span>(<span class=\"params\">fiber</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// pending </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> queue = &#123;</span><br><span class=\"line\">        <span class=\"attr\">shared</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">pending</span>: <span class=\"literal\">null</span>,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    fiber.<span class=\"property\">updateQueue</span> = queue;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">UpdateState</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createUpdate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> update = &#123;<span class=\"attr\">tag</span>: <span class=\"title class_\">UpdateState</span>&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> update;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">enqueueUpdate</span>(<span class=\"params\">fiber, update</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiber ()</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> updateQueue = fiber.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> pending = updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pending === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        update.<span class=\"property\">next</span> = pending.<span class=\"property\">next</span>;</span><br><span class=\"line\">        pending.<span class=\"property\">next</span> = update;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// update </span></span><br><span class=\"line\">    updateQueue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span> = update;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// fiber </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">markUpdateLaneFromFiberToRoot</span>(fiber);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; workInProgress fiber</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">processUpdateQueue</span>(<span class=\"params\">workInProgress</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> queue = workInProgress.<span class=\"property\">updateQueue</span>;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> pendingQueue = queue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span>;</span><br><span class=\"line\">    <span class=\"comment\">// , </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(pendingQueue !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//  </span></span><br><span class=\"line\">        queue.<span class=\"property\">shared</span>.<span class=\"property\">pending</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">//  </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> lastPendingUpdate = pendingQueue;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> firstPendingUpdate = pendingQueue.<span class=\"property\">next</span>;</span><br><span class=\"line\">        <span class=\"comment\">// , </span></span><br><span class=\"line\">        lastPendingUpdate.<span class=\"property\">next</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"comment\">//  (, newState)</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> newState = workInProgress.<span class=\"property\">memoizedState</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> update = firstPendingUpdate;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(update) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// </span></span><br><span class=\"line\">            newState = <span class=\"title function_\">getStateFromUpdate</span>(update, newState);</span><br><span class=\"line\">            update = update.<span class=\"property\">next</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//  memoizedState</span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">memoizedState</span> = newState;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * , </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; update </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; prevState </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span> </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getStateFromUpdate</span>(<span class=\"params\">update, prevState</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span>(update.<span class=\"property\">tag</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"title class_\">UpdateState</span>:</span><br><span class=\"line\">            <span class=\"keyword\">const</span> &#123; payload &#125; = update;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"title function_\">assign</span>(&#123;&#125;, prevState, payload);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"domfiber\"><a href=\"#domfiber\" class=\"headerlink\" title=\"domfiber\"></a>domfiber</h4><p><code>reconcileChildren</code></p>\n<ol>\n<li><p>ReactFiberBeginWork.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mountChildFibers, reconcileChildFibers &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./ReactChildFiber&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * domfiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; current fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; workInProgress fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; nextChildren dom</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reconcileChildren</span>(<span class=\"params\">current, workInProgress, nextChildren</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// fiberfiber, </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (current === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// fiber</span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">child</span> = <span class=\"title function_\">mountChildFibers</span>(workInProgress, <span class=\"literal\">null</span>, next);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// :  fiber DOM-DIFF   (fiberfiber())</span></span><br><span class=\"line\">        workInProgress.<span class=\"property\">child</span> = <span class=\"title function_\">reconcileChildFibers</span>(</span><br><span class=\"line\">        workInProgress,</span><br><span class=\"line\">        current.<span class=\"property\">child</span>,</span><br><span class=\"line\">        nextChildren</span><br><span class=\"line\">        );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactChildFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createFiberFromElement &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./ReactFiber&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">REACT_ELEMENT_TYPE</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../../shared/ReactSymbols&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; shouldTrackSideEffect </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createChildReconciler</span>(<span class=\"params\">shouldTrackSideEffect</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reconcileSingElement</span>(<span class=\"params\">returnFiber, currentFirstFiber, element</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// , currentFirstFiber, </span></span><br><span class=\"line\">        <span class=\"comment\">// domfiber</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> created = <span class=\"title function_\">createFiberFromElement</span>(element);</span><br><span class=\"line\">        created.<span class=\"property\">return</span> = returnFiber;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> created;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * fiber  (DOM-DIFF) fiberdom</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; returnFiber fiber</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; currentFirstFiber fiber(fiber)</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">*</span>&#125; newChild dom</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">reconcileChildFibers</span>(<span class=\"params\">returnFiber, currentFirstFiber, newChild</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> newChild === <span class=\"string\">&#x27;object&#x27;</span> &amp;&amp; newChild !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">switch</span> (newChild.<span class=\"property\">$$typeof</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">case</span> <span class=\"attr\">REACT_ELEMENT_TYPE</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"title function_\">reconcileSingElement</span>(</span><br><span class=\"line\">                        returnFiber,</span><br><span class=\"line\">                        currentFirstFiber,</span><br><span class=\"line\">                        newChild</span><br><span class=\"line\">                    );</span><br><span class=\"line\">                <span class=\"attr\">default</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> reconcileChildFibers;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// fiber </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> reconcileChildFibers = <span class=\"title function_\">createChildReconciler</span>(<span class=\"literal\">true</span>);</span><br><span class=\"line\"><span class=\"comment\">// fiber </span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> mountChildFibers = <span class=\"title function_\">createChildReconciler</span>(<span class=\"literal\">false</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ReactFiber.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberFromElement</span>(<span class=\"params\">element</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> type = element.<span class=\"property\">type</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> key = element.<span class=\"property\">key</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> pendingProps = element.<span class=\"property\">props</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fiber = <span class=\"title function_\">createFiberFromTypeAndProps</span>(</span><br><span class=\"line\">        type,</span><br><span class=\"line\">        key,</span><br><span class=\"line\">        pendingProps</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"keyword\">return</span> fiber;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createFiberFromTypeAndProps</span>(<span class=\"params\">type, key, pendingProps</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> fiberTag = <span class=\"title class_\">IndeterminateComponent</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fiber = <span class=\"title function_\">createFiberNode</span>(fiberTag, pendingProps, key);</span><br><span class=\"line\">    fiber.<span class=\"property\">type</span> = type;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> fiber;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>ReactFiberWorkLoop.js<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">completeUnitOfWork</span>(<span class=\"params\">unitOfWork</span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (next === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    + <span class=\"title function_\">completeUnitOfWork</span>(unitOfWork); <span class=\"comment\">//  </span></span><br><span class=\"line\">        <span class=\"comment\">// workInProgress = null;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        workInProgress = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">completeUnitOfWork</span>(<span class=\"params\">unitOfWork</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> completeWork = unitOfWork;</span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// RootFiber</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> current = completeWork.<span class=\"property\">alternate</span>;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> returnFiber = completeWork.<span class=\"property\">return</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> next = <span class=\"title function_\">completeWork</span>(current, completeWork);</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(next !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        workInProgress = next;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">const</span> siblingFiber = completeWork.<span class=\"property\">sibling</span>;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(siblingFiber !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        workInProgress = siblingFiber;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        completeWork = returnFiber;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125; <span class=\"keyword\">while</span>(completeWork !== <span class=\"literal\">null</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n"},{"title":"type ","date":"2023-10-22T10:12:30.000Z","description":"   (  ).","comments":1,"_content":"\n#### type \n\n :    (  )\n\n##### 1. \n\n** :** `type  = `\n\n** :**\n\n```typescript\n  type St = string // \n\n  let str1:St = 'abc'\n  let str2:string = 'abc'\n\n```\n\n##### 2.\n\n** :** `type  =  | 1 | 2`\n\n** :**\n\n```typescript\n  type NewType = string | number // \n\n  let a: NewType = 1\n  let b: NewType = '1'\n\n```\n\n##### 3.\n\n**** `type <T> = <T> | 1<T> | 2<T>`\n\n**** :\n\n```typescript\n\ttype NewType<T> = {\n    name: T\n  }\n  let a : NewType<number> = { name: 0 }\n  let b : NewType<string> = { name: '0' }\n```\n\n\n\n##### 4.()\n\n****`type  =  & 1 & 2`\n\n****\n\n```typescript\n  type User = {\n      name: string;\n      age?: number;\n  }\n\n  type Job = {\n      jobs: string;\n  }\n\n  type UserInfo = User & Job;\n\n```","source":"_posts/typeScript/useType.md","raw":"---\ntitle: type \npermalink: /typescript/use/type.html\ndate: 2023-10-22 18:12:30\ndescription:    (  ).\ntag: [, TypeScript]\ncomments: true\ncategories: \n - \n - TypeScript\n---\n\n#### type \n\n :    (  )\n\n##### 1. \n\n** :** `type  = `\n\n** :**\n\n```typescript\n  type St = string // \n\n  let str1:St = 'abc'\n  let str2:string = 'abc'\n\n```\n\n##### 2.\n\n** :** `type  =  | 1 | 2`\n\n** :**\n\n```typescript\n  type NewType = string | number // \n\n  let a: NewType = 1\n  let b: NewType = '1'\n\n```\n\n##### 3.\n\n**** `type <T> = <T> | 1<T> | 2<T>`\n\n**** :\n\n```typescript\n\ttype NewType<T> = {\n    name: T\n  }\n  let a : NewType<number> = { name: 0 }\n  let b : NewType<string> = { name: '0' }\n```\n\n\n\n##### 4.()\n\n****`type  =  & 1 & 2`\n\n****\n\n```typescript\n  type User = {\n      name: string;\n      age?: number;\n  }\n\n  type Job = {\n      jobs: string;\n  }\n\n  type UserInfo = User & Job;\n\n```","slug":"typeScript/useType","published":1,"updated":"2023-10-23T02:28:19.371Z","__permalink":"/typescript/use/type.html","layout":"post","photos":[],"link":"","_id":"cloigihyv001rrmf3bwf9fo6c","content":"<div id=\"vip-container\"><h4 id=\"type-\"><a href=\"#type-\" class=\"headerlink\" title=\"type \"></a>type </h4><p> :    (  )</p>\n<h5 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h5><p><strong> :</strong> <code>type  = </code></p>\n<p><strong> :</strong></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">St</span> = <span class=\"built_in\">string</span> <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">str1</span>:<span class=\"title class_\">St</span> = <span class=\"string\">&#x27;abc&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">str2</span>:<span class=\"built_in\">string</span> = <span class=\"string\">&#x27;abc&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2.\"></a>2.</h5><p><strong> :</strong> <code>type  =  | 1 | 2</code></p>\n<p><strong> :</strong></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">NewType</span> = <span class=\"built_in\">string</span> | <span class=\"built_in\">number</span> <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">a</span>: <span class=\"title class_\">NewType</span> = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">b</span>: <span class=\"title class_\">NewType</span> = <span class=\"string\">&#x27;1&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3.\"></a>3.</h5><p><strong></strong> <code>type &lt;T&gt; = &lt;T&gt; | 1&lt;T&gt; | 2&lt;T&gt;</code></p>\n<p><strong></strong> :</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">NewType</span>&lt;T&gt; = &#123;</span><br><span class=\"line\">   <span class=\"attr\">name</span>: T</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> a : <span class=\"title class_\">NewType</span>&lt;<span class=\"built_in\">number</span>&gt; = &#123; <span class=\"attr\">name</span>: <span class=\"number\">0</span> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> b : <span class=\"title class_\">NewType</span>&lt;<span class=\"built_in\">string</span>&gt; = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;0&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h5 id=\"4--\"><a href=\"#4--\" class=\"headerlink\" title=\"4.()\"></a>4.()</h5><p><strong></strong><code>type  =  &amp; 1 &amp; 2</code></p>\n<p><strong></strong></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">User</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">    age?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">Job</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">jobs</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">UserInfo</span> = <span class=\"title class_\">User</span> &amp; <span class=\"title class_\">Job</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":181,"excerpt":"","more":"<h4 id=\"type-\"><a href=\"#type-\" class=\"headerlink\" title=\"type \"></a>type </h4><p> :    (  )</p>\n<h5 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h5><p><strong> :</strong> <code>type  = </code></p>\n<p><strong> :</strong></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">St</span> = <span class=\"built_in\">string</span> <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">str1</span>:<span class=\"title class_\">St</span> = <span class=\"string\">&#x27;abc&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">str2</span>:<span class=\"built_in\">string</span> = <span class=\"string\">&#x27;abc&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2.\"></a>2.</h5><p><strong> :</strong> <code>type  =  | 1 | 2</code></p>\n<p><strong> :</strong></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">NewType</span> = <span class=\"built_in\">string</span> | <span class=\"built_in\">number</span> <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">a</span>: <span class=\"title class_\">NewType</span> = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"attr\">b</span>: <span class=\"title class_\">NewType</span> = <span class=\"string\">&#x27;1&#x27;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3.\"></a>3.</h5><p><strong></strong> <code>type &lt;T&gt; = &lt;T&gt; | 1&lt;T&gt; | 2&lt;T&gt;</code></p>\n<p><strong></strong> :</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">NewType</span>&lt;T&gt; = &#123;</span><br><span class=\"line\">   <span class=\"attr\">name</span>: T</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> a : <span class=\"title class_\">NewType</span>&lt;<span class=\"built_in\">number</span>&gt; = &#123; <span class=\"attr\">name</span>: <span class=\"number\">0</span> &#125;</span><br><span class=\"line\"> <span class=\"keyword\">let</span> b : <span class=\"title class_\">NewType</span>&lt;<span class=\"built_in\">string</span>&gt; = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;0&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h5 id=\"4--\"><a href=\"#4--\" class=\"headerlink\" title=\"4.()\"></a>4.()</h5><p><strong></strong><code>type  =  &amp; 1 &amp; 2</code></p>\n<p><strong></strong></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">User</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">    age?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">Job</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">jobs</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> <span class=\"title class_\">UserInfo</span> = <span class=\"title class_\">User</span> &amp; <span class=\"title class_\">Job</span>;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"title":" CSRF ","date":"2023-10-21T13:11:16.000Z","description":" cookie  Samesite cookie Samesite  cookie  Cookie cookie GET ","comments":1,"_content":"\n##### \nCSRFCross-Site Request Forgeries \n\nCSRF  cookie \n##### \n CSRF \n- GET  CSRF img \n- POST  CSRF \n-  CSRF  a href \n\n#####  CSRF \nCSRF \n\n http origin refererorigin  referer  referer Referer\n\n CSRF Token Tokentoken token cookietoken\n\nsession token  token \n\n Cookie  Cookie cookie URL cookie cookie cookie CSRF Token  XSS \n\n cookie  Samesite cookie Samesite  cookie  Cookie cookie GET ","source":"_posts/web/CrossSiteRequestForgeries.md","raw":"---\ntitle:  CSRF \npermalink: /web/cross/site/request/forgeries.html\ndate: 2023-10-21 21:11:16\ndescription:  cookie  Samesite cookie Samesite  cookie  Cookie cookie GET \n\ntag: [, , , CSRF]\ncomments: true\ncategories: \n - \n - \n---\n\n##### \nCSRFCross-Site Request Forgeries \n\nCSRF  cookie \n##### \n CSRF \n- GET  CSRF img \n- POST  CSRF \n-  CSRF  a href \n\n#####  CSRF \nCSRF \n\n http origin refererorigin  referer  referer Referer\n\n CSRF Token Tokentoken token cookietoken\n\nsession token  token \n\n Cookie  Cookie cookie URL cookie cookie cookie CSRF Token  XSS \n\n cookie  Samesite cookie Samesite  cookie  Cookie cookie GET ","slug":"web/CrossSiteRequestForgeries","published":1,"updated":"2023-10-23T01:55:15.629Z","__permalink":"/web/cross/site/request/forgeries.html","layout":"post","photos":[],"link":"","_id":"cloigihyz001urmf3845ccjyb","content":"<div id=\"vip-container\"><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>CSRFCross-Site Request Forgeries </p>\n<p>CSRF  cookie </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> CSRF </p>\n<ul>\n<li>GET  CSRF img </li>\n<li>POST  CSRF </li>\n<li> CSRF  a href </li>\n</ul>\n<h5 id=\"-CSRF-\"><a href=\"#-CSRF-\" class=\"headerlink\" title=\" CSRF \"></a> CSRF </h5><p>CSRF </p>\n<p> http origin refererorigin  referer  referer Referer</p>\n<p> CSRF Token Tokentoken token cookietoken</p>\n<p>session token  token </p>\n<p> Cookie  Cookie cookie URL cookie cookie cookie CSRF Token  XSS </p>\n<p> cookie  Samesite cookie Samesite  cookie  Cookie cookie GET </p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/browser/session/cookies.html","/web/cross/site/script.html","/web/security/question.html"],"length":992,"excerpt":"","more":"<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>CSRFCross-Site Request Forgeries </p>\n<p>CSRF  cookie </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> CSRF </p>\n<ul>\n<li>GET  CSRF img </li>\n<li>POST  CSRF </li>\n<li> CSRF  a href </li>\n</ul>\n<h5 id=\"-CSRF-\"><a href=\"#-CSRF-\" class=\"headerlink\" title=\" CSRF \"></a> CSRF </h5><p>CSRF </p>\n<p> http origin refererorigin  referer  referer Referer</p>\n<p> CSRF Token Tokentoken token cookietoken</p>\n<p>session token  token </p>\n<p> Cookie  Cookie cookie URL cookie cookie cookie CSRF Token  XSS </p>\n<p> cookie  Samesite cookie Samesite  cookie  Cookie cookie GET </p>\n"},{"title":" XSS ","date":"2023-10-21T13:10:16.000Z","description":"XSS ","comments":1,"_content":"\n##### \n\nXSS  cookie \n\nXSS \n\n\n1.  DOMcookielocalStorage\n2. DOS \n3. \n4. \n\n##### \n\nXSS  DOM \n- \n- URL  XSS XSS \n- DOM  DOM XSS\n\n######  XSS \n\n 1. \n 2.  HTML \n 3. \n 4. \n\n\n######  XSS \n\n1.  URL\n2.  URL URL HTML \n3. \n4. \n\n    XSS  XSS XSS  XSS URL \n\n    XSS  URL   URL \n\n###### DOM  XSS \n\n1.  URL\n2.  URL\n3. JavaScript URL\n4. \n\n   **DOM  XSS  XSS **DOM XSS JavaScript  XSS \n\n#####  XSS \n\n XSS \n\nHTML  DOM \n\n CSP CSP \n\n1. CSP \n\n2.  CSPHTTP Content-Security-Policymeta <metahttp-equiv=\"Content-Security-Policy\">\n cookie http-only","source":"_posts/web/CrossSiteScript.md","raw":"---\ntitle:  XSS \npermalink: /web/cross/site/script.html\ndate: 2023-10-21 21:10:16\ndescription: XSS \ntag: [, , , XSS]\ncomments: true\ncategories: \n - \n - \n---\n\n##### \n\nXSS  cookie \n\nXSS \n\n\n1.  DOMcookielocalStorage\n2. DOS \n3. \n4. \n\n##### \n\nXSS  DOM \n- \n- URL  XSS XSS \n- DOM  DOM XSS\n\n######  XSS \n\n 1. \n 2.  HTML \n 3. \n 4. \n\n\n######  XSS \n\n1.  URL\n2.  URL URL HTML \n3. \n4. \n\n    XSS  XSS XSS  XSS URL \n\n    XSS  URL   URL \n\n###### DOM  XSS \n\n1.  URL\n2.  URL\n3. JavaScript URL\n4. \n\n   **DOM  XSS  XSS **DOM XSS JavaScript  XSS \n\n#####  XSS \n\n XSS \n\nHTML  DOM \n\n CSP CSP \n\n1. CSP \n\n2.  CSPHTTP Content-Security-Policymeta <metahttp-equiv=\"Content-Security-Policy\">\n cookie http-only","slug":"web/CrossSiteScript","published":1,"updated":"2023-10-23T01:55:15.631Z","__permalink":"/web/cross/site/script.html","layout":"post","photos":[],"link":"","_id":"cloigihz1001yrmf37c9ybvtv","content":"<div id=\"vip-container\"><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>XSS  cookie </p>\n<p>XSS </p>\n<p></p>\n<ol>\n<li> DOMcookielocalStorage</li>\n<li>DOS </li>\n<li></li>\n<li></li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>XSS  DOM </p>\n<ul>\n<li></li>\n<li>URL  XSS XSS </li>\n<li>DOM  DOM XSS</li>\n</ul>\n<h6 id=\"-XSS-\"><a href=\"#-XSS-\" class=\"headerlink\" title=\" XSS \"></a> XSS </h6><ol>\n<li></li>\n<li> HTML </li>\n<li></li>\n<li><br></li>\n</ol>\n<h6 id=\"-XSS-\"><a href=\"#-XSS-\" class=\"headerlink\" title=\" XSS \"></a> XSS </h6><ol>\n<li><p> URL</p>\n</li>\n<li><p> URL URL HTML </p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<p> XSS  XSS XSS  XSS URL </p>\n<p> XSS  URL   URL </p>\n</li>\n</ol>\n<h6 id=\"DOM--XSS-\"><a href=\"#DOM--XSS-\" class=\"headerlink\" title=\"DOM  XSS \"></a>DOM  XSS </h6><ol>\n<li><p> URL</p>\n</li>\n<li><p> URL</p>\n</li>\n<li><p>JavaScript URL</p>\n</li>\n<li><p></p>\n<p><strong>DOM  XSS  XSS </strong>DOM XSS JavaScript  XSS </p>\n</li>\n</ol>\n<h5 id=\"-XSS-\"><a href=\"#-XSS-\" class=\"headerlink\" title=\" XSS \"></a> XSS </h5><p> XSS </p>\n<p>HTML  DOM </p>\n<p> CSP CSP </p>\n<ol>\n<li><p>CSP </p>\n</li>\n<li><p> CSPHTTP Content-Security-Policymeta &lt;metahttp-equiv&#x3D;Content-Security-Policy&gt;<br> cookie http-only</p>\n</li>\n</ol>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/browser/session/cookies.html","/web/cross/site/request/forgeries.html"],"length":1276,"excerpt":"","more":"<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>XSS  cookie </p>\n<p>XSS </p>\n<p></p>\n<ol>\n<li> DOMcookielocalStorage</li>\n<li>DOS </li>\n<li></li>\n<li></li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>XSS  DOM </p>\n<ul>\n<li></li>\n<li>URL  XSS XSS </li>\n<li>DOM  DOM XSS</li>\n</ul>\n<h6 id=\"-XSS-\"><a href=\"#-XSS-\" class=\"headerlink\" title=\" XSS \"></a> XSS </h6><ol>\n<li></li>\n<li> HTML </li>\n<li></li>\n<li><br></li>\n</ol>\n<h6 id=\"-XSS-\"><a href=\"#-XSS-\" class=\"headerlink\" title=\" XSS \"></a> XSS </h6><ol>\n<li><p> URL</p>\n</li>\n<li><p> URL URL HTML </p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<p> XSS  XSS XSS  XSS URL </p>\n<p> XSS  URL   URL </p>\n</li>\n</ol>\n<h6 id=\"DOM--XSS-\"><a href=\"#DOM--XSS-\" class=\"headerlink\" title=\"DOM  XSS \"></a>DOM  XSS </h6><ol>\n<li><p> URL</p>\n</li>\n<li><p> URL</p>\n</li>\n<li><p>JavaScript URL</p>\n</li>\n<li><p></p>\n<p><strong>DOM  XSS  XSS </strong>DOM XSS JavaScript  XSS </p>\n</li>\n</ol>\n<h5 id=\"-XSS-\"><a href=\"#-XSS-\" class=\"headerlink\" title=\" XSS \"></a> XSS </h5><p> XSS </p>\n<p>HTML  DOM </p>\n<p> CSP CSP </p>\n<ol>\n<li><p>CSP </p>\n</li>\n<li><p> CSPHTTP Content-Security-Policymeta &lt;metahttp-equiv&#x3D;Content-Security-Policy&gt;<br> cookie http-only</p>\n</li>\n</ol>\n"},{"title":"?","date":"2023-10-21T13:09:16.000Z","description":", CSS  XSS, , ,  JavaScript / CSS / Flash ","comments":1,"_content":"\n##### [ (Cross-Site Scripting, XSS)](https://blog.csdn.net/qq_35490191/article/details/132212266)\n\n, CSS  XSS, , ,  JavaScript / CSS / Flash \n\n##### iframe \niframe  iframe JavaScirpt Flash\n\n##### [Cross-Site Request ForgeriesCSRF](https://blog.csdn.net/qq_35490191/article/details/132220538)\n\n\n\n##### \n\n","source":"_posts/web/WebSecurityQuestion.md","raw":"---\ntitle: ?\npermalink: /web/security/question.html\ndate: 2023-10-21 21:09:16\ndescription: , CSS  XSS, , ,  JavaScript / CSS / Flash \ntag: [, , ]\ncomments: true\ncategories: \n - \n - \n---\n\n##### [ (Cross-Site Scripting, XSS)](https://blog.csdn.net/qq_35490191/article/details/132212266)\n\n, CSS  XSS, , ,  JavaScript / CSS / Flash \n\n##### iframe \niframe  iframe JavaScirpt Flash\n\n##### [Cross-Site Request ForgeriesCSRF](https://blog.csdn.net/qq_35490191/article/details/132220538)\n\n\n\n##### \n\n","slug":"web/WebSecurityQuestion","published":1,"updated":"2023-10-23T01:55:15.631Z","__permalink":"/web/security/question.html","layout":"post","photos":[],"link":"","_id":"cloigihz70020rmf3dafk51zj","content":"<div id=\"vip-container\"><h5 id=\"-Cross-Site-Scripting-XSS\"><a href=\"#-Cross-Site-Scripting-XSS\" class=\"headerlink\" title=\" (Cross-Site Scripting, XSS)\"></a><a href=\"https://blog.csdn.net/qq_35490191/article/details/132212266\"> (Cross-Site Scripting, XSS)</a></h5><p>, CSS  XSS, , ,  JavaScript &#x2F; CSS &#x2F; Flash </p>\n<h5 id=\"iframe-\"><a href=\"#iframe-\" class=\"headerlink\" title=\"iframe \"></a>iframe </h5><p>iframe  iframe JavaScirpt Flash</p>\n<h5 id=\"Cross-Site-Request-ForgeriesCSRF\"><a href=\"#Cross-Site-Request-ForgeriesCSRF\" class=\"headerlink\" title=\"Cross-Site Request ForgeriesCSRF\"></a><a href=\"https://blog.csdn.net/qq_35490191/article/details/132220538\">Cross-Site Request ForgeriesCSRF</a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/browser/render/process.html","/web/cross/site/request/forgeries.html","/linux/install/docker.html"],"length":271,"excerpt":"","more":"<h5 id=\"-Cross-Site-Scripting-XSS\"><a href=\"#-Cross-Site-Scripting-XSS\" class=\"headerlink\" title=\" (Cross-Site Scripting, XSS)\"></a><a href=\"https://blog.csdn.net/qq_35490191/article/details/132212266\"> (Cross-Site Scripting, XSS)</a></h5><p>, CSS  XSS, , ,  JavaScript &#x2F; CSS &#x2F; Flash </p>\n<h5 id=\"iframe-\"><a href=\"#iframe-\" class=\"headerlink\" title=\"iframe \"></a>iframe </h5><p>iframe  iframe JavaScirpt Flash</p>\n<h5 id=\"Cross-Site-Request-ForgeriesCSRF\"><a href=\"#Cross-Site-Request-ForgeriesCSRF\" class=\"headerlink\" title=\"Cross-Site Request ForgeriesCSRF\"></a><a href=\"https://blog.csdn.net/qq_35490191/article/details/132220538\">Cross-Site Request ForgeriesCSRF</a></h5><p></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n"},{"title":"?","date":"2023-10-21T12:52:25.000Z","description":"","comments":1,"_content":"\n##### \n 1. \n CSS \n\n 2. \n CDN \n\n\n 3.  base64 \n\n 4. \n\n 5. \n\t-  WebP  WebP  WebP\n    \n\t-  PNG SVG \n\n\t-  JPEG\n\n##### \n\n 1. BMP BMP \n\n 2. GIF LZW \n GIF GIF \n GIF  8bit  GIF \n\n\n 3. JPEGJPEG JPEG  GIF JPEG  Logo GIF\n\n 4. PNG-8PNG PNG-8  GIF  PNG-8  GIFPNG-8PNG-8  GIF GIF PNG-8\n\n 5. PNG-24PNG-24 PNG-24  BMP PNG24  JPEGGIFPNG-8\n\n 6. SVG SVG  SVG  SVG  SVG  LogoIcon \n\n 7. WebPWebP  Web  Web WebP  Chrome  Opera WebP \n\n WebP  PNG 26%\n WebP  JPEG  25%~34%\n\nWebP  WebP  22%\n","source":"_posts/web/imagePerform.md","raw":"---\ntitle: ?\npermalink: /web/image/perform.html\ndate: 2023-10-21 20:52:25\ndescription: \ntag: [, , , Webpack, ]\ncomments: true\ncategories: \n - \n - \n---\n\n##### \n 1. \n CSS \n\n 2. \n CDN \n\n\n 3.  base64 \n\n 4. \n\n 5. \n\t-  WebP  WebP  WebP\n    \n\t-  PNG SVG \n\n\t-  JPEG\n\n##### \n\n 1. BMP BMP \n\n 2. GIF LZW \n GIF GIF \n GIF  8bit  GIF \n\n\n 3. JPEGJPEG JPEG  GIF JPEG  Logo GIF\n\n 4. PNG-8PNG PNG-8  GIF  PNG-8  GIFPNG-8PNG-8  GIF GIF PNG-8\n\n 5. PNG-24PNG-24 PNG-24  BMP PNG24  JPEGGIFPNG-8\n\n 6. SVG SVG  SVG  SVG  SVG  LogoIcon \n\n 7. WebPWebP  Web  Web WebP  Chrome  Opera WebP \n\n WebP  PNG 26%\n WebP  JPEG  25%~34%\n\nWebP  WebP  22%\n","slug":"web/imagePerform","published":1,"updated":"2023-10-23T01:55:15.631Z","__permalink":"/web/image/perform.html","layout":"post","photos":[],"link":"","_id":"cloigihz90024rmf374g5e0yj","content":"<div id=\"vip-container\"><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p><br> CSS </p>\n</li>\n<li><p><br> CDN <br></p>\n</li>\n<li><p> base64 </p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<ul>\n<li><p> WebP  WebP  WebP</p>\n</li>\n<li><p> PNG SVG </p>\n</li>\n<li><p> JPEG</p>\n</li>\n</ul>\n</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p>BMP BMP </p>\n</li>\n<li><p>GIF LZW <br> GIF GIF <br> GIF  8bit  GIF <br></p>\n</li>\n<li><p>JPEGJPEG JPEG  GIF JPEG  Logo GIF</p>\n</li>\n<li><p>PNG-8PNG PNG-8  GIF  PNG-8  GIFPNG-8PNG-8  GIF GIF PNG-8</p>\n</li>\n<li><p>PNG-24PNG-24 PNG-24  BMP PNG24  JPEGGIFPNG-8</p>\n</li>\n<li><p>SVG SVG  SVG  SVG  SVG  LogoIcon </p>\n</li>\n<li><p>WebPWebP  Web  Web WebP  Chrome  Opera WebP </p>\n</li>\n</ol>\n<p> WebP  PNG 26%<br> WebP  JPEG  25%~34%</p>\n<p>WebP  WebP  22%</p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":1075,"excerpt":"","more":"<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p><br> CSS </p>\n</li>\n<li><p><br> CDN <br></p>\n</li>\n<li><p> base64 </p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n<ul>\n<li><p> WebP  WebP  WebP</p>\n</li>\n<li><p> PNG SVG </p>\n</li>\n<li><p> JPEG</p>\n</li>\n</ul>\n</li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p>BMP BMP </p>\n</li>\n<li><p>GIF LZW <br> GIF GIF <br> GIF  8bit  GIF <br></p>\n</li>\n<li><p>JPEGJPEG JPEG  GIF JPEG  Logo GIF</p>\n</li>\n<li><p>PNG-8PNG PNG-8  GIF  PNG-8  GIFPNG-8PNG-8  GIF GIF PNG-8</p>\n</li>\n<li><p>PNG-24PNG-24 PNG-24  BMP PNG24  JPEGGIFPNG-8</p>\n</li>\n<li><p>SVG SVG  SVG  SVG  SVG  LogoIcon </p>\n</li>\n<li><p>WebPWebP  Web  Web WebP  Chrome  Opera WebP </p>\n</li>\n</ol>\n<p> WebP  PNG 26%<br> WebP  JPEG  25%~34%</p>\n<p>WebP  WebP  22%</p>\n"},{"title":"?","date":"2023-10-21T13:05:16.000Z","description":"","comments":1,"_content":"\n\n##### \n\n\n\n\n##### \n\n- \n- : \n- \n\n#####  \n\n src  src  HTML5 data-xxx  data-xxx src\n\n****data-xxx  xxx data-src\n\n\n\n JavaScript \n\n****\n\nwindow.innerHeight \n\ndocument.body.scrollTop\n\ndocument.documentElement.scrollTop \n\nimgs.offsetTop \n\n  img.offsetTop < window.innerHeight+document.body.scrollTop;\n\n![](https://pic.imgdb.cn/item/6533ccf1c458853aef92497a.png)\n\n\n\n```html\n<div class='container'>\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n</div>\n\n<script>\n    var imgs = document.querySelectorAll('img');\n    function lazyLoad() {\n        var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n        var winHeight = window.innerHeight;\n        for(let i = 0; i < imgs.lenght; i++) {\n            if(imgs[i].offsetTop < scrollTop + winHeight) {\n                imgs[i].src = imgs[i].getAttribute('data-src');\n            }\n        }\n    }\n    window.onsrcoll = lazyLoad();\n</script>\n```\n","source":"_posts/web/lazyLoad.md","raw":"---\ntitle: ?\npermalink: /web/lazy/loading.html\ndate: 2023-10-21 21:05:16\ndescription: \ntag: [, , ]\ncomments: true\ncategories: \n - \n - \n---\n\n\n##### \n\n\n\n\n##### \n\n- \n- : \n- \n\n#####  \n\n src  src  HTML5 data-xxx  data-xxx src\n\n****data-xxx  xxx data-src\n\n\n\n JavaScript \n\n****\n\nwindow.innerHeight \n\ndocument.body.scrollTop\n\ndocument.documentElement.scrollTop \n\nimgs.offsetTop \n\n  img.offsetTop < window.innerHeight+document.body.scrollTop;\n\n![](https://pic.imgdb.cn/item/6533ccf1c458853aef92497a.png)\n\n\n\n```html\n<div class='container'>\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n    <img src='loading.gif' data-src='pic.png' />\n</div>\n\n<script>\n    var imgs = document.querySelectorAll('img');\n    function lazyLoad() {\n        var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n        var winHeight = window.innerHeight;\n        for(let i = 0; i < imgs.lenght; i++) {\n            if(imgs[i].offsetTop < scrollTop + winHeight) {\n                imgs[i].src = imgs[i].getAttribute('data-src');\n            }\n        }\n    }\n    window.onsrcoll = lazyLoad();\n</script>\n```\n","slug":"web/lazyLoad","published":1,"updated":"2023-10-23T01:55:15.632Z","__permalink":"/web/lazy/loading.html","layout":"post","photos":[],"link":"","_id":"cloigihza0026rmf37yjk16jk","content":"<div id=\"vip-container\"><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li>: </li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> src  src  HTML5 data-xxx  data-xxx src</p>\n<p><strong></strong>data-xxx  xxx data-src</p>\n<p></p>\n<p> JavaScript </p>\n<p><strong></strong></p>\n<p>window.innerHeight </p>\n<p>document.body.scrollTop</p>\n<p>document.documentElement.scrollTop </p>\n<p>imgs.offsetTop </p>\n<p>  img.offsetTop &lt; window.innerHeight+document.body.scrollTop;</p>\n<p><img src=\"https://pic.imgdb.cn/item/6533ccf1c458853aef92497a.png\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;container&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> imgs = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;img&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">lazyLoad</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> winHeight = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; imgs.<span class=\"property\">lenght</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(imgs[i].<span class=\"property\">offsetTop</span> &lt; scrollTop + winHeight) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                imgs[i].<span class=\"property\">src</span> = imgs[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">window</span>.<span class=\"property\">onsrcoll</span> = <span class=\"title function_\">lazyLoad</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":692,"excerpt":"","more":"<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li></li>\n<li>: </li>\n<li></li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p> src  src  HTML5 data-xxx  data-xxx src</p>\n<p><strong></strong>data-xxx  xxx data-src</p>\n<p></p>\n<p> JavaScript </p>\n<p><strong></strong></p>\n<p>window.innerHeight </p>\n<p>document.body.scrollTop</p>\n<p>document.documentElement.scrollTop </p>\n<p>imgs.offsetTop </p>\n<p>  img.offsetTop &lt; window.innerHeight+document.body.scrollTop;</p>\n<p><img src=\"https://pic.imgdb.cn/item/6533ccf1c458853aef92497a.png\" alt=\"\"></p>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;container&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;loading.gif&#x27;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&#x27;pic.png&#x27;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> imgs = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;img&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">lazyLoad</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> scrollTop = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> winHeight = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; imgs.<span class=\"property\">lenght</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(imgs[i].<span class=\"property\">offsetTop</span> &lt; scrollTop + winHeight) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                imgs[i].<span class=\"property\">src</span> = imgs[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">window</span>.<span class=\"property\">onsrcoll</span> = <span class=\"title function_\">lazyLoad</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"","date":"2023-10-21T13:00:16.000Z","description":"","comments":1,"_content":"\n#### \n n  n \n\n\n\n\n scroll \n\n\n\n- \n-  lodash.debounce\n\n\n\n- \n- resize\n- \n\n#### \n\n##### \n```javascript\nfunction debounce(fn, wait) {\n    let timer = null;\n    return function() {\n        console.log(123);\n        let context = this, args = [...arguments];\n        // \n        if(timer) {\n            clearTimeout(timer);\n            timer = null;\n        }\n        timer = setTimeout(() => {\n            fn.apply(context, args);\n        }, wait);\n    }\n}\n```\n\n##### \n```javascript\n// \nfunction throttle(fn, delay) {\n    var preTime = Date.now();\n\n    return function() {\n        var context = this,\n        args = [...arguments],\n        nowTime = Date.now();\n\n        // \n        if(nowTime - preTime >= delay) {\n            preTime = Date.now();\n            return fn.apply(context, args);\n        }\n    };\n}\n\n// \nfunction throttle(fu, wait) {\n    let timer = null;\n    return function(){\n        let context = this,\n        args = [...arguments];\n        if(!timer) {\n            timer = setTimeout(() => {\n                fu.apply(context, args);\n                clearTimeout(timer);\n            }, wait);\n        }\n    }\n}\n```\n","source":"_posts/web/lodashDebounce.md","raw":"---\ntitle: \npermalink: /web/lodash/dubounce.html\ndate: 2023-10-21 21:00:16\ndescription: \ntag: [, , ]\ncomments: true\ncategories: \n - \n - \n---\n\n#### \n n  n \n\n\n\n\n scroll \n\n\n\n- \n-  lodash.debounce\n\n\n\n- \n- resize\n- \n\n#### \n\n##### \n```javascript\nfunction debounce(fn, wait) {\n    let timer = null;\n    return function() {\n        console.log(123);\n        let context = this, args = [...arguments];\n        // \n        if(timer) {\n            clearTimeout(timer);\n            timer = null;\n        }\n        timer = setTimeout(() => {\n            fn.apply(context, args);\n        }, wait);\n    }\n}\n```\n\n##### \n```javascript\n// \nfunction throttle(fn, delay) {\n    var preTime = Date.now();\n\n    return function() {\n        var context = this,\n        args = [...arguments],\n        nowTime = Date.now();\n\n        // \n        if(nowTime - preTime >= delay) {\n            preTime = Date.now();\n            return fn.apply(context, args);\n        }\n    };\n}\n\n// \nfunction throttle(fu, wait) {\n    let timer = null;\n    return function(){\n        let context = this,\n        args = [...arguments];\n        if(!timer) {\n            timer = setTimeout(() => {\n                fu.apply(context, args);\n                clearTimeout(timer);\n            }, wait);\n        }\n    }\n}\n```\n","slug":"web/lodashDebounce","published":1,"updated":"2023-10-23T01:55:15.632Z","__permalink":"/web/lodash/dubounce.html","layout":"post","photos":[],"link":"","_id":"cloigihzc002armf35cev8hbb","content":"<div id=\"vip-container\"><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> n  n <br><br><br><br><br> scroll <br></p>\n<p></p>\n<ul>\n<li></li>\n<li> lodash.debounce</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>resize</li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">fn, wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">123</span>);</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>, args = [...<span class=\"variable language_\">arguments</span>];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(timer) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">            timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            fn.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">        &#125;, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">fn, delay</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> preTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>,</span><br><span class=\"line\">        args = [...<span class=\"variable language_\">arguments</span>],</span><br><span class=\"line\">        nowTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nowTime - preTime &gt;= delay) &#123;</span><br><span class=\"line\">            preTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            <span class=\"keyword\">return</span> fn.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">fu, wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>,</span><br><span class=\"line\">        args = [...<span class=\"variable language_\">arguments</span>];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!timer) &#123;</span><br><span class=\"line\">            timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                fu.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">                <span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":487,"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> n  n <br><br><br><br><br> scroll <br></p>\n<p></p>\n<ul>\n<li></li>\n<li> lodash.debounce</li>\n</ul>\n<p></p>\n<ul>\n<li></li>\n<li>resize</li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">fn, wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">123</span>);</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>, args = [...<span class=\"variable language_\">arguments</span>];</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(timer) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">            timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            fn.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">        &#125;, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">fn, delay</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> preTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>,</span><br><span class=\"line\">        args = [...<span class=\"variable language_\">arguments</span>],</span><br><span class=\"line\">        nowTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(nowTime - preTime &gt;= delay) &#123;</span><br><span class=\"line\">            preTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">            <span class=\"keyword\">return</span> fn.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">fu, wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>,</span><br><span class=\"line\">        args = [...<span class=\"variable language_\">arguments</span>];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!timer) &#123;</span><br><span class=\"line\">            timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                fu.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">                <span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"","date":"2023-10-21T13:05:16.000Z","description":"","comments":1,"_content":"\n##### \n\n\n\n - \n - \n - \n - \n - \n -  CSS \n - \n -  DOM \n \n DOM \n\n\n\n##### \n\n\n\ncolorbackground background-colorbackground-image\noutline      outline-color outline-widthtext-decoration\nborder-radiusvisibilitybox-shadow\n\n \n\n##### \n\n\n DOM  DOM  table  table \n\n CSS \n\n\n\n absolute  fixed\n\n DOMdocumentFragment DOM \n\n display: nonedisplay  none  DOM  DOM \n\n\n\n","source":"_posts/web/refluxAndRedrawing.md","raw":"---\ntitle: \npermalink: /web/reflux/and/redrawing.html\ndate: 2023-10-21 21:05:16\ndescription: \ntag: [, , ]\ncomments: true\ncategories: \n - \n - \n---\n\n##### \n\n\n\n - \n - \n - \n - \n - \n -  CSS \n - \n -  DOM \n \n DOM \n\n\n\n##### \n\n\n\ncolorbackground background-colorbackground-image\noutline      outline-color outline-widthtext-decoration\nborder-radiusvisibilitybox-shadow\n\n \n\n##### \n\n\n DOM  DOM  table  table \n\n CSS \n\n\n\n absolute  fixed\n\n DOMdocumentFragment DOM \n\n display: nonedisplay  none  DOM  DOM \n\n\n\n","slug":"web/refluxAndRedrawing","published":1,"updated":"2023-10-23T01:55:15.633Z","__permalink":"/web/reflux/and/redrawing.html","layout":"post","photos":[],"link":"","_id":"cloigihzm002drmf35ybxhpki","content":"<div id=\"vip-container\"><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li> CSS </li>\n<li></li>\n<li> DOM </li>\n</ul>\n<p> DOM <br><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p><br>colorbackground background-colorbackground-image<br>outline      outline-color outline-widthtext-decoration<br>border-radiusvisibilitybox-shadow</p>\n<p> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p> DOM  DOM  table  table </p>\n<p> CSS </p>\n<p></p>\n<p> absolute  fixed</p>\n<p> DOMdocumentFragment DOM </p>\n<p> display: nonedisplay  none  DOM  DOM </p>\n<p></p>\n<p></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":792,"excerpt":"","more":"<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><br></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li> CSS </li>\n<li></li>\n<li> DOM </li>\n</ul>\n<p> DOM <br><br></p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p><br>colorbackground background-colorbackground-image<br>outline      outline-color outline-widthtext-decoration<br>border-radiusvisibilitybox-shadow</p>\n<p> </p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p></p>\n<p> DOM  DOM  table  table </p>\n<p> CSS </p>\n<p></p>\n<p> absolute  fixed</p>\n<p> DOMdocumentFragment DOM </p>\n<p> display: nonedisplay  none  DOM  DOM </p>\n<p></p>\n<p></p>\n"},{"title":"webpack ?","date":"2023-10-21T12:52:25.000Z","description":"webpack  webpack ","comments":1,"_content":"\n##### webpack \nwebpack  webpack \n- webpack UglifyJsPlugin  ParallelUglifyPlugin JS  cssnano css-loader?minimize css\n- CDN :  CDN webpack  output  loader publicPath \n- Tree Shaking:  webpack  --optimize-minimize \n- Code Splitting: (chunk),,\n- : SplitChunksPlugin , \n\n##### webpack \n1.  CommonsChunkPlugin \n2.  externals \n3.  DllPlugin  DllReferencePlugin  DllPlugin  npm DllReferencePlugin \n4.  Happypack \n5.  webpack-uglify-parallel  uglifyPlugin  webpack-uglify-parallel \n6.  Tree-shaking  Scope Hoisting ","source":"_posts/web/webpackPerform.md","raw":"---\ntitle: webpack ?\npermalink: /web/webpack/perform.html\ndate: 2023-10-21 20:52:25\ndescription: webpack  webpack \ntag: [, , , Webpack, ]\ncomments: true\ncategories: \n - \n - \n---\n\n##### webpack \nwebpack  webpack \n- webpack UglifyJsPlugin  ParallelUglifyPlugin JS  cssnano css-loader?minimize css\n- CDN :  CDN webpack  output  loader publicPath \n- Tree Shaking:  webpack  --optimize-minimize \n- Code Splitting: (chunk),,\n- : SplitChunksPlugin , \n\n##### webpack \n1.  CommonsChunkPlugin \n2.  externals \n3.  DllPlugin  DllReferencePlugin  DllPlugin  npm DllReferencePlugin \n4.  Happypack \n5.  webpack-uglify-parallel  uglifyPlugin  webpack-uglify-parallel \n6.  Tree-shaking  Scope Hoisting ","slug":"web/webpackPerform","published":1,"updated":"2023-10-23T01:55:15.634Z","__permalink":"/web/webpack/perform.html","layout":"post","photos":[],"link":"","_id":"cloigihzn002hrmf3d86x8der","content":"<div id=\"vip-container\"><h5 id=\"webpack-\"><a href=\"#webpack-\" class=\"headerlink\" title=\"webpack \"></a>webpack </h5><p>webpack  webpack </p>\n<ul>\n<li>webpack UglifyJsPlugin  ParallelUglifyPlugin JS  cssnano css-loader?minimize css</li>\n<li>CDN :  CDN webpack  output  loader publicPath </li>\n<li>Tree Shaking:  webpack  optimize-minimize </li>\n<li>Code Splitting: (chunk),,</li>\n<li>: SplitChunksPlugin , </li>\n</ul>\n<h5 id=\"webpack-\"><a href=\"#webpack-\" class=\"headerlink\" title=\"webpack \"></a>webpack </h5><ol>\n<li> CommonsChunkPlugin </li>\n<li> externals </li>\n<li> DllPlugin  DllReferencePlugin  DllPlugin  npm DllReferencePlugin </li>\n<li> Happypack </li>\n<li> webpack-uglify-parallel  uglifyPlugin  webpack-uglify-parallel </li>\n<li> Tree-shaking  Scope Hoisting </li>\n</ol>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/web/webpack/hot/module/replacement.html"],"length":399,"excerpt":"","more":"<h5 id=\"webpack-\"><a href=\"#webpack-\" class=\"headerlink\" title=\"webpack \"></a>webpack </h5><p>webpack  webpack </p>\n<ul>\n<li>webpack UglifyJsPlugin  ParallelUglifyPlugin JS  cssnano css-loader?minimize css</li>\n<li>CDN :  CDN webpack  output  loader publicPath </li>\n<li>Tree Shaking:  webpack  optimize-minimize </li>\n<li>Code Splitting: (chunk),,</li>\n<li>: SplitChunksPlugin , </li>\n</ul>\n<h5 id=\"webpack-\"><a href=\"#webpack-\" class=\"headerlink\" title=\"webpack \"></a>webpack </h5><ol>\n<li> CommonsChunkPlugin </li>\n<li> externals </li>\n<li> DllPlugin  DllReferencePlugin  DllPlugin  npm DllReferencePlugin </li>\n<li> Happypack </li>\n<li> webpack-uglify-parallel  uglifyPlugin  webpack-uglify-parallel </li>\n<li> Tree-shaking  Scope Hoisting </li>\n</ol>\n"},{"title":"nrm  npm registry","date":"2023-10-25T07:25:17.000Z","description":"nrm -- NPM registry manager","comments":1,"_content":"\n#### Install\n\n`npm install -g nrm`\n\n#### nrm ls\n\n```shell\n  nrm ls\n\n  npm ---------- https://registry.npmjs.org/\n  yarn --------- https://registry.yarnpkg.com/\n  tencent ------ https://mirrors.cloud.tencent.com/npm/\n  cnpm --------- https://r.cnpmjs.org/\n  taobao ------- https://registry.npmmirror.com/\n  npmMirror ---- https://skimdb.npmjs.com/registry/\n```\n\n#### nrm use\n\n```shell\n    nrm use taobao\n    Registry has been set to: https://registry.npmmirror.com/\n\n```\n\n#### Usage\n\n```shell\nUsage: nrm [options] [command]\n\nOptions:\n  -V, --version                           output the version number\n  -h, --help                              output usage information\n\nCommands:\n  ls                                      List all the registries\n  current [options]                       Show current registry name or URL\n  use <registry>                          Change registry to registry\n  add <registry> <url> [home]             Add one custom registry\n  login [options] <registryName> [value]  Set authorize information for a custom registry with a base64 encoded string or username and pasword\n  set-hosted-repo <registry> <value>      Set hosted npm repository for a custom registry to publish packages\n  set-scope <scopeName> <value>           Associating a scope with a registry\n  del-scope <scopeName>                   Remove a scope\n  set [options] <registryName>            Set custom registry attribute\n  rename <registryName> <newName>         Set custom registry name\n  del <registry>                          Delete one custom registry\n  home <registry> [browser]               Open the homepage of registry with optional browser\n  publish [options] [<tarball>|<folder>]  Publish package to current registry if current registry is a custom registry.\n   if you're not using custom registry, this command will run npm publish directly\n  test [registry]                         Show response time for specific or all registries\n  help                                    Print this help \n   if you want to clear the NRM configuration when uninstall you can execute \"npm uninstall nrm -g -C or npm uninstall nrm -g --clean\"\n```","source":"_posts/web/npm/nrm.md","raw":"---\ntitle: nrm  npm registry\npermalink: /web/npm/nrm.html\ndate: 2023-10-25 15:25:17\ndescription: nrm -- NPM registry manager\n\ntag: [, npm, nrm]\ncomments: true\ncategories: \n - \n - npm\n---\n\n#### Install\n\n`npm install -g nrm`\n\n#### nrm ls\n\n```shell\n  nrm ls\n\n  npm ---------- https://registry.npmjs.org/\n  yarn --------- https://registry.yarnpkg.com/\n  tencent ------ https://mirrors.cloud.tencent.com/npm/\n  cnpm --------- https://r.cnpmjs.org/\n  taobao ------- https://registry.npmmirror.com/\n  npmMirror ---- https://skimdb.npmjs.com/registry/\n```\n\n#### nrm use\n\n```shell\n    nrm use taobao\n    Registry has been set to: https://registry.npmmirror.com/\n\n```\n\n#### Usage\n\n```shell\nUsage: nrm [options] [command]\n\nOptions:\n  -V, --version                           output the version number\n  -h, --help                              output usage information\n\nCommands:\n  ls                                      List all the registries\n  current [options]                       Show current registry name or URL\n  use <registry>                          Change registry to registry\n  add <registry> <url> [home]             Add one custom registry\n  login [options] <registryName> [value]  Set authorize information for a custom registry with a base64 encoded string or username and pasword\n  set-hosted-repo <registry> <value>      Set hosted npm repository for a custom registry to publish packages\n  set-scope <scopeName> <value>           Associating a scope with a registry\n  del-scope <scopeName>                   Remove a scope\n  set [options] <registryName>            Set custom registry attribute\n  rename <registryName> <newName>         Set custom registry name\n  del <registry>                          Delete one custom registry\n  home <registry> [browser]               Open the homepage of registry with optional browser\n  publish [options] [<tarball>|<folder>]  Publish package to current registry if current registry is a custom registry.\n   if you're not using custom registry, this command will run npm publish directly\n  test [registry]                         Show response time for specific or all registries\n  help                                    Print this help \n   if you want to clear the NRM configuration when uninstall you can execute \"npm uninstall nrm -g -C or npm uninstall nrm -g --clean\"\n```","slug":"web/npm/nrm","published":1,"updated":"2023-10-25T07:46:17.579Z","__permalink":"/web/npm/nrm.html","layout":"post","photos":[],"link":"","_id":"cloigii00002jrmf39rif4dtp","content":"<div id=\"vip-container\"><h4 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h4><p><code>npm install -g nrm</code></p>\n<h4 id=\"nrm-ls\"><a href=\"#nrm-ls\" class=\"headerlink\" title=\"nrm ls\"></a>nrm ls</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nrm ls</span><br><span class=\"line\"></span><br><span class=\"line\">npm ---------- https://registry.npmjs.org/</span><br><span class=\"line\">yarn --------- https://registry.yarnpkg.com/</span><br><span class=\"line\">tencent ------ https://mirrors.cloud.tencent.com/npm/</span><br><span class=\"line\">cnpm --------- https://r.cnpmjs.org/</span><br><span class=\"line\">taobao ------- https://registry.npmmirror.com/</span><br><span class=\"line\">npmMirror ---- https://skimdb.npmjs.com/registry/</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"nrm-use\"><a href=\"#nrm-use\" class=\"headerlink\" title=\"nrm use\"></a>nrm use</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nrm use taobao</span><br><span class=\"line\">Registry has been set to: https://registry.npmmirror.com/</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Usage\"><a href=\"#Usage\" class=\"headerlink\" title=\"Usage\"></a>Usage</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Usage: nrm [options] [command]</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">  -V, --version                           output the version number</span><br><span class=\"line\">  -h, --help                              output usage information</span><br><span class=\"line\"></span><br><span class=\"line\">Commands:</span><br><span class=\"line\">  ls                                      List all the registries</span><br><span class=\"line\">  current [options]                       Show current registry name or URL</span><br><span class=\"line\">  use &lt;registry&gt;                          Change registry to registry</span><br><span class=\"line\">  add &lt;registry&gt; &lt;url&gt; [home]             Add one custom registry</span><br><span class=\"line\">  login [options] &lt;registryName&gt; [value]  Set authorize information for a custom registry with a base64 encoded string or username and pasword</span><br><span class=\"line\">  set-hosted-repo &lt;registry&gt; &lt;value&gt;      Set hosted npm repository for a custom registry to publish packages</span><br><span class=\"line\">  set-scope &lt;scopeName&gt; &lt;value&gt;           Associating a scope with a registry</span><br><span class=\"line\">  del-scope &lt;scopeName&gt;                   Remove a scope</span><br><span class=\"line\">  set [options] &lt;registryName&gt;            Set custom registry attribute</span><br><span class=\"line\">  rename &lt;registryName&gt; &lt;newName&gt;         Set custom registry name</span><br><span class=\"line\">  del &lt;registry&gt;                          Delete one custom registry</span><br><span class=\"line\">  home &lt;registry&gt; [browser]               Open the homepage of registry with optional browser</span><br><span class=\"line\">  publish [options] [&lt;tarball&gt;|&lt;folder&gt;]  Publish package to current registry if current registry is a custom registry.</span><br><span class=\"line\">   if you&#x27;re not using custom registry, this command will run npm publish directly</span><br><span class=\"line\">  test [registry]                         Show response time for specific or all registries</span><br><span class=\"line\">  help                                    Print this help </span><br><span class=\"line\">   if you want to clear the NRM configuration when uninstall you can execute &quot;npm uninstall nrm -g -C or npm uninstall nrm -g --clean&quot;</span><br></pre></td></tr></table></figure></div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/components/unstate-next-use.html","/hexo/config/rss.html","/hexo/config/readmore.html"],"length":239,"excerpt":"","more":"<h4 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h4><p><code>npm install -g nrm</code></p>\n<h4 id=\"nrm-ls\"><a href=\"#nrm-ls\" class=\"headerlink\" title=\"nrm ls\"></a>nrm ls</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nrm ls</span><br><span class=\"line\"></span><br><span class=\"line\">npm ---------- https://registry.npmjs.org/</span><br><span class=\"line\">yarn --------- https://registry.yarnpkg.com/</span><br><span class=\"line\">tencent ------ https://mirrors.cloud.tencent.com/npm/</span><br><span class=\"line\">cnpm --------- https://r.cnpmjs.org/</span><br><span class=\"line\">taobao ------- https://registry.npmmirror.com/</span><br><span class=\"line\">npmMirror ---- https://skimdb.npmjs.com/registry/</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"nrm-use\"><a href=\"#nrm-use\" class=\"headerlink\" title=\"nrm use\"></a>nrm use</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nrm use taobao</span><br><span class=\"line\">Registry has been set to: https://registry.npmmirror.com/</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Usage\"><a href=\"#Usage\" class=\"headerlink\" title=\"Usage\"></a>Usage</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Usage: nrm [options] [command]</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">  -V, --version                           output the version number</span><br><span class=\"line\">  -h, --help                              output usage information</span><br><span class=\"line\"></span><br><span class=\"line\">Commands:</span><br><span class=\"line\">  ls                                      List all the registries</span><br><span class=\"line\">  current [options]                       Show current registry name or URL</span><br><span class=\"line\">  use &lt;registry&gt;                          Change registry to registry</span><br><span class=\"line\">  add &lt;registry&gt; &lt;url&gt; [home]             Add one custom registry</span><br><span class=\"line\">  login [options] &lt;registryName&gt; [value]  Set authorize information for a custom registry with a base64 encoded string or username and pasword</span><br><span class=\"line\">  set-hosted-repo &lt;registry&gt; &lt;value&gt;      Set hosted npm repository for a custom registry to publish packages</span><br><span class=\"line\">  set-scope &lt;scopeName&gt; &lt;value&gt;           Associating a scope with a registry</span><br><span class=\"line\">  del-scope &lt;scopeName&gt;                   Remove a scope</span><br><span class=\"line\">  set [options] &lt;registryName&gt;            Set custom registry attribute</span><br><span class=\"line\">  rename &lt;registryName&gt; &lt;newName&gt;         Set custom registry name</span><br><span class=\"line\">  del &lt;registry&gt;                          Delete one custom registry</span><br><span class=\"line\">  home &lt;registry&gt; [browser]               Open the homepage of registry with optional browser</span><br><span class=\"line\">  publish [options] [&lt;tarball&gt;|&lt;folder&gt;]  Publish package to current registry if current registry is a custom registry.</span><br><span class=\"line\">   if you&#x27;re not using custom registry, this command will run npm publish directly</span><br><span class=\"line\">  test [registry]                         Show response time for specific or all registries</span><br><span class=\"line\">  help                                    Print this help </span><br><span class=\"line\">   if you want to clear the NRM configuration when uninstall you can execute &quot;npm uninstall nrm -g -C or npm uninstall nrm -g --clean&quot;</span><br></pre></td></tr></table></figure>"},{"title":"nvm node","date":"2023-10-25T07:47:01.000Z","description":"nvm -- Node version manager","comments":1,"_content":"\n#### Windows \n\n[nvm_github](https://github.com/nvm-sh/nvm)\n\n1.  \"Code\"  \"Download ZIP\"  ZIP \n2.  ZIP  ZIP  NVM \n3.  PowerShell NVM \n\n```shell\n    setx NVM_HOME \"\"\n    setx NVM_SYMLINK \"\"\n```\n\n#### Linux \n\n1.  NVM  NVM \n\n```shell\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\n```\n\n NVM GitHub \n\n2.  NVM  NVM  ~/.bashrc~/.zshrc \n\n```shell\nsource ~/.bashrc\n```\n\n Shell ~/.bashrc \n\n#### \n\n```shell\nnvm --version\n```\n\n#### node.js \n\n```shell\nnvm install <version>\n```\n\n****\n\n```shell\nnvm install 16.13.0\n```\n\nNVM \n\n#### \n\n Node.js  Node.js \n\n```shell\nnvm use <version>\n```\n\n****\n\n```shell\nnvm use 18.16.0\n```\n\n Shell  Node.js \n\n#### \n\n```shell\nnvm use node\n```\n\n#### node\n\n```shell\nnvm which 18.16.0\n/Users/shaosong/.nvm/versions/node/v18.16.0/bin/node\n```\n\n#### listing Version\n\n```shell\nnvm ls\n```\n\n#### version\n\n```shell\nnvm alias default 18.16.0\n```\n\n Linux  NVM nvm use  Node.js  node  npm  Node.js \n","source":"_posts/web/npm/nvm.md","raw":"---\ntitle: nvm node\npermalink: /web/npm/nvm.html\ndate: 2023-10-25 15:47:01\ndescription: nvm -- Node version manager\n\ntag: [, npm, nvm]\ncomments: true\ncategories: \n - \n - npm\n---\n\n#### Windows \n\n[nvm_github](https://github.com/nvm-sh/nvm)\n\n1.  \"Code\"  \"Download ZIP\"  ZIP \n2.  ZIP  ZIP  NVM \n3.  PowerShell NVM \n\n```shell\n    setx NVM_HOME \"\"\n    setx NVM_SYMLINK \"\"\n```\n\n#### Linux \n\n1.  NVM  NVM \n\n```shell\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\n```\n\n NVM GitHub \n\n2.  NVM  NVM  ~/.bashrc~/.zshrc \n\n```shell\nsource ~/.bashrc\n```\n\n Shell ~/.bashrc \n\n#### \n\n```shell\nnvm --version\n```\n\n#### node.js \n\n```shell\nnvm install <version>\n```\n\n****\n\n```shell\nnvm install 16.13.0\n```\n\nNVM \n\n#### \n\n Node.js  Node.js \n\n```shell\nnvm use <version>\n```\n\n****\n\n```shell\nnvm use 18.16.0\n```\n\n Shell  Node.js \n\n#### \n\n```shell\nnvm use node\n```\n\n#### node\n\n```shell\nnvm which 18.16.0\n/Users/shaosong/.nvm/versions/node/v18.16.0/bin/node\n```\n\n#### listing Version\n\n```shell\nnvm ls\n```\n\n#### version\n\n```shell\nnvm alias default 18.16.0\n```\n\n Linux  NVM nvm use  Node.js  node  npm  Node.js \n","slug":"web/npm/nvm","published":1,"updated":"2023-10-26T02:54:25.188Z","__permalink":"/web/npm/nvm.html","layout":"post","photos":[],"link":"","_id":"cloigii02002mrmf33v786udm","content":"<div id=\"vip-container\"><h4 id=\"Windows-\"><a href=\"#Windows-\" class=\"headerlink\" title=\"Windows \"></a>Windows </h4><p><a href=\"https://github.com/nvm-sh/nvm\">nvm_github</a></p>\n<ol>\n<li> Code  Download ZIP  ZIP </li>\n<li> ZIP  ZIP  NVM </li>\n<li> PowerShell NVM </li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setx NVM_HOME &quot;&quot;</span><br><span class=\"line\">setx NVM_SYMLINK &quot;&quot;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Linux-\"><a href=\"#Linux-\" class=\"headerlink\" title=\"Linux \"></a>Linux </h4><ol>\n<li> NVM  NVM </li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash</span><br></pre></td></tr></table></figure>\n\n<p> NVM GitHub </p>\n<ol start=\"2\">\n<li> NVM  NVM  <del>&#x2F;.bashrc</del>&#x2F;.zshrc </li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure>\n\n<p> Shell ~&#x2F;.bashrc </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm --version</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"node-js-\"><a href=\"#node-js-\" class=\"headerlink\" title=\"node.js \"></a>node.js </h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install &lt;version&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install 16.13.0</span><br></pre></td></tr></table></figure>\n\n<p>NVM </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> Node.js  Node.js </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use &lt;version&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use 18.16.0</span><br></pre></td></tr></table></figure>\n\n<p> Shell  Node.js </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use node</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm which 18.16.0</span><br><span class=\"line\">/Users/shaosong/.nvm/versions/node/v18.16.0/bin/node</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"listing-Version\"><a href=\"#listing-Version\" class=\"headerlink\" title=\"listing Version\"></a>listing Version</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"version\"><a href=\"#version\" class=\"headerlink\" title=\"version\"></a>version</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm alias default 18.16.0</span><br></pre></td></tr></table></figure>\n\n<p> Linux  NVM nvm use  Node.js  node  npm  Node.js </p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":[],"length":461,"excerpt":"","more":"<h4 id=\"Windows-\"><a href=\"#Windows-\" class=\"headerlink\" title=\"Windows \"></a>Windows </h4><p><a href=\"https://github.com/nvm-sh/nvm\">nvm_github</a></p>\n<ol>\n<li> Code  Download ZIP  ZIP </li>\n<li> ZIP  ZIP  NVM </li>\n<li> PowerShell NVM </li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setx NVM_HOME &quot;&quot;</span><br><span class=\"line\">setx NVM_SYMLINK &quot;&quot;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Linux-\"><a href=\"#Linux-\" class=\"headerlink\" title=\"Linux \"></a>Linux </h4><ol>\n<li> NVM  NVM </li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash</span><br></pre></td></tr></table></figure>\n\n<p> NVM GitHub </p>\n<ol start=\"2\">\n<li> NVM  NVM  <del>&#x2F;.bashrc</del>&#x2F;.zshrc </li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source ~/.bashrc</span><br></pre></td></tr></table></figure>\n\n<p> Shell ~&#x2F;.bashrc </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm --version</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"node-js-\"><a href=\"#node-js-\" class=\"headerlink\" title=\"node.js \"></a>node.js </h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install &lt;version&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm install 16.13.0</span><br></pre></td></tr></table></figure>\n\n<p>NVM </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> Node.js  Node.js </p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use &lt;version&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use 18.16.0</span><br></pre></td></tr></table></figure>\n\n<p> Shell  Node.js </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm use node</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"node\"><a href=\"#node\" class=\"headerlink\" title=\"node\"></a>node</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm which 18.16.0</span><br><span class=\"line\">/Users/shaosong/.nvm/versions/node/v18.16.0/bin/node</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"listing-Version\"><a href=\"#listing-Version\" class=\"headerlink\" title=\"listing Version\"></a>listing Version</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm ls</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"version\"><a href=\"#version\" class=\"headerlink\" title=\"version\"></a>version</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nvm alias default 18.16.0</span><br></pre></td></tr></table></figure>\n\n<p> Linux  NVM nvm use  Node.js  node  npm  Node.js </p>\n"},{"title":"webpack ","date":"2023-10-23T12:43:25.000Z","description":"webpack Hot Module ReplacementHMR","comments":1,"_content":"\nwebpack Hot Module ReplacementHMR\n\n![](https://pic.imgdb.cn/item/65366aa5c458853aefbf449c.png)\n\n server  client \n1.  webpack  watch webpack JavaScript\n2. webpack-dev-server  webpack  dev-server webpack- dev-middleware webpack webpack-dev-middleware webpack API  webpack\n3. webpack-dev-server  devServer.watchContentBase  true Server  live reloadHMR \n4. webpack-dev-server sockjswebpack-dev-server  websocket  webpack Server  socket  hash hash \n5. webpack-dev-server/client              webpackwebpack/hot/dev-server   webpack-dev-server/client dev-server\n6. HotModuleReplacement.runtime HMR           hash JsonpMainTemplate.runtime  server Ajax  json json hash  jsonp  789 \n7.  10  HMR HotModulePlugin \n\n HMR  live reload ","source":"_posts/web/webpack/hotModuleReplacement.md","raw":"---\ntitle: webpack \npermalink: /web/webpack/hot/module/replacement.html\ndate: 2023-10-23 20:43:25\ndescription: webpack Hot Module ReplacementHMR\n\ntag: [, , WebPack]\ncomments: true\ncategories: \n - \n - WebPack\n---\n\nwebpack Hot Module ReplacementHMR\n\n![](https://pic.imgdb.cn/item/65366aa5c458853aefbf449c.png)\n\n server  client \n1.  webpack  watch webpack JavaScript\n2. webpack-dev-server  webpack  dev-server webpack- dev-middleware webpack webpack-dev-middleware webpack API  webpack\n3. webpack-dev-server  devServer.watchContentBase  true Server  live reloadHMR \n4. webpack-dev-server sockjswebpack-dev-server  websocket  webpack Server  socket  hash hash \n5. webpack-dev-server/client              webpackwebpack/hot/dev-server   webpack-dev-server/client dev-server\n6. HotModuleReplacement.runtime HMR           hash JsonpMainTemplate.runtime  server Ajax  json json hash  jsonp  789 \n7.  10  HMR HotModulePlugin \n\n HMR  live reload ","slug":"web/webpack/hotModuleReplacement","published":1,"updated":"2023-10-25T09:13:46.020Z","__permalink":"/web/webpack/hot/module/replacement.html","layout":"post","photos":[],"link":"","_id":"cloigii03002nrmf3ga55221w","content":"<div id=\"vip-container\"><p>webpack Hot Module ReplacementHMR<br><br><img src=\"https://pic.imgdb.cn/item/65366aa5c458853aefbf449c.png\" alt=\"\"></p>\n<p> server  client </p>\n<ol>\n<li> webpack  watch webpack JavaScript</li>\n<li>webpack-dev-server  webpack  dev-server webpack- dev-middleware webpack webpack-dev-middleware webpack API  webpack</li>\n<li>webpack-dev-server  devServer.watchContentBase  true Server  live reloadHMR </li>\n<li>webpack-dev-server sockjswebpack-dev-server  websocket  webpack Server  socket  hash hash </li>\n<li>webpack-dev-server&#x2F;client              webpackwebpack&#x2F;hot&#x2F;dev-server   webpack-dev-server&#x2F;client dev-server</li>\n<li>HotModuleReplacement.runtime HMR           hash JsonpMainTemplate.runtime  server Ajax  json json hash  jsonp  789 </li>\n<li> 10  HMR HotModulePlugin </li>\n</ol>\n<p> HMR  live reload </p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/web/webpack/perform.html"],"length":739,"excerpt":"","more":"<p>webpack Hot Module ReplacementHMR<br><br><img src=\"https://pic.imgdb.cn/item/65366aa5c458853aefbf449c.png\" alt=\"\"></p>\n<p> server  client </p>\n<ol>\n<li> webpack  watch webpack JavaScript</li>\n<li>webpack-dev-server  webpack  dev-server webpack- dev-middleware webpack webpack-dev-middleware webpack API  webpack</li>\n<li>webpack-dev-server  devServer.watchContentBase  true Server  live reloadHMR </li>\n<li>webpack-dev-server sockjswebpack-dev-server  websocket  webpack Server  socket  hash hash </li>\n<li>webpack-dev-server&#x2F;client              webpackwebpack&#x2F;hot&#x2F;dev-server   webpack-dev-server&#x2F;client dev-server</li>\n<li>HotModuleReplacement.runtime HMR           hash JsonpMainTemplate.runtime  server Ajax  json json hash  jsonp  789 </li>\n<li> 10  HMR HotModulePlugin </li>\n</ol>\n<p> HMR  live reload </p>\n"},{"title":"unstate-next ","date":"2023-10-25T08:42:53.000Z","description":"unstated-next react state managerReact useContext , ","comments":1,"_content":"\n#### Install\n\n[Code-Test](https://gitcode.net/qq_35490191/React-TypeScript)\n\n```shell\nnpm install --save unstated-next\n\nyarn add unstated-next\n```\n\n#### createContainer\n\n```ts\n    import { useState } from \"react\";\n    import { createContainer } from \"unstated-next\"\n\n    const useCounter = (props: any) => {\n        const { initNum } = props;\n        const [num, changeNum] = useState<number>(initNum);\n        let decrement = () => changeNum(num - 1)\n        let increment = () => changeNum(num + 1)\n        return {num, decrement, increment};\n    }\n\n    export const Counter = createContainer(useCounter);\n\n```\n\n#### use Provider && initialState\n\n```ts\n    import './App.css'\n    import { Counter } from './Context'\n    import {TestCounter} from './TestCounter'\n\n    export default function App() {\n    return (\n        <Counter.Provider initialState={{ initNum: 1 }}>\n        <TestCounter />\n        </Counter.Provider>\n    )\n    }\n```\n\n#### useContainer\n\n##### TestCounter\n\n```ts\n    import { Counter } from \"./Context\"\n    import {TestChild} from './TestChild'\n\n    export const TestCounter = () => {\n        const { num, decrement } = Counter.useContainer();\n        \n        return <>\n            <button onClick={decrement}></button>\n            <TestChild />\n        </>\n    }\n```\n\n##### TestChild\n\n```ts\n    import { Counter } from \"./Context\"\n\n    export const TestChild = () => {\n        const { num, increment } = Counter.useContainer();\n        return <>\n            {num} <button onClick={increment}></button>\n        </>\n    }\n\n```\n","source":"_posts/react/components/unstate-next/unstated-next-use.md","raw":"---\ntitle: unstate-next \npermalink: /react/components/unstate-next-use.html\ndate: 2023-10-25 16:42:53\ndescription: unstated-next react state managerReact useContext , \ntag: [, react, TypeScript, unstate-next]\ncomments: true\ncategories: \n - React\n - components\n - unstate-next\n---\n\n#### Install\n\n[Code-Test](https://gitcode.net/qq_35490191/React-TypeScript)\n\n```shell\nnpm install --save unstated-next\n\nyarn add unstated-next\n```\n\n#### createContainer\n\n```ts\n    import { useState } from \"react\";\n    import { createContainer } from \"unstated-next\"\n\n    const useCounter = (props: any) => {\n        const { initNum } = props;\n        const [num, changeNum] = useState<number>(initNum);\n        let decrement = () => changeNum(num - 1)\n        let increment = () => changeNum(num + 1)\n        return {num, decrement, increment};\n    }\n\n    export const Counter = createContainer(useCounter);\n\n```\n\n#### use Provider && initialState\n\n```ts\n    import './App.css'\n    import { Counter } from './Context'\n    import {TestCounter} from './TestCounter'\n\n    export default function App() {\n    return (\n        <Counter.Provider initialState={{ initNum: 1 }}>\n        <TestCounter />\n        </Counter.Provider>\n    )\n    }\n```\n\n#### useContainer\n\n##### TestCounter\n\n```ts\n    import { Counter } from \"./Context\"\n    import {TestChild} from './TestChild'\n\n    export const TestCounter = () => {\n        const { num, decrement } = Counter.useContainer();\n        \n        return <>\n            <button onClick={decrement}></button>\n            <TestChild />\n        </>\n    }\n```\n\n##### TestChild\n\n```ts\n    import { Counter } from \"./Context\"\n\n    export const TestChild = () => {\n        const { num, increment } = Counter.useContainer();\n        return <>\n            {num} <button onClick={increment}></button>\n        </>\n    }\n\n```\n","slug":"react/components/unstate-next/unstated-next-use","published":1,"updated":"2023-10-26T08:03:33.636Z","__permalink":"/react/components/unstate-next-use.html","layout":"post","photos":[],"link":"","_id":"cloigii04002prmf30kycciag","content":"<div id=\"vip-container\"><h4 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h4><p><a href=\"https://gitcode.net/qq_35490191/React-TypeScript\">Code-Test</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save unstated-next</span><br><span class=\"line\"></span><br><span class=\"line\">yarn add unstated-next</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"createContainer\"><a href=\"#createContainer\" class=\"headerlink\" title=\"createContainer\"></a>createContainer</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; useState &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createContainer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;unstated-next&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">useCounter</span> = (<span class=\"params\">props: <span class=\"built_in\">any</span></span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; initNum &#125; = props;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> [num, changeNum] = useState&lt;<span class=\"built_in\">number</span>&gt;(initNum);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">decrement</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title function_\">changeNum</span>(num - <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">increment</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title function_\">changeNum</span>(num + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;num, decrement, increment&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">Counter</span> = <span class=\"title function_\">createContainer</span>(useCounter);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"use-Provider-initialState\"><a href=\"#use-Provider-initialState\" class=\"headerlink\" title=\"use Provider &amp;&amp; initialState\"></a>use Provider &amp;&amp; initialState</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;./App.css&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Counter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./Context&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;<span class=\"title class_\">TestCounter</span>&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./TestCounter&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">App</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Counter.Provider</span> <span class=\"attr\">initialState</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">initNum:</span> <span class=\"attr\">1</span> &#125;&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">TestCounter</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">Counter.Provider</span>&gt;</span></span></span><br><span class=\"line\">)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"useContainer\"><a href=\"#useContainer\" class=\"headerlink\" title=\"useContainer\"></a>useContainer</h4><h5 id=\"TestCounter\"><a href=\"#TestCounter\" class=\"headerlink\" title=\"TestCounter\"></a>TestCounter</h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Counter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./Context&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;<span class=\"title class_\">TestChild</span>&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./TestChild&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">TestCounter</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; num, decrement &#125; = <span class=\"title class_\">Counter</span>.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;decrement&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">TestChild</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/&gt;</span></span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"TestChild\"><a href=\"#TestChild\" class=\"headerlink\" title=\"TestChild\"></a>TestChild</h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Counter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./Context&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">TestChild</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; num, increment &#125; = <span class=\"title class_\">Counter</span>.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        &#123;num&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;increment&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/&gt;</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/web/npm/nrm.html","/react/components/unstate-next-implement.html","/hexo/config/rss.html","/hexo/config/readmore.html"],"length":128,"excerpt":"","more":"<h4 id=\"Install\"><a href=\"#Install\" class=\"headerlink\" title=\"Install\"></a>Install</h4><p><a href=\"https://gitcode.net/qq_35490191/React-TypeScript\">Code-Test</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save unstated-next</span><br><span class=\"line\"></span><br><span class=\"line\">yarn add unstated-next</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"createContainer\"><a href=\"#createContainer\" class=\"headerlink\" title=\"createContainer\"></a>createContainer</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; useState &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;react&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createContainer &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;unstated-next&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">useCounter</span> = (<span class=\"params\">props: <span class=\"built_in\">any</span></span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; initNum &#125; = props;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> [num, changeNum] = useState&lt;<span class=\"built_in\">number</span>&gt;(initNum);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">decrement</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title function_\">changeNum</span>(num - <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">increment</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title function_\">changeNum</span>(num + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;num, decrement, increment&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">Counter</span> = <span class=\"title function_\">createContainer</span>(useCounter);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"use-Provider-initialState\"><a href=\"#use-Provider-initialState\" class=\"headerlink\" title=\"use Provider &amp;&amp; initialState\"></a>use Provider &amp;&amp; initialState</h4><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;./App.css&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Counter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./Context&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;<span class=\"title class_\">TestCounter</span>&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./TestCounter&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">App</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> (</span><br><span class=\"line\">    <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Counter.Provider</span> <span class=\"attr\">initialState</span>=<span class=\"string\">&#123;&#123;</span> <span class=\"attr\">initNum:</span> <span class=\"attr\">1</span> &#125;&#125;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">TestCounter</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/<span class=\"name\">Counter.Provider</span>&gt;</span></span></span><br><span class=\"line\">)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"useContainer\"><a href=\"#useContainer\" class=\"headerlink\" title=\"useContainer\"></a>useContainer</h4><h5 id=\"TestCounter\"><a href=\"#TestCounter\" class=\"headerlink\" title=\"TestCounter\"></a>TestCounter</h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Counter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./Context&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123;<span class=\"title class_\">TestChild</span>&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./TestChild&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">TestCounter</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; num, decrement &#125; = <span class=\"title class_\">Counter</span>.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;decrement&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">TestChild</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/&gt;</span></span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"TestChild\"><a href=\"#TestChild\" class=\"headerlink\" title=\"TestChild\"></a>TestChild</h5><figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Counter</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;./Context&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">TestChild</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; num, increment &#125; = <span class=\"title class_\">Counter</span>.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        &#123;num&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;increment&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;/&gt;</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"unstate-next ","date":"2023-10-26T07:49:35.000Z","description":"unstate-next  React.createContext  React.useContext ","comments":1,"published":1,"_content":"\n#### Container\n\nhooks\n\n```tsx\n    /**\n     * \n     */\n    export interface Container<Value, State> {\n    Provider: React.ComponentType<ContainerProviderProps<State>>;\n    useContainer: () => Value;\n    }\n```\n\n#### Provider\n\n\n\n```tsx\n\n    /**\n     * ContainerProviderProps \n     * @param {State} State\n     * @return {State} initialState\n     * @return {React.ReactNode} children\n     */\n    export interface ContainerProviderProps<State = any> {\n    initialState?: State;\n    children: React.ReactNode;\n    }\n\n```\n\n#### createContainer \n\n `createContainer`  `Provider`  `useContainer`\n\n\n\n1. React.createContext Context\n2. hooks \n3. Context Provider  Context\n4. React.useContext  Context \n\n```tsx\n    export function createContainer<Value, State = void>(\n    useHook: (initialState?: State) => Value\n    ): Container<Value, State> {\n    // React.createContext Context\n    const Context = React.createContext<Value | typeof EMPTY>(EMPTY);\n\n    function Provider(props: ContainerProviderProps<State>) {\n        // hooks \n        let value = useHook(props.initialState);\n        // Context Provider  Context\n        return <Context.Provider value={value}>{props?.children}</Context.Provider>;\n    }\n\n    function useContainer(): Value {\n        // React.useContext  Context \n        let value = React.useContext(Context);\n        if (value === EMPTY) {\n        throw new Error(\"Component must be wrapped with <Container.Provider>\");\n        }\n        return value;\n    }\n    return {\n        Provider,\n        useContainer,\n    };\n    }\n```\n\n#### useContainer\n\nuseContainer  Container \n\n```tsx\n    export function useContainer<Value, State = void>(\n    container: Container<Value, State>\n    ): Value {\n    return container.useContainer();\n    }\n```\n\n#### [unstate-next ](./unstate-next-use.html)\n\n#### code\n\n```tsx\n    import React from \"react\";\n\n    const EMPTY: unique symbol = Symbol();\n\n    /**\n     * ContainerProviderProps \n     * @param {State} State\n     * @return {State} initialState\n     * @return {React.ReactNode} children\n     */\n    export interface ContainerProviderProps<State = any> {\n    initialState?: State;\n    children: React.ReactNode;\n    }\n\n    /**\n     * \n     */\n    export interface Container<Value, State> {\n    Provider: React.ComponentType<ContainerProviderProps<State>>;\n    useContainer: () => Value;\n    }\n\n    export function createContainer<Value, State = void>(\n    useHook: (initialState?: State) => Value\n    ): Container<Value, State> {\n    // React.createContext Context\n    const Context = React.createContext<Value | typeof EMPTY>(EMPTY);\n\n    function Provider(props: ContainerProviderProps<State>) {\n        // hooks \n        let value = useHook(props.initialState);\n        // Context Provider  Context\n        return <Context.Provider value={value}>{props?.children}</Context.Provider>;\n    }\n\n    function useContainer(): Value {\n        // React.useContext  Context \n        let value = React.useContext(Context);\n        if (value === EMPTY) {\n        throw new Error(\"Component must be wrapped with <Container.Provider>\");\n        }\n        return value;\n    }\n    return {\n        Provider,\n        useContainer,\n    };\n    }\n\n    export function useContainer<Value, State = void>(\n    container: Container<Value, State>\n    ): Value {\n    return container.useContainer();\n    }\n\n```\n","source":"_posts/react/components/unstate-next/unstated-next-implement.md","raw":"---\ntitle: unstate-next \npermalink: /react/components/unstate-next-implement.html\ndate: 2023-10-26 15:49:35\ndescription: unstate-next  React.createContext  React.useContext \ntag: [, react, TypeScript, unstate-next]\ncomments: true\npublished: true\ncategories: \n - React\n - components\n - unstate-next\n---\n\n#### Container\n\nhooks\n\n```tsx\n    /**\n     * \n     */\n    export interface Container<Value, State> {\n    Provider: React.ComponentType<ContainerProviderProps<State>>;\n    useContainer: () => Value;\n    }\n```\n\n#### Provider\n\n\n\n```tsx\n\n    /**\n     * ContainerProviderProps \n     * @param {State} State\n     * @return {State} initialState\n     * @return {React.ReactNode} children\n     */\n    export interface ContainerProviderProps<State = any> {\n    initialState?: State;\n    children: React.ReactNode;\n    }\n\n```\n\n#### createContainer \n\n `createContainer`  `Provider`  `useContainer`\n\n\n\n1. React.createContext Context\n2. hooks \n3. Context Provider  Context\n4. React.useContext  Context \n\n```tsx\n    export function createContainer<Value, State = void>(\n    useHook: (initialState?: State) => Value\n    ): Container<Value, State> {\n    // React.createContext Context\n    const Context = React.createContext<Value | typeof EMPTY>(EMPTY);\n\n    function Provider(props: ContainerProviderProps<State>) {\n        // hooks \n        let value = useHook(props.initialState);\n        // Context Provider  Context\n        return <Context.Provider value={value}>{props?.children}</Context.Provider>;\n    }\n\n    function useContainer(): Value {\n        // React.useContext  Context \n        let value = React.useContext(Context);\n        if (value === EMPTY) {\n        throw new Error(\"Component must be wrapped with <Container.Provider>\");\n        }\n        return value;\n    }\n    return {\n        Provider,\n        useContainer,\n    };\n    }\n```\n\n#### useContainer\n\nuseContainer  Container \n\n```tsx\n    export function useContainer<Value, State = void>(\n    container: Container<Value, State>\n    ): Value {\n    return container.useContainer();\n    }\n```\n\n#### [unstate-next ](./unstate-next-use.html)\n\n#### code\n\n```tsx\n    import React from \"react\";\n\n    const EMPTY: unique symbol = Symbol();\n\n    /**\n     * ContainerProviderProps \n     * @param {State} State\n     * @return {State} initialState\n     * @return {React.ReactNode} children\n     */\n    export interface ContainerProviderProps<State = any> {\n    initialState?: State;\n    children: React.ReactNode;\n    }\n\n    /**\n     * \n     */\n    export interface Container<Value, State> {\n    Provider: React.ComponentType<ContainerProviderProps<State>>;\n    useContainer: () => Value;\n    }\n\n    export function createContainer<Value, State = void>(\n    useHook: (initialState?: State) => Value\n    ): Container<Value, State> {\n    // React.createContext Context\n    const Context = React.createContext<Value | typeof EMPTY>(EMPTY);\n\n    function Provider(props: ContainerProviderProps<State>) {\n        // hooks \n        let value = useHook(props.initialState);\n        // Context Provider  Context\n        return <Context.Provider value={value}>{props?.children}</Context.Provider>;\n    }\n\n    function useContainer(): Value {\n        // React.useContext  Context \n        let value = React.useContext(Context);\n        if (value === EMPTY) {\n        throw new Error(\"Component must be wrapped with <Container.Provider>\");\n        }\n        return value;\n    }\n    return {\n        Provider,\n        useContainer,\n    };\n    }\n\n    export function useContainer<Value, State = void>(\n    container: Container<Value, State>\n    ): Value {\n    return container.useContainer();\n    }\n\n```\n","slug":"react/components/unstate-next/unstated-next-implement","updated":"2023-10-26T08:11:32.739Z","__permalink":"/react/components/unstate-next-implement.html","layout":"post","photos":[],"link":"","_id":"cloigii06002rrmf37u4pdx7g","content":"<div id=\"vip-container\"><h4 id=\"Container\"><a href=\"#Container\" class=\"headerlink\" title=\"Container\"></a>Container</h4><p>hooks</p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"title class_\">Provider</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ComponentType</span>&lt;<span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span>&gt;&gt;;</span><br><span class=\"line\"><span class=\"attr\">useContainer</span>: <span class=\"function\">() =&gt;</span> <span class=\"title class_\">Value</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Provider\"><a href=\"#Provider\" class=\"headerlink\" title=\"Provider\"></a>Provider</h4><p></p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ContainerProviderProps </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">State</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">initialState</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">React.ReactNode</span>&#125; <span class=\"variable\">children</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span> = <span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">initialState?: <span class=\"title class_\">State</span>;</span><br><span class=\"line\"><span class=\"attr\">children</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ReactNode</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"createContainer-\"><a href=\"#createContainer-\" class=\"headerlink\" title=\"createContainer \"></a>createContainer </h4><p> <code>createContainer</code>  <code>Provider</code>  <code>useContainer</code></p>\n<p></p>\n<ol>\n<li>React.createContext Context</li>\n<li>hooks </li>\n<li>Context Provider  Context</li>\n<li>React.useContext  Context </li>\n</ol>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> createContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">useHook</span>: <span class=\"function\">(<span class=\"params\">initialState?: State</span>) =&gt;</span> <span class=\"title class_\">Value</span></span><br><span class=\"line\">): <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"comment\">// React.createContext Context</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Context</span> = <span class=\"title class_\">React</span>.<span class=\"property\">createContext</span>&lt;<span class=\"title class_\">Value</span> | <span class=\"keyword\">typeof</span> <span class=\"variable constant_\">EMPTY</span>&gt;(<span class=\"variable constant_\">EMPTY</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Provider</span>(<span class=\"params\">props: ContainerProviderProps&lt;State&gt;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// hooks </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title function_\">useHook</span>(props.<span class=\"property\">initialState</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Context Provider  Context</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Context.Provider</span> <span class=\"attr\">value</span>=<span class=\"string\">&#123;value&#125;</span>&gt;</span>&#123;props?.children&#125;<span class=\"tag\">&lt;/<span class=\"name\">Context.Provider</span>&gt;</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">useContainer</span>(<span class=\"params\"></span>): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// React.useContext  Context </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title class_\">React</span>.<span class=\"title function_\">useContext</span>(<span class=\"title class_\">Context</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value === <span class=\"variable constant_\">EMPTY</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;Component must be wrapped with &lt;Container.Provider&gt;&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Provider</span>,</span><br><span class=\"line\">    useContainer,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"useContainer\"><a href=\"#useContainer\" class=\"headerlink\" title=\"useContainer\"></a>useContainer</h4><p>useContainer  Container </p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> useContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">container</span>: <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt;</span><br><span class=\"line\">): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> container.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"unstate-next-\"><a href=\"#unstate-next-\" class=\"headerlink\" title=\"unstate-next \"></a><a href=\"./unstate-next-use.html\">unstate-next </a></h4><h4 id=\"code\"><a href=\"#code\" class=\"headerlink\" title=\"code\"></a>code</h4><figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;react&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">EMPTY</span>: unique <span class=\"built_in\">symbol</span> = <span class=\"title class_\">Symbol</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ContainerProviderProps </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">State</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">initialState</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">React.ReactNode</span>&#125; <span class=\"variable\">children</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span> = <span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">initialState?: <span class=\"title class_\">State</span>;</span><br><span class=\"line\"><span class=\"attr\">children</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ReactNode</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"title class_\">Provider</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ComponentType</span>&lt;<span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span>&gt;&gt;;</span><br><span class=\"line\"><span class=\"attr\">useContainer</span>: <span class=\"function\">() =&gt;</span> <span class=\"title class_\">Value</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> createContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">useHook</span>: <span class=\"function\">(<span class=\"params\">initialState?: State</span>) =&gt;</span> <span class=\"title class_\">Value</span></span><br><span class=\"line\">): <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"comment\">// React.createContext Context</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Context</span> = <span class=\"title class_\">React</span>.<span class=\"property\">createContext</span>&lt;<span class=\"title class_\">Value</span> | <span class=\"keyword\">typeof</span> <span class=\"variable constant_\">EMPTY</span>&gt;(<span class=\"variable constant_\">EMPTY</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Provider</span>(<span class=\"params\">props: ContainerProviderProps&lt;State&gt;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// hooks </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title function_\">useHook</span>(props.<span class=\"property\">initialState</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Context Provider  Context</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Context.Provider</span> <span class=\"attr\">value</span>=<span class=\"string\">&#123;value&#125;</span>&gt;</span>&#123;props?.children&#125;<span class=\"tag\">&lt;/<span class=\"name\">Context.Provider</span>&gt;</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">useContainer</span>(<span class=\"params\"></span>): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// React.useContext  Context </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title class_\">React</span>.<span class=\"title function_\">useContext</span>(<span class=\"title class_\">Context</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value === <span class=\"variable constant_\">EMPTY</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;Component must be wrapped with &lt;Container.Provider&gt;&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Provider</span>,</span><br><span class=\"line\">    useContainer,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> useContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">container</span>: <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt;</span><br><span class=\"line\">): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> container.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"31652-1697970027416-119\",\n\t\t\t        \"name\": \"BaType\",\n\t\t\t        \"qrcode\": \"https://i.postimg.cc/BnGK06H2/qrcode-for-gh-50f2ce2229c5-258.jpg\",\n\t\t\t        \"keyword\": \"666\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","site":{"data":{}},"related_posts":["/react/components/unstate-next-use.html"],"length":461,"excerpt":"","more":"<h4 id=\"Container\"><a href=\"#Container\" class=\"headerlink\" title=\"Container\"></a>Container</h4><p>hooks</p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"title class_\">Provider</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ComponentType</span>&lt;<span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span>&gt;&gt;;</span><br><span class=\"line\"><span class=\"attr\">useContainer</span>: <span class=\"function\">() =&gt;</span> <span class=\"title class_\">Value</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Provider\"><a href=\"#Provider\" class=\"headerlink\" title=\"Provider\"></a>Provider</h4><p></p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ContainerProviderProps </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">State</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">initialState</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">React.ReactNode</span>&#125; <span class=\"variable\">children</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span> = <span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">initialState?: <span class=\"title class_\">State</span>;</span><br><span class=\"line\"><span class=\"attr\">children</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ReactNode</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"createContainer-\"><a href=\"#createContainer-\" class=\"headerlink\" title=\"createContainer \"></a>createContainer </h4><p> <code>createContainer</code>  <code>Provider</code>  <code>useContainer</code></p>\n<p></p>\n<ol>\n<li>React.createContext Context</li>\n<li>hooks </li>\n<li>Context Provider  Context</li>\n<li>React.useContext  Context </li>\n</ol>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> createContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">useHook</span>: <span class=\"function\">(<span class=\"params\">initialState?: State</span>) =&gt;</span> <span class=\"title class_\">Value</span></span><br><span class=\"line\">): <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"comment\">// React.createContext Context</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Context</span> = <span class=\"title class_\">React</span>.<span class=\"property\">createContext</span>&lt;<span class=\"title class_\">Value</span> | <span class=\"keyword\">typeof</span> <span class=\"variable constant_\">EMPTY</span>&gt;(<span class=\"variable constant_\">EMPTY</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Provider</span>(<span class=\"params\">props: ContainerProviderProps&lt;State&gt;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// hooks </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title function_\">useHook</span>(props.<span class=\"property\">initialState</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Context Provider  Context</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Context.Provider</span> <span class=\"attr\">value</span>=<span class=\"string\">&#123;value&#125;</span>&gt;</span>&#123;props?.children&#125;<span class=\"tag\">&lt;/<span class=\"name\">Context.Provider</span>&gt;</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">useContainer</span>(<span class=\"params\"></span>): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// React.useContext  Context </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title class_\">React</span>.<span class=\"title function_\">useContext</span>(<span class=\"title class_\">Context</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value === <span class=\"variable constant_\">EMPTY</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;Component must be wrapped with &lt;Container.Provider&gt;&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Provider</span>,</span><br><span class=\"line\">    useContainer,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"useContainer\"><a href=\"#useContainer\" class=\"headerlink\" title=\"useContainer\"></a>useContainer</h4><p>useContainer  Container </p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> useContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">container</span>: <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt;</span><br><span class=\"line\">): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> container.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"unstate-next-\"><a href=\"#unstate-next-\" class=\"headerlink\" title=\"unstate-next \"></a><a href=\"./unstate-next-use.html\">unstate-next </a></h4><h4 id=\"code\"><a href=\"#code\" class=\"headerlink\" title=\"code\"></a>code</h4><figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;react&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"attr\">EMPTY</span>: unique <span class=\"built_in\">symbol</span> = <span class=\"title class_\">Symbol</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ContainerProviderProps </span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">State</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">State</span>&#125; <span class=\"variable\">initialState</span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">React.ReactNode</span>&#125; <span class=\"variable\">children</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span> = <span class=\"built_in\">any</span>&gt; &#123;</span><br><span class=\"line\">initialState?: <span class=\"title class_\">State</span>;</span><br><span class=\"line\"><span class=\"attr\">children</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ReactNode</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"title class_\">Provider</span>: <span class=\"title class_\">React</span>.<span class=\"property\">ComponentType</span>&lt;<span class=\"title class_\">ContainerProviderProps</span>&lt;<span class=\"title class_\">State</span>&gt;&gt;;</span><br><span class=\"line\"><span class=\"attr\">useContainer</span>: <span class=\"function\">() =&gt;</span> <span class=\"title class_\">Value</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> createContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">useHook</span>: <span class=\"function\">(<span class=\"params\">initialState?: State</span>) =&gt;</span> <span class=\"title class_\">Value</span></span><br><span class=\"line\">): <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt; &#123;</span><br><span class=\"line\"><span class=\"comment\">// React.createContext Context</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Context</span> = <span class=\"title class_\">React</span>.<span class=\"property\">createContext</span>&lt;<span class=\"title class_\">Value</span> | <span class=\"keyword\">typeof</span> <span class=\"variable constant_\">EMPTY</span>&gt;(<span class=\"variable constant_\">EMPTY</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Provider</span>(<span class=\"params\">props: ContainerProviderProps&lt;State&gt;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// hooks </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title function_\">useHook</span>(props.<span class=\"property\">initialState</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Context Provider  Context</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Context.Provider</span> <span class=\"attr\">value</span>=<span class=\"string\">&#123;value&#125;</span>&gt;</span>&#123;props?.children&#125;<span class=\"tag\">&lt;/<span class=\"name\">Context.Provider</span>&gt;</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">useContainer</span>(<span class=\"params\"></span>): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// React.useContext  Context </span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> value = <span class=\"title class_\">React</span>.<span class=\"title function_\">useContext</span>(<span class=\"title class_\">Context</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (value === <span class=\"variable constant_\">EMPTY</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;Component must be wrapped with &lt;Container.Provider&gt;&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Provider</span>,</span><br><span class=\"line\">    useContainer,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> useContainer&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span> = <span class=\"built_in\">void</span>&gt;(</span><br><span class=\"line\"><span class=\"attr\">container</span>: <span class=\"title class_\">Container</span>&lt;<span class=\"title class_\">Value</span>, <span class=\"title class_\">State</span>&gt;</span><br><span class=\"line\">): <span class=\"title class_\">Value</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> container.<span class=\"title function_\">useContainer</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cloigihxi0009rmf38s7i672f","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigihyd000xrmf36yb8dbva"},{"post_id":"cloigihxi0009rmf38s7i672f","category_id":"cloigihxv000mrmf376pnc0m9","_id":"cloigihyi0011rmf371aq4rcw"},{"post_id":"cloigihww0001rmf35dcu75b6","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigihyk0013rmf393uaeqgt"},{"post_id":"cloigihww0001rmf35dcu75b6","category_id":"cloigihxz000rrmf3eseb4hja","_id":"cloigihyl0017rmf3gpq9gelz"},{"post_id":"cloigihxl000brmf34540hehd","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigihym0019rmf391v89zx5"},{"post_id":"cloigihxl000brmf34540hehd","category_id":"cloigihye000yrmf37z8j2rv3","_id":"cloigihyp001drmf30y0lehon"},{"post_id":"cloigihxq000frmf3ev6511i2","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigihyr001grmf3am9v3xc1"},{"post_id":"cloigihxq000frmf3ev6511i2","category_id":"cloigihyk0014rmf31ml218pj","_id":"cloigihyt001krmf36cg1c63b"},{"post_id":"cloigihx90003rmf31m9fcage","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigihyu001ormf30dl1crp4"},{"post_id":"cloigihx90003rmf31m9fcage","category_id":"cloigihyn001brmf3f4c53a7w","_id":"cloigihyz001trmf3gchod3w6"},{"post_id":"cloigihxf0007rmf3fuiteblu","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigihzb0029rmf3alm4e29o"},{"post_id":"cloigihxf0007rmf3fuiteblu","category_id":"cloigihz0001xrmf3331x0nwt","_id":"cloigihzl002crmf33fx5ab6b"},{"post_id":"cloigihyq001frmf3a4ef82fo","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii0l003mrmf31b3s6d6f"},{"post_id":"cloigihyt001jrmf32zvkbyzp","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii0m003qrmf37zohduom"},{"post_id":"cloigihyu001mrmf33gf6hgko","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii0o003xrmf36xtmcyuy"},{"post_id":"cloigihyv001rrmf3bwf9fo6c","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii0p0044rmf3f7n28bh2"},{"post_id":"cloigihyv001rrmf3bwf9fo6c","category_id":"cloigii0n003vrmf30c186d4i","_id":"cloigii0q0046rmf304ssdtbk"},{"post_id":"cloigihyz001urmf3845ccjyb","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii0v004drmf3b0pddyor"},{"post_id":"cloigihyz001urmf3845ccjyb","category_id":"cloigii0p0043rmf3go3f6oqf","_id":"cloigii0x004frmf3bc2v5rka"},{"post_id":"cloigihz1001yrmf37c9ybvtv","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii12004irmf3das23kgm"},{"post_id":"cloigihz1001yrmf37c9ybvtv","category_id":"cloigii0p0043rmf3go3f6oqf","_id":"cloigii13004krmf3gvla8mva"},{"post_id":"cloigihz70020rmf3dafk51zj","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii13004nrmf33vfx901n"},{"post_id":"cloigihz70020rmf3dafk51zj","category_id":"cloigii0p0043rmf3go3f6oqf","_id":"cloigii14004qrmf34s152xm5"},{"post_id":"cloigihz90024rmf374g5e0yj","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii15004trmf3gldbbc1t"},{"post_id":"cloigihz90024rmf374g5e0yj","category_id":"cloigii12004hrmf3e7z1cqi1","_id":"cloigii16004vrmf38sf65976"},{"post_id":"cloigihza0026rmf37yjk16jk","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii200052rmf306kt3vui"},{"post_id":"cloigihza0026rmf37yjk16jk","category_id":"cloigii12004hrmf3e7z1cqi1","_id":"cloigii200054rmf33cy2e0m5"},{"post_id":"cloigihzc002armf35cev8hbb","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii210057rmf3dxribdfg"},{"post_id":"cloigihzc002armf35cev8hbb","category_id":"cloigii12004hrmf3e7z1cqi1","_id":"cloigii21005armf36j5s8ewe"},{"post_id":"cloigihxx000ormf3g8u0fq79","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii22005ermf36ombf53o"},{"post_id":"cloigihxx000ormf3g8u0fq79","category_id":"cloigii1z0051rmf3hzxy77yq","_id":"cloigii22005grmf3bohlgdgf"},{"post_id":"cloigihzm002drmf35ybxhpki","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii24005krmf3bybq565i"},{"post_id":"cloigihzm002drmf35ybxhpki","category_id":"cloigii12004hrmf3e7z1cqi1","_id":"cloigii24005lrmf36305gf8z"},{"post_id":"cloigihzn002hrmf3d86x8der","category_id":"cloigihxb0004rmf31j4ahtln","_id":"cloigii25005ormf36si22iyc"},{"post_id":"cloigihzn002hrmf3d86x8der","category_id":"cloigii12004hrmf3e7z1cqi1","_id":"cloigii25005prmf32mm635wh"},{"post_id":"cloigihxy000qrmf38ks9hvsi","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii26005rrmf39yhwcyr9"},{"post_id":"cloigihxy000qrmf38ks9hvsi","category_id":"cloigii1z0051rmf3hzxy77yq","_id":"cloigii27005urmf391qe4iaa"},{"post_id":"cloigii00002jrmf39rif4dtp","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2a005yrmf3hl99fqxk"},{"post_id":"cloigii00002jrmf39rif4dtp","category_id":"cloigii25005nrmf366qs3j6o","_id":"cloigii2b0060rmf3ctv585i6"},{"post_id":"cloigii02002mrmf33v786udm","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2c0064rmf3gx5bb1jw"},{"post_id":"cloigii02002mrmf33v786udm","category_id":"cloigii25005nrmf366qs3j6o","_id":"cloigii2c0065rmf3gv1vcju5"},{"post_id":"cloigihyc000urmf37gwrchf3","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2d0067rmf39zdyd96w"},{"post_id":"cloigihyc000urmf37gwrchf3","category_id":"cloigii1z0051rmf3hzxy77yq","_id":"cloigii2d006armf31o61278e"},{"post_id":"cloigii03002nrmf3ga55221w","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2e006frmf35z8wbn1s"},{"post_id":"cloigii03002nrmf3ga55221w","category_id":"cloigii2b0063rmf3a10zdnw1","_id":"cloigii2e006hrmf3ch3p8kzr"},{"post_id":"cloigihyd000wrmf3d8st11s9","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2i006rrmf35jawel39"},{"post_id":"cloigihyd000wrmf3d8st11s9","category_id":"cloigii1z0051rmf3hzxy77yq","_id":"cloigii2i006trmf34u6m5lyo"},{"post_id":"cloigihyh0010rmf31y0lfr62","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2j006wrmf35tkkexua"},{"post_id":"cloigihyh0010rmf31y0lfr62","category_id":"cloigii1z0051rmf3hzxy77yq","_id":"cloigii2k006xrmf35ji3bhz6"},{"post_id":"cloigihyi0012rmf3164f356m","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii2m0070rmf324t0gglc"},{"post_id":"cloigihyi0012rmf3164f356m","category_id":"cloigii1z0051rmf3hzxy77yq","_id":"cloigii2t0073rmf36couc5oo"},{"post_id":"cloigihyk0016rmf32uf8fms0","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii2u0077rmf3bf1daxwg"},{"post_id":"cloigihyk0016rmf32uf8fms0","category_id":"cloigii2j006vrmf32wseai78","_id":"cloigii2v007armf339ty5vxf"},{"post_id":"cloigihyl0018rmf3al8g71yc","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii2w007drmf3gkgbffx7"},{"post_id":"cloigihyl0018rmf3al8g71yc","category_id":"cloigii2j006vrmf32wseai78","_id":"cloigii2x007grmf3aakpfh3v"},{"post_id":"cloigihym001armf35hfmbkv6","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii3c007jrmf313fgag2g"},{"post_id":"cloigihym001armf35hfmbkv6","category_id":"cloigii2j006vrmf32wseai78","_id":"cloigii3d007lrmf32y46d059"},{"post_id":"cloigihyp001ermf355lu4e37","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii3e007nrmf3hw7s7byx"},{"post_id":"cloigihyp001ermf355lu4e37","category_id":"cloigii2j006vrmf32wseai78","_id":"cloigii3f007rrmf321ey537k"},{"post_id":"cloigihxs000hrmf3e6wv9kcy","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii4c007urmf30d2pc1b2"},{"post_id":"cloigihxs000hrmf3e6wv9kcy","category_id":"cloigii0l003lrmf354q1hdlq","_id":"cloigii4c007wrmf3eehl6zon"},{"post_id":"cloigihxs000hrmf3e6wv9kcy","category_id":"cloigii2x007irmf3bjel580u","_id":"cloigii4d007yrmf3aeqac0fw"},{"post_id":"cloigihxt000krmf3h56w38xj","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii4d0080rmf3aqgidr3v"},{"post_id":"cloigihxt000krmf3h56w38xj","category_id":"cloigii0l003lrmf354q1hdlq","_id":"cloigii4e0082rmf3gkj766cu"},{"post_id":"cloigihxt000krmf3h56w38xj","category_id":"cloigii2x007irmf3bjel580u","_id":"cloigii4e0086rmf36nr0fvva"},{"post_id":"cloigihxu000lrmf399dxau8c","category_id":"cloigihyr001hrmf3g5c68ao4","_id":"cloigii4f0088rmf3etmuddfg"},{"post_id":"cloigihxu000lrmf399dxau8c","category_id":"cloigii0l003lrmf354q1hdlq","_id":"cloigii4g008brmf338ulaw0s"},{"post_id":"cloigihxu000lrmf399dxau8c","category_id":"cloigii2x007irmf3bjel580u","_id":"cloigii4g008ermf33fj98li9"},{"post_id":"cloigii04002prmf30kycciag","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii4i008jrmf3694le11y"},{"post_id":"cloigii04002prmf30kycciag","category_id":"cloigii4d007xrmf3afmo5iy0","_id":"cloigii4j008mrmf3dmycco0b"},{"post_id":"cloigii04002prmf30kycciag","category_id":"cloigii4f0089rmf39w9201fe","_id":"cloigii4j008ormf3g4o6fwhf"},{"post_id":"cloigii06002rrmf37u4pdx7g","category_id":"cloigii08002xrmf348o726uy","_id":"cloigii4j008qrmf3ei3s7eca"},{"post_id":"cloigii06002rrmf37u4pdx7g","category_id":"cloigii4d007xrmf3afmo5iy0","_id":"cloigii4k008trmf3e4v98npd"},{"post_id":"cloigii06002rrmf37u4pdx7g","category_id":"cloigii4f0089rmf39w9201fe","_id":"cloigii4k008vrmf3aduu44vp"}],"PostTag":[{"post_id":"cloigihww0001rmf35dcu75b6","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigihxy000prmf39wfhghdy"},{"post_id":"cloigihww0001rmf35dcu75b6","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigihy0000srmf33i4q43jb"},{"post_id":"cloigihww0001rmf35dcu75b6","tag_id":"cloigihxt000jrmf3457u4lz1","_id":"cloigihyc000vrmf33vlh3f38"},{"post_id":"cloigihx90003rmf31m9fcage","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigihyt001lrmf3gn3y4e4d"},{"post_id":"cloigihx90003rmf31m9fcage","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigihyu001nrmf32qji8xsm"},{"post_id":"cloigihx90003rmf31m9fcage","tag_id":"cloigihye000zrmf3how75kme","_id":"cloigihyy001srmf323e216fp"},{"post_id":"cloigihx90003rmf31m9fcage","tag_id":"cloigihyk0015rmf39ixu17ze","_id":"cloigihz0001vrmf3b24l6j1b"},{"post_id":"cloigihx90003rmf31m9fcage","tag_id":"cloigihyo001crmf3as68feyd","_id":"cloigihz2001zrmf36i1mdv48"},{"post_id":"cloigihxf0007rmf3fuiteblu","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigihz80021rmf3e3o8hgj1"},{"post_id":"cloigihxf0007rmf3fuiteblu","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigihza0025rmf3elfj4pnu"},{"post_id":"cloigihxi0009rmf38s7i672f","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigihzl002brmf3fwhqe0eh"},{"post_id":"cloigihxi0009rmf38s7i672f","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigihzn002ermf3gv7434j2"},{"post_id":"cloigihxi0009rmf38s7i672f","tag_id":"cloigihz80022rmf39soj344a","_id":"cloigii00002irmf3eh935m9a"},{"post_id":"cloigihxl000brmf34540hehd","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii08002wrmf3ekt028el"},{"post_id":"cloigihxl000brmf34540hehd","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii09002yrmf30g1gejf9"},{"post_id":"cloigihxl000brmf34540hehd","tag_id":"cloigihzn002frmf31ce7b6jm","_id":"cloigii090030rmf3f2r40ah2"},{"post_id":"cloigihxl000brmf34540hehd","tag_id":"cloigii02002lrmf3dlmkc6tz","_id":"cloigii0e0032rmf37ry58zt8"},{"post_id":"cloigihxl000brmf34540hehd","tag_id":"cloigii05002qrmf3649j7zyp","_id":"cloigii0f0034rmf38df964ak"},{"post_id":"cloigihxl000brmf34540hehd","tag_id":"cloigii07002trmf3a14bfxty","_id":"cloigii0f0036rmf36r059apo"},{"post_id":"cloigihxq000frmf3ev6511i2","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii0g0038rmf3bm28fjem"},{"post_id":"cloigihxq000frmf3ev6511i2","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii0i003armf32mv3cxfv"},{"post_id":"cloigihxq000frmf3ev6511i2","tag_id":"cloigii08002vrmf3a0h97r0j","_id":"cloigii0i003crmf392rr0nur"},{"post_id":"cloigihxs000hrmf3e6wv9kcy","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii0j003ermf3azuo4bir"},{"post_id":"cloigihxs000hrmf3e6wv9kcy","tag_id":"cloigii09002zrmf362v37zl5","_id":"cloigii0j003frmf3eboldhy4"},{"post_id":"cloigihxs000hrmf3e6wv9kcy","tag_id":"cloigii0e0033rmf3huj8dhgs","_id":"cloigii0k003irmf39qsf5f20"},{"post_id":"cloigihxt000krmf3h56w38xj","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii0k003jrmf345o3ai5p"},{"post_id":"cloigihxt000krmf3h56w38xj","tag_id":"cloigii09002zrmf362v37zl5","_id":"cloigii0l003nrmf3a4zzajoh"},{"post_id":"cloigihxt000krmf3h56w38xj","tag_id":"cloigii0i003brmf38sa5bs4o","_id":"cloigii0l003ormf39glef69g"},{"post_id":"cloigihxu000lrmf399dxau8c","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii0m003srmf3928o6irl"},{"post_id":"cloigihxu000lrmf399dxau8c","tag_id":"cloigii09002zrmf362v37zl5","_id":"cloigii0m003trmf3h5zjcyvg"},{"post_id":"cloigihxu000lrmf399dxau8c","tag_id":"cloigii0l003krmf31gxr0qw2","_id":"cloigii0n003wrmf3ebca3zco"},{"post_id":"cloigihxx000ormf3g8u0fq79","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii0o0040rmf3f6zohikk"},{"post_id":"cloigihxx000ormf3g8u0fq79","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii0p0041rmf371t6f2lq"},{"post_id":"cloigihxx000ormf3g8u0fq79","tag_id":"cloigii0n003urmf3c98ladxd","_id":"cloigii0q0045rmf3gwvl0aq8"},{"post_id":"cloigihxy000qrmf38ks9hvsi","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii0t0049rmf3890ydfb6"},{"post_id":"cloigihxy000qrmf38ks9hvsi","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii0t004armf383pcctps"},{"post_id":"cloigihxy000qrmf38ks9hvsi","tag_id":"cloigii0n003urmf3c98ladxd","_id":"cloigii0x004ermf31cyucosz"},{"post_id":"cloigihyc000urmf37gwrchf3","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii12004jrmf3a7v08q1o"},{"post_id":"cloigihyc000urmf37gwrchf3","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii13004lrmf3g4ejhrcv"},{"post_id":"cloigihyc000urmf37gwrchf3","tag_id":"cloigii0n003urmf3c98ladxd","_id":"cloigii14004prmf31eo31cmg"},{"post_id":"cloigihyd000wrmf3d8st11s9","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii15004urmf3g4mvd1f3"},{"post_id":"cloigihyd000wrmf3d8st11s9","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii16004wrmf36lz4cd63"},{"post_id":"cloigihyd000wrmf3d8st11s9","tag_id":"cloigii0n003urmf3c98ladxd","_id":"cloigii1y004zrmf375xx26kl"},{"post_id":"cloigihyh0010rmf31y0lfr62","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii200053rmf3fssq4aho"},{"post_id":"cloigihyh0010rmf31y0lfr62","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii200055rmf39537hn14"},{"post_id":"cloigihyh0010rmf31y0lfr62","tag_id":"cloigii0n003urmf3c98ladxd","_id":"cloigii210058rmf346b22fw2"},{"post_id":"cloigihyi0012rmf3164f356m","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii22005crmf37be744ct"},{"post_id":"cloigihyi0012rmf3164f356m","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii22005frmf3hjtd39bd"},{"post_id":"cloigihyi0012rmf3164f356m","tag_id":"cloigii0n003urmf3c98ladxd","_id":"cloigii23005irmf388dzacki"},{"post_id":"cloigihyk0016rmf32uf8fms0","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii26005trmf30lpiddyw"},{"post_id":"cloigihyk0016rmf32uf8fms0","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii27005vrmf3fefyho1r"},{"post_id":"cloigihyk0016rmf32uf8fms0","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii2a005zrmf32wsebvha"},{"post_id":"cloigihyk0016rmf32uf8fms0","tag_id":"cloigii24005mrmf3epnvar7j","_id":"cloigii2b0061rmf3cedy2zp1"},{"post_id":"cloigihyl0018rmf3al8g71yc","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii2d0068rmf3a6l9de7s"},{"post_id":"cloigihyl0018rmf3al8g71yc","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii2d006brmf360fr59zr"},{"post_id":"cloigihyl0018rmf3al8g71yc","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii2e006drmf3c1pa5r46"},{"post_id":"cloigihyl0018rmf3al8g71yc","tag_id":"cloigii24005mrmf3epnvar7j","_id":"cloigii2e006grmf33tf4hnvd"},{"post_id":"cloigihym001armf35hfmbkv6","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii2g006lrmf3dhph4h6y"},{"post_id":"cloigihym001armf35hfmbkv6","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii2h006nrmf3155ocob8"},{"post_id":"cloigihym001armf35hfmbkv6","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii2h006prmf36t5kflqe"},{"post_id":"cloigihym001armf35hfmbkv6","tag_id":"cloigii24005mrmf3epnvar7j","_id":"cloigii2i006srmf3e6ic8kcu"},{"post_id":"cloigihyp001ermf355lu4e37","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii2m006zrmf3gbxi088d"},{"post_id":"cloigihyp001ermf355lu4e37","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii2t0072rmf3eiqtgltk"},{"post_id":"cloigihyp001ermf355lu4e37","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii2u0075rmf39hfhh9r8"},{"post_id":"cloigihyp001ermf355lu4e37","tag_id":"cloigii24005mrmf3epnvar7j","_id":"cloigii2v0078rmf35n7yg6gh"},{"post_id":"cloigihyq001frmf3a4ef82fo","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii2w007brmf3esae7rdq"},{"post_id":"cloigihyq001frmf3a4ef82fo","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii2w007ermf3ceakhkmb"},{"post_id":"cloigihyq001frmf3a4ef82fo","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii2x007hrmf36vl455r0"},{"post_id":"cloigihyt001jrmf32zvkbyzp","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii3d007mrmf3g328bsd2"},{"post_id":"cloigihyt001jrmf32zvkbyzp","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii3e007prmf3hclm67sf"},{"post_id":"cloigihyt001jrmf32zvkbyzp","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii4b007srmf3hndoe63q"},{"post_id":"cloigihyu001mrmf33gf6hgko","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii4e0081rmf3em75h8cy"},{"post_id":"cloigihyu001mrmf33gf6hgko","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii4e0084rmf3ckkcetnp"},{"post_id":"cloigihyu001mrmf33gf6hgko","tag_id":"cloigii0m003prmf3d1550mqn","_id":"cloigii4f0087rmf38klof4p9"},{"post_id":"cloigihyu001mrmf33gf6hgko","tag_id":"cloigii4c007vrmf3592jann1","_id":"cloigii4f008armf3et774s6z"},{"post_id":"cloigihyv001rrmf3bwf9fo6c","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii4g008drmf34f5lhpmj"},{"post_id":"cloigihyv001rrmf3bwf9fo6c","tag_id":"cloigii07002trmf3a14bfxty","_id":"cloigii4h008grmf3c74m282b"},{"post_id":"cloigihyz001urmf3845ccjyb","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii4i008irmf38aok2rqq"},{"post_id":"cloigihyz001urmf3845ccjyb","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii4i008krmf35pd7dtj1"},{"post_id":"cloigihyz001urmf3845ccjyb","tag_id":"cloigii4e0085rmf3cjef8vfj","_id":"cloigii4j008nrmf3huvxcijv"},{"post_id":"cloigihyz001urmf3845ccjyb","tag_id":"cloigii4g008crmf3h0vq6c7j","_id":"cloigii4j008prmf3brbcbw7n"},{"post_id":"cloigihz1001yrmf37c9ybvtv","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii4k008srmf39qeq2rjv"},{"post_id":"cloigihz1001yrmf37c9ybvtv","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii4k008urmf3axkx96bi"},{"post_id":"cloigihz1001yrmf37c9ybvtv","tag_id":"cloigii4e0085rmf3cjef8vfj","_id":"cloigii4l008xrmf3cxes1ikv"},{"post_id":"cloigihz1001yrmf37c9ybvtv","tag_id":"cloigii4i008lrmf3abee5swo","_id":"cloigii6h008yrmf3613746pz"},{"post_id":"cloigihz70020rmf3dafk51zj","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii6j0090rmf37o3ob47y"},{"post_id":"cloigihz70020rmf3dafk51zj","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii6k0091rmf36l4b1ygf"},{"post_id":"cloigihz70020rmf3dafk51zj","tag_id":"cloigii4e0085rmf3cjef8vfj","_id":"cloigii6l0093rmf39mau8uk8"},{"post_id":"cloigihz90024rmf374g5e0yj","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii6m0095rmf3duqwafm0"},{"post_id":"cloigihz90024rmf374g5e0yj","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii6m0096rmf3fqin70zs"},{"post_id":"cloigihz90024rmf374g5e0yj","tag_id":"cloigii08002vrmf3a0h97r0j","_id":"cloigii6q0098rmf3gdhe4x09"},{"post_id":"cloigihz90024rmf374g5e0yj","tag_id":"cloigii6h008zrmf38y1cej4m","_id":"cloigii6r0099rmf3exoxe31t"},{"post_id":"cloigihz90024rmf374g5e0yj","tag_id":"cloigii6k0092rmf345bf0gbi","_id":"cloigii6w009brmf39ls6fkql"},{"post_id":"cloigihza0026rmf37yjk16jk","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii73009crmf3b7jbatuo"},{"post_id":"cloigihza0026rmf37yjk16jk","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii75009ermf3hjf4eyhz"},{"post_id":"cloigihza0026rmf37yjk16jk","tag_id":"cloigii08002vrmf3a0h97r0j","_id":"cloigii75009frmf3d3g3f50k"},{"post_id":"cloigihzc002armf35cev8hbb","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii77009hrmf3dhi0c27p"},{"post_id":"cloigihzc002armf35cev8hbb","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii77009irmf32gm18u2l"},{"post_id":"cloigihzc002armf35cev8hbb","tag_id":"cloigii08002vrmf3a0h97r0j","_id":"cloigii78009krmf350rxhtnq"},{"post_id":"cloigihzm002drmf35ybxhpki","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii78009lrmf3blkg2aje"},{"post_id":"cloigihzm002drmf35ybxhpki","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii79009nrmf35fhsd9dt"},{"post_id":"cloigihzm002drmf35ybxhpki","tag_id":"cloigii08002vrmf3a0h97r0j","_id":"cloigii7v009ormf34x6gewvv"},{"post_id":"cloigihzn002hrmf3d86x8der","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii7v009qrmf36h93gtn1"},{"post_id":"cloigihzn002hrmf3d86x8der","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii7w009rrmf3an8r27gw"},{"post_id":"cloigihzn002hrmf3d86x8der","tag_id":"cloigii08002vrmf3a0h97r0j","_id":"cloigii7w009trmf3108b3h4s"},{"post_id":"cloigihzn002hrmf3d86x8der","tag_id":"cloigii6h008zrmf38y1cej4m","_id":"cloigii7w009urmf3ags961sb"},{"post_id":"cloigihzn002hrmf3d86x8der","tag_id":"cloigii77009jrmf3a9te0429","_id":"cloigii7x009wrmf3gdcf8c5f"},{"post_id":"cloigii00002jrmf39rif4dtp","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii7x009xrmf33inl61wy"},{"post_id":"cloigii00002jrmf39rif4dtp","tag_id":"cloigii78009mrmf3gjq9gkt8","_id":"cloigii7y009yrmf369sdgzeo"},{"post_id":"cloigii00002jrmf39rif4dtp","tag_id":"cloigii7v009prmf32646817f","_id":"cloigii7z00a0rmf3djg175n5"},{"post_id":"cloigii02002mrmf33v786udm","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii7z00a1rmf37l424yd6"},{"post_id":"cloigii02002mrmf33v786udm","tag_id":"cloigii78009mrmf3gjq9gkt8","_id":"cloigii8000a3rmf32vce9x1r"},{"post_id":"cloigii02002mrmf33v786udm","tag_id":"cloigii7x009vrmf320sv5eeg","_id":"cloigii8000a4rmf39xgfaqkn"},{"post_id":"cloigii03002nrmf3ga55221w","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii8100a6rmf3ce7hbyon"},{"post_id":"cloigii03002nrmf3ga55221w","tag_id":"cloigihxm000drmf34v0v6nmc","_id":"cloigii8200a7rmf3gfa92vvo"},{"post_id":"cloigii03002nrmf3ga55221w","tag_id":"cloigii7y009zrmf36xw3gakp","_id":"cloigii8300a9rmf371y85js7"},{"post_id":"cloigii04002prmf30kycciag","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii8500abrmf30bncflsm"},{"post_id":"cloigii04002prmf30kycciag","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii8500acrmf39tuofoxd"},{"post_id":"cloigii04002prmf30kycciag","tag_id":"cloigii07002trmf3a14bfxty","_id":"cloigii8700aermf33rpebkja"},{"post_id":"cloigii04002prmf30kycciag","tag_id":"cloigii8200a8rmf334w83p3x","_id":"cloigii8700afrmf34n4o97gm"},{"post_id":"cloigii06002rrmf37u4pdx7g","tag_id":"cloigihxe0005rmf37zzrgjho","_id":"cloigii8800ahrmf39sqchraf"},{"post_id":"cloigii06002rrmf37u4pdx7g","tag_id":"cloigii21005brmf3aunueckh","_id":"cloigii8800airmf3asfn6enr"},{"post_id":"cloigii06002rrmf37u4pdx7g","tag_id":"cloigii07002trmf3a14bfxty","_id":"cloigii8800ajrmf39knude2j"},{"post_id":"cloigii06002rrmf37u4pdx7g","tag_id":"cloigii8200a8rmf334w83p3x","_id":"cloigii8800akrmf3ch2th212"}],"Tag":[{"name":"","_id":"cloigihxe0005rmf37zzrgjho"},{"name":"","_id":"cloigihxm000drmf34v0v6nmc"},{"name":"","_id":"cloigihxt000jrmf3457u4lz1"},{"name":"RESTful","_id":"cloigihye000zrmf3how75kme"},{"name":"RPC","_id":"cloigihyk0015rmf39ixu17ze"},{"name":"HTTP","_id":"cloigihyo001crmf3as68feyd"},{"name":"GUI","_id":"cloigihz80022rmf39soj344a"},{"name":"cookies","_id":"cloigihzn002frmf31ce7b6jm"},{"name":"localStorage","_id":"cloigii02002lrmf3dlmkc6tz"},{"name":"sessionStorage","_id":"cloigii05002qrmf3649j7zyp"},{"name":"TypeScript","_id":"cloigii07002trmf3a14bfxty"},{"name":"","_id":"cloigii08002vrmf3a0h97r0j"},{"name":"Hexo","_id":"cloigii09002zrmf362v37zl5"},{"name":"Pagination","_id":"cloigii0e0033rmf3huj8dhgs"},{"name":"ReadMore","_id":"cloigii0i003brmf38sa5bs4o"},{"name":"RSS","_id":"cloigii0l003krmf31gxr0qw2"},{"name":"JavaScript","_id":"cloigii0m003prmf3d1550mqn"},{"name":"es6","_id":"cloigii0n003urmf3c98ladxd"},{"name":"react","_id":"cloigii21005brmf3aunueckh"},{"name":"Fiber","_id":"cloigii24005mrmf3epnvar7j"},{"name":"JSX","_id":"cloigii4c007vrmf3592jann1"},{"name":"","_id":"cloigii4e0085rmf3cjef8vfj"},{"name":"CSRF","_id":"cloigii4g008crmf3h0vq6c7j"},{"name":"XSS","_id":"cloigii4i008lrmf3abee5swo"},{"name":"Webpack","_id":"cloigii6h008zrmf38y1cej4m"},{"name":"","_id":"cloigii6k0092rmf345bf0gbi"},{"name":"","_id":"cloigii77009jrmf3a9te0429"},{"name":"npm","_id":"cloigii78009mrmf3gjq9gkt8"},{"name":"nrm","_id":"cloigii7v009prmf32646817f"},{"name":"nvm","_id":"cloigii7x009vrmf320sv5eeg"},{"name":"WebPack","_id":"cloigii7y009zrmf36xw3gakp"},{"name":"unstate-next","_id":"cloigii8200a8rmf334w83p3x"}]}}